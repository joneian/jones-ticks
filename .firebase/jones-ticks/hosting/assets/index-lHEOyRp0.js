(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var zd={exports:{}},To={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function iS(){if(E_)return To;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:r,key:f,ref:l!==void 0?l:null,props:u}}return To.Fragment=t,To.jsx=n,To.jsxs=n,To}var T_;function rS(){return T_||(T_=1,zd.exports=iS()),zd.exports}var Yt=rS(),Ld={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function sS(){if(A_)return bt;A_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function X(V,Z,ht){this.props=V,this.context=Z,this.refs=J,this.updater=ht||q}X.prototype.isReactComponent={},X.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=X.prototype;function ot(V,Z,ht){this.props=V,this.context=Z,this.refs=J,this.updater=ht||q}var st=ot.prototype=new yt;st.constructor=ot,Y(st,X.prototype),st.isPureReactComponent=!0;var Rt=Array.isArray,ct={H:null,A:null,T:null,S:null},_t=Object.prototype.hasOwnProperty;function x(V,Z,ht,nt,it,wt){return ht=wt.ref,{$$typeof:a,type:V,key:Z,ref:ht!==void 0?ht:null,props:wt}}function w(V,Z){return x(V.type,Z,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function D(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return Z[ht]})}var O=/\/+/g;function z(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Z.toString(36)}function I(){}function Ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ge(V,Z,ht,nt,it){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(wt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case a:case t:St=!0;break;case A:return St=V._init,ge(St(V._payload),Z,ht,nt,it)}}if(St)return it=it(V),St=nt===""?"."+z(V,0):nt,Rt(it)?(ht="",St!=null&&(ht=St.replace(O,"$&/")+"/"),ge(it,Z,ht,"",function(le){return le})):it!=null&&(S(it)&&(it=w(it,ht+(it.key==null||V&&V.key===it.key?"":(""+it.key).replace(O,"$&/")+"/")+St)),Z.push(it)),1;St=0;var pe=nt===""?".":nt+":";if(Rt(V))for(var Lt=0;Lt<V.length;Lt++)nt=V[Lt],wt=pe+z(nt,Lt),St+=ge(nt,Z,ht,wt,it);else if(Lt=M(V),typeof Lt=="function")for(V=Lt.call(V),Lt=0;!(nt=V.next()).done;)nt=nt.value,wt=pe+z(nt,Lt++),St+=ge(nt,Z,ht,wt,it);else if(wt==="object"){if(typeof V.then=="function")return ge(Ae(V),Z,ht,nt,it);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return St}function tt(V,Z,ht){if(V==null)return V;var nt=[],it=0;return ge(V,nt,"","",function(wt){return Z.call(ht,wt,it++)}),nt}function vt(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return bt.Children={map:tt,forEach:function(V,Z,ht){tt(V,function(){Z.apply(this,arguments)},ht)},count:function(V){var Z=0;return tt(V,function(){Z++}),Z},toArray:function(V){return tt(V,function(Z){return Z})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=X,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=ot,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,Z,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=Y({},V.props),it=V.key,wt=void 0;if(Z!=null)for(St in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(it=""+Z.key),Z)!_t.call(Z,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Z.ref===void 0||(nt[St]=Z[St]);var St=arguments.length-2;if(St===1)nt.children=ht;else if(1<St){for(var pe=Array(St),Lt=0;Lt<St;Lt++)pe[Lt]=arguments[Lt+2];nt.children=pe}return x(V.type,it,void 0,void 0,wt,nt)},bt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},bt.createElement=function(V,Z,ht){var nt,it={},wt=null;if(Z!=null)for(nt in Z.key!==void 0&&(wt=""+Z.key),Z)_t.call(Z,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(it[nt]=Z[nt]);var St=arguments.length-2;if(St===1)it.children=ht;else if(1<St){for(var pe=Array(St),Lt=0;Lt<St;Lt++)pe[Lt]=arguments[Lt+2];it.children=pe}if(V&&V.defaultProps)for(nt in St=V.defaultProps,St)it[nt]===void 0&&(it[nt]=St[nt]);return x(V,wt,void 0,void 0,null,it)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=S,bt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:vt}},bt.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},bt.startTransition=function(V){var Z=ct.T,ht={};ct.T=ht;try{var nt=V(),it=ct.S;it!==null&&it(ht,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(jt,mt)}catch(wt){mt(wt)}finally{ct.T=Z}},bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},bt.use=function(V){return ct.H.use(V)},bt.useActionState=function(V,Z,ht){return ct.H.useActionState(V,Z,ht)},bt.useCallback=function(V,Z){return ct.H.useCallback(V,Z)},bt.useContext=function(V){return ct.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,Z){return ct.H.useDeferredValue(V,Z)},bt.useEffect=function(V,Z){return ct.H.useEffect(V,Z)},bt.useId=function(){return ct.H.useId()},bt.useImperativeHandle=function(V,Z,ht){return ct.H.useImperativeHandle(V,Z,ht)},bt.useInsertionEffect=function(V,Z){return ct.H.useInsertionEffect(V,Z)},bt.useLayoutEffect=function(V,Z){return ct.H.useLayoutEffect(V,Z)},bt.useMemo=function(V,Z){return ct.H.useMemo(V,Z)},bt.useOptimistic=function(V,Z){return ct.H.useOptimistic(V,Z)},bt.useReducer=function(V,Z,ht){return ct.H.useReducer(V,Z,ht)},bt.useRef=function(V){return ct.H.useRef(V)},bt.useState=function(V){return ct.H.useState(V)},bt.useSyncExternalStore=function(V,Z,ht){return ct.H.useSyncExternalStore(V,Z,ht)},bt.useTransition=function(){return ct.H.useTransition()},bt.version="19.0.0",bt}var S_;function Dm(){return S_||(S_=1,Ld.exports=sS()),Ld.exports}var Bo=Dm(),Bd={exports:{}},Ao={},kd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function aS(){return b_||(b_=1,function(a){function t(tt,vt){var mt=tt.length;tt.push(vt);t:for(;0<mt;){var jt=mt-1>>>1,V=tt[jt];if(0<l(V,vt))tt[jt]=vt,tt[mt]=V,mt=jt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var vt=tt[0],mt=tt.pop();if(mt!==vt){tt[0]=mt;t:for(var jt=0,V=tt.length,Z=V>>>1;jt<Z;){var ht=2*(jt+1)-1,nt=tt[ht],it=ht+1,wt=tt[it];if(0>l(nt,mt))it<V&&0>l(wt,nt)?(tt[jt]=wt,tt[it]=mt,jt=it):(tt[jt]=nt,tt[ht]=mt,jt=ht);else if(it<V&&0>l(wt,mt))tt[jt]=wt,tt[it]=mt,jt=it;else break t}}return vt}function l(tt,vt){var mt=tt.sortIndex-vt.sortIndex;return mt!==0?mt:tt.id-vt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],y=[],A=1,b=null,M=3,q=!1,Y=!1,J=!1,X=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function st(tt){for(var vt=n(y);vt!==null;){if(vt.callback===null)r(y);else if(vt.startTime<=tt)r(y),vt.sortIndex=vt.expirationTime,t(p,vt);else break;vt=n(y)}}function Rt(tt){if(J=!1,st(tt),!Y)if(n(p)!==null)Y=!0,Ae();else{var vt=n(y);vt!==null&&ge(Rt,vt.startTime-tt)}}var ct=!1,_t=-1,x=5,w=-1;function S(){return!(a.unstable_now()-w<x)}function D(){if(ct){var tt=a.unstable_now();w=tt;var vt=!0;try{t:{Y=!1,J&&(J=!1,yt(_t),_t=-1),q=!0;var mt=M;try{e:{for(st(tt),b=n(p);b!==null&&!(b.expirationTime>tt&&S());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,M=b.priorityLevel;var V=jt(b.expirationTime<=tt);if(tt=a.unstable_now(),typeof V=="function"){b.callback=V,st(tt),vt=!0;break e}b===n(p)&&r(p),st(tt)}else r(p);b=n(p)}if(b!==null)vt=!0;else{var Z=n(y);Z!==null&&ge(Rt,Z.startTime-tt),vt=!1}}break t}finally{b=null,M=mt,q=!1}vt=void 0}}finally{vt?O():ct=!1}}}var O;if(typeof ot=="function")O=function(){ot(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=D,O=function(){I.postMessage(null)}}else O=function(){X(D,0)};function Ae(){ct||(ct=!0,O())}function ge(tt,vt){_t=X(function(){tt(a.unstable_now())},vt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(tt){tt.callback=null},a.unstable_continueExecution=function(){Y||q||(Y=!0,Ae())},a.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<tt?Math.floor(1e3/tt):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_getFirstCallbackNode=function(){return n(p)},a.unstable_next=function(tt){switch(M){case 1:case 2:case 3:var vt=3;break;default:vt=M}var mt=M;M=vt;try{return tt()}finally{M=mt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(tt,vt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var mt=M;M=tt;try{return vt()}finally{M=mt}},a.unstable_scheduleCallback=function(tt,vt,mt){var jt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,tt){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,tt={id:A++,callback:vt,priorityLevel:tt,startTime:mt,expirationTime:V,sortIndex:-1},mt>jt?(tt.sortIndex=mt,t(y,tt),n(p)===null&&tt===n(y)&&(J?(yt(_t),_t=-1):J=!0,ge(Rt,mt-jt))):(tt.sortIndex=V,t(p,tt),Y||q||(Y=!0,Ae())),tt},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(tt){var vt=M;return function(){var mt=M;M=vt;try{return tt.apply(this,arguments)}finally{M=mt}}}}(qd)),qd}var R_;function lS(){return R_||(R_=1,kd.exports=aS()),kd.exports}var jd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function oS(){if(w_)return Ke;w_=1;var a=Dm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:A}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(p,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,A)},Ke.flushSync=function(p){var y=f.T,A=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=A,r.d.f()}},Ke.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Ke.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ke.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var A=y.as,b=m(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:q}):A==="script"&&r.d.X(p,{crossOrigin:b,integrity:M,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Ke.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=m(A,y.crossOrigin);r.d.L(p,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(p,y){if(typeof p=="string")if(y){var A=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Ke.requestFormReset=function(p){r.d.r(p)},Ke.unstable_batchedUpdates=function(p,y){return p(y)},Ke.useFormState=function(p,y,A){return f.H.useFormState(p,y,A)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var I_;function uS(){if(I_)return jd.exports;I_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),jd.exports=oS(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function cS(){if(D_)return Ao;D_=1;var a=lS(),t=Dm(),n=uS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),Rt=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function _t(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case A:return"Profiler";case y:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case Y:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case ot:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,z;function I(e){if(O===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+e+z}var Ae=!1;function ge(e,i){if(!e||Ae)return"";Ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var k=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){k=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){k=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),N=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===N.length)for(o=R.length-1,h=N.length-1;1<=o&&0<=h&&R[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==N[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ae=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?I(s):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function vt(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function mt(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function jt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function V(e){if(mt(e)!==e)throw Error(r(188))}function Z(e){var i=e.alternate;if(!i){if(i=mt(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,o=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return V(h),e;if(d===o)return V(h),i;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===s){v=!0,s=h,o=d;break}if(E===o){v=!0,o=h,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,o=h;break}if(E===o){v=!0,o=d,s=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var nt=Array.isArray,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},St=[],pe=-1;function Lt(e){return{current:e}}function le(e){0>pe||(e.current=St[pe],St[pe]=null,pe--)}function Gt(e,i){pe++,St[pe]=e.current,e.current=i}var Ze=Lt(null),mi=Lt(null),En=Lt(null),Ki=Lt(null);function Qi(e,i){switch(Gt(En,i),Gt(mi,e),Gt(Ze,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Xy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Xy(e),i=Zy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(Ze),Gt(Ze,i)}function gi(){le(Ze),le(mi),le(En)}function gl(e){e.memoizedState!==null&&Gt(Ki,e);var i=Ze.current,s=Zy(i,e.type);i!==s&&(Gt(mi,e),Gt(Ze,s))}function Fs(e){mi.current===e&&(le(Ze),le(mi)),Ki.current===e&&(le(Ki),po._currentValue=wt)}var Ks=Object.prototype.hasOwnProperty,Fr=a.unstable_scheduleCallback,Qs=a.unstable_cancelCallback,Lh=a.unstable_shouldYield,pl=a.unstable_requestPaint,sn=a.unstable_now,cu=a.unstable_getCurrentPriorityLevel,Se=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,pi=a.unstable_NormalPriority,hu=a.unstable_LowPriority,yl=a.unstable_IdlePriority,Bh=a.log,Kr=a.unstable_setDisableYieldValue,Yi=null,Ge=null;function _l(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Yi,e,void 0,(e.current.flags&128)===128)}catch{}}function Yn(e){if(typeof Bh=="function"&&Kr(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Yi,e)}catch{}}var $e=Math.clz32?Math.clz32:du,vl=Math.log,fu=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(vl(e)/fu|0)|0}var Xn=128,Xi=4194304;function qn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~h,s!==0?o=qn(s):(d&=E,d!==0?o=qn(d):e||(v=E&~v,v!==0&&(o=qn(v))))):(E=s&~h,E!==0?o=qn(E):d!==0?o=qn(d):e||(v=s&~v,v!==0&&(o=qn(v)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function Zi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ys(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(){var e=Xn;return Xn<<=1,!(Xn&4194176)&&(Xn=128),e}function $i(){var e=Xi;return Xi<<=1,!(Xi&62914560)&&(Xi=4194304),e}function Xs(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mu(e,i,s,o,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,N=e.hiddenUpdates;for(s=v&~s;0<s;){var G=31-$e(s),Q=1<<G;E[G]=0,R[G]=-1;var k=N[G];if(k!==null)for(N[G]=null,G=0;G<k.length;G++){var H=k[G];H!==null&&(H.lane&=-536870913)}s&=~Q}o!==0&&Ji(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Ji(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-$e(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194218}function Wi(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-$e(s),h=1<<o;h&i|e[o]&i&&(e[o]|=i),s&=~h}}function gu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function pu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function tr(e,i){var s=it.p;try{return it.p=e,i()}finally{it.p=s}}var Zn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Zn,be="__reactProps$"+Zn,yi="__reactContainer$"+Zn,Qr="__reactEvents$"+Zn,Zs="__reactListeners$"+Zn,$n="__reactHandles$"+Zn,Tl="__reactResources$"+Zn,er="__reactMarker$"+Zn;function Yr(e){delete e[xe],delete e[be],delete e[Qr],delete e[Zs],delete e[$n]}function jn(e){var i=e[xe];if(i)return i;for(var s=e.parentNode;s;){if(i=s[yi]||s[xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Wy(e);e!==null;){if(s=e[xe])return s;e=Wy(e)}return i}e=s,s=e.parentNode}return null}function _i(e){if(e=e[xe]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function nr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function ir(e){var i=e[Tl];return i||(i=e[Tl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(e){e[er]=!0}var Al=new Set,$s={};function un(e,i){an(e,i),an(e+"Capture",i)}function an(e,i){for($s[e]=i,e=0;e<i.length;e++)Al.add(i[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},bl={};function yu(e){return Ks.call(bl,e)?!0:Ks.call(Sl,e)?!1:kh.test(e)?bl[e]=!0:(Sl[e]=!0,!1)}function rr(e,i,s){if(yu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function sr(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function An(e,i,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+o)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qh(e){var i=_u(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Xr(e){e._valueTracker||(e._valueTracker=qh(e))}function Rl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=_u(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vi=/[\n"\\]/g;function oe(e){return e.replace(vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ar(e,i,s,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ws(e,v,Je(i)):s!=null?Ws(e,v,Je(s)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function Zr(e,i,s,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Je(s):"",i=i!=null?""+Je(i):s,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ws(e,i,s){i==="number"&&Js(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Bt(e,i,s,o){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Je(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $r(e,i,s){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Je(s):""}function lr(e,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(r(92));if(nt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Je(i),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Sn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(e,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,s):typeof s!="number"||s===0||jh.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function vu(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&wl(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&wl(e,d,i[d])}function Il(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return Gh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bn=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function Ai(e){var i=_i(e);if(i&&(e=i.stateNode)){var s=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(ar(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+oe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var h=o[be]||null;if(!h)throw Error(r(90));ar(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===e.form&&Rl(o)}break t;case"textarea":$r(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Bt(e,!!s.multiple,i,!1)}}}var Dl=!1;function Eu(e,i,s){if(Dl)return e(i,s);Dl=!0;try{var o=e(i);return o}finally{if(Dl=!1,(Ei!==null||Ti!==null)&&(hc(),Ei&&(i=Ei,e=Ti,Ti=Ei=null,Ai(i),e)))for(i=0;i<e.length;i++)Ai(e[i])}}function Jr(e,i){var s=e.stateNode;if(s===null)return null;var o=s[be]||null;if(o===null)return null;s=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Rn=!1;if(cn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Rn=!1}var Wn=null,or=null,Si=null;function Vl(){if(Si)return Si;var e,i=or,s=i.length,o,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var v=s-e;for(o=1;o<=v&&i[s-o]===h[d-o];o++);return Si=h.slice(e,1<o?1-o:void 0)}function ti(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function Cl(){return!1}function Ne(e){function i(s,o,h,d,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ei:Cl,this.isPropagationStopped=Cl,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ne(Ht),ts=D({},Ht,{view:0,detail:0}),Tu=Ne(ts),na,ia,ni,es=D({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(na=e.screenX-ni.screenX,ia=e.screenY-ni.screenY):ia=na=0,ni=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),wn=Ne(es),Au=D({},es,{dataTransfer:0}),Fh=Ne(Au),ns=D({},ts,{relatedTarget:0}),ra=Ne(ns),xl=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Ne(xl),Su=D({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Ne(Su),Kh=D({},Ht,{data:0}),Nl=Ne(Kh),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function rs(){return Ol}var wu=D({},ts,{key:function(e){if(e.key){var i=is[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),la=Ne(wu),Iu=D({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Ne(Iu),bi=D({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Du=Ne(bi),Vu=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Ne(Vu),xu=D({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Ne(xu),We=D({},Ht,{newState:0,oldState:0}),Nu=Ne(We),Ou=[9,13,27,32],ii=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var g=cn&&"TextEvent"in window&&!c,_=cn&&(!ii||c&&8<c&&11>=c),T=" ",U=!1;function j(e,i){switch(e){case"keyup":return Ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function Re(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function Mt(e,i){if(Ot)return e==="compositionend"||!ii&&j(e,i)?(e=Vl(),Si=or=Wn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function Ri(e,i,s,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,i=pc(i,"onChange"),0<i.length&&(s=new ea("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var Le=null,ri=null;function Pl(e){Gy(e,0)}function Mu(e){var i=nr(e);if(Rl(i))return e}function vg(e,i){if(e==="change")return i}var Eg=!1;if(cn){var Qh;if(cn){var Yh="oninput"in document;if(!Yh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Yh=typeof Tg.oninput=="function"}Qh=Yh}else Qh=!1;Eg=Qh&&(!document.documentMode||9<document.documentMode)}function Ag(){Le&&(Le.detachEvent("onpropertychange",Sg),ri=Le=null)}function Sg(e){if(e.propertyName==="value"&&Mu(ri)){var i=[];Ri(i,ri,e,ta(e)),Eu(Pl,i)}}function O0(e,i,s){e==="focusin"?(Ag(),Le=i,ri=s,Le.attachEvent("onpropertychange",Sg)):e==="focusout"&&Ag()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(ri)}function P0(e,i){if(e==="click")return Mu(i)}function U0(e,i){if(e==="input"||e==="change")return Mu(i)}function z0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:z0;function Ul(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ks.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,i){var s=bg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=bg(s)}}function wg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?wg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Js(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Js(e.document)}return i}function Xh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function L0(e,i){var s=Ig(i);i=e.focusedElem;var o=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&wg(i.ownerDocument.documentElement,i)){if(o!==null&&Xh(i)){if(e=o.start,s=o.end,s===void 0&&(s=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(s,i.value.length);else if(s=(e=i.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!s.extend&&d>o&&(h=o,o=d,d=h),h=Rg(i,d);var v=Rg(i,o);h&&v&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>o?(s.addRange(e),s.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),s.addRange(e)))}}for(e=[],s=i;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)s=e[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var B0=cn&&"documentMode"in document&&11>=document.documentMode,ua=null,Zh=null,zl=null,$h=!1;function Dg(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$h||ua==null||ua!==Js(o)||(o=ua,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zl&&Ul(zl,o)||(zl=o,o=pc(Zh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=ua)))}function ss(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var ca={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Jh={},Vg={};cn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function as(e){if(Jh[e])return Jh[e];if(!ca[e])return e;var i=ca[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Vg)return Jh[e]=i[s];return e}var Cg=as("animationend"),xg=as("animationiteration"),Ng=as("animationstart"),k0=as("transitionrun"),q0=as("transitionstart"),j0=as("transitioncancel"),Og=as("transitionend"),Mg=new Map,Pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Hn(e,i){Mg.set(e,i),un(i,[e])}var In=[],ha=0,Wh=0;function Pu(){for(var e=ha,i=Wh=ha=0;i<e;){var s=In[i];In[i++]=null;var o=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Ug(s,h,d)}}function Uu(e,i,s,o){In[ha++]=e,In[ha++]=i,In[ha++]=s,In[ha++]=o,Wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function tf(e,i,s,o){return Uu(e,i,s,o),zu(e)}function ur(e,i){return Uu(e,null,null,i),zu(e)}function Ug(e,i,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=s|536870912)}function zu(e){if(50<oo)throw oo=0,ld=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var fa={},zg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var s=zg.get(e);return s!==void 0?s:(i={value:e,source:i,stack:vt(i)},zg.set(e,i),i)}return{value:e,source:i,stack:vt(i)}}var da=[],ma=0,Lu=null,Bu=0,Vn=[],Cn=0,ls=null,wi=1,Ii="";function os(e,i){da[ma++]=Bu,da[ma++]=Lu,Lu=e,Bu=i}function Lg(e,i,s){Vn[Cn++]=wi,Vn[Cn++]=Ii,Vn[Cn++]=ls,ls=e;var o=wi;e=Ii;var h=32-$e(o)-1;o&=~(1<<h),s+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-$e(i)+h|s<<h|o,Ii=d+e}else wi=1<<d|s<<h|o,Ii=e}function ef(e){e.return!==null&&(os(e,1),Lg(e,1,0))}function nf(e){for(;e===Lu;)Lu=da[--ma],da[ma]=null,Bu=da[--ma],da[ma]=null;for(;e===ls;)ls=Vn[--Cn],Vn[Cn]=null,Ii=Vn[--Cn],Vn[Cn]=null,wi=Vn[--Cn],Vn[Cn]=null}var tn=null,Be=null,kt=!1,Gn=null,si=!1,rf=Error(r(519));function us(e){var i=Error(r(418,""));throw kl(Dn(i,e)),rf}function Bg(e){var i=e.stateNode,s=e.type,o=e.memoizedProps;switch(i[xe]=e,i[be]=o,s){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(s=0;s<co.length;s++)xt(co[s],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),Zr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xr(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),lr(i,o.value,o.defaultValue,o.children),Xr(i)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||Yy(i.textContent,s)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=yc),i=!0):i=!1,i||us(e)}function kg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:si=!0;return;case 5:case 13:si=!1;return;default:tn=tn.return}}function Ll(e){if(e!==tn)return!1;if(!kt)return kg(e),kt=!0,!1;var i=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||bd(e.type,e.memoizedProps)),s=!s),s&&(i=!0),i&&Be&&us(e),kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Be=Kn(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Be=null}}else Be=tn?Kn(e.stateNode.nextSibling):null;return!0}function Bl(){Be=tn=null,kt=!1}function kl(e){Gn===null?Gn=[e]:Gn.push(e)}var ql=Error(r(460)),qg=Error(r(474)),sf={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(){}function Hg(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(ku,ku),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===ql?Error(r(483)):e;default:if(typeof i.status=="string")i.then(ku,ku);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===ql?Error(r(483)):e}throw jl=i,ql}}var jl=null;function Gg(){if(jl===null)throw Error(r(459));var e=jl;return jl=null,e}var ga=null,Hl=0;function qu(e){var i=Hl;return Hl+=1,ga===null&&(ga=[]),Hg(ga,e,i)}function Gl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ju(e,i){throw i.$$typeof===u?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Fg(e){var i=e._init;return i(e._payload)}function Kg(e){function i(P,C){if(e){var B=P.deletions;B===null?(P.deletions=[C],P.flags|=16):B.push(C)}}function s(P,C){if(!e)return null;for(;C!==null;)i(P,C),C=C.sibling;return null}function o(P){for(var C=new Map;P!==null;)P.key!==null?C.set(P.key,P):C.set(P.index,P),P=P.sibling;return C}function h(P,C){return P=Tr(P,C),P.index=0,P.sibling=null,P}function d(P,C,B){return P.index=B,e?(B=P.alternate,B!==null?(B=B.index,B<C?(P.flags|=33554434,C):B):(P.flags|=33554434,C)):(P.flags|=1048576,C)}function v(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,C,B,F){return C===null||C.tag!==6?(C=Wf(B,P.mode,F),C.return=P,C):(C=h(C,B),C.return=P,C)}function R(P,C,B,F){var rt=B.type;return rt===p?G(P,C,B.props.children,F,B.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ot&&Fg(rt)===C.type)?(C=h(C,B.props),Gl(C,B),C.return=P,C):(C=ac(B.type,B.key,B.props,null,P.mode,F),Gl(C,B),C.return=P,C)}function N(P,C,B,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==B.containerInfo||C.stateNode.implementation!==B.implementation?(C=td(B,P.mode,F),C.return=P,C):(C=h(C,B.children||[]),C.return=P,C)}function G(P,C,B,F,rt){return C===null||C.tag!==7?(C=vs(B,P.mode,F,rt),C.return=P,C):(C=h(C,B),C.return=P,C)}function Q(P,C,B){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Wf(""+C,P.mode,B),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return B=ac(C.type,C.key,C.props,null,P.mode,B),Gl(B,C),B.return=P,B;case m:return C=td(C,P.mode,B),C.return=P,C;case ot:var F=C._init;return C=F(C._payload),Q(P,C,B)}if(nt(C)||_t(C))return C=vs(C,P.mode,B,null),C.return=P,C;if(typeof C.then=="function")return Q(P,qu(C),B);if(C.$$typeof===q)return Q(P,ic(P,C),B);ju(P,C)}return null}function k(P,C,B,F){var rt=C!==null?C.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return rt!==null?null:E(P,C,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===rt?R(P,C,B,F):null;case m:return B.key===rt?N(P,C,B,F):null;case ot:return rt=B._init,B=rt(B._payload),k(P,C,B,F)}if(nt(B)||_t(B))return rt!==null?null:G(P,C,B,F,null);if(typeof B.then=="function")return k(P,C,qu(B),F);if(B.$$typeof===q)return k(P,C,ic(P,B),F);ju(P,B)}return null}function H(P,C,B,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(B)||null,E(C,P,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return P=P.get(F.key===null?B:F.key)||null,R(C,P,F,rt);case m:return P=P.get(F.key===null?B:F.key)||null,N(C,P,F,rt);case ot:var Vt=F._init;return F=Vt(F._payload),H(P,C,B,F,rt)}if(nt(F)||_t(F))return P=P.get(B)||null,G(C,P,F,rt,null);if(typeof F.then=="function")return H(P,C,B,qu(F),rt);if(F.$$typeof===q)return H(P,C,B,ic(C,F),rt);ju(C,F)}return null}function ut(P,C,B,F){for(var rt=null,Vt=null,dt=C,pt=C=0,Ue=null;dt!==null&&pt<B.length;pt++){dt.index>pt?(Ue=dt,dt=null):Ue=dt.sibling;var qt=k(P,dt,B[pt],F);if(qt===null){dt===null&&(dt=Ue);break}e&&dt&&qt.alternate===null&&i(P,dt),C=d(qt,C,pt),Vt===null?rt=qt:Vt.sibling=qt,Vt=qt,dt=Ue}if(pt===B.length)return s(P,dt),kt&&os(P,pt),rt;if(dt===null){for(;pt<B.length;pt++)dt=Q(P,B[pt],F),dt!==null&&(C=d(dt,C,pt),Vt===null?rt=dt:Vt.sibling=dt,Vt=dt);return kt&&os(P,pt),rt}for(dt=o(dt);pt<B.length;pt++)Ue=H(dt,P,pt,B[pt],F),Ue!==null&&(e&&Ue.alternate!==null&&dt.delete(Ue.key===null?pt:Ue.key),C=d(Ue,C,pt),Vt===null?rt=Ue:Vt.sibling=Ue,Vt=Ue);return e&&dt.forEach(function(Dr){return i(P,Dr)}),kt&&os(P,pt),rt}function Tt(P,C,B,F){if(B==null)throw Error(r(151));for(var rt=null,Vt=null,dt=C,pt=C=0,Ue=null,qt=B.next();dt!==null&&!qt.done;pt++,qt=B.next()){dt.index>pt?(Ue=dt,dt=null):Ue=dt.sibling;var Dr=k(P,dt,qt.value,F);if(Dr===null){dt===null&&(dt=Ue);break}e&&dt&&Dr.alternate===null&&i(P,dt),C=d(Dr,C,pt),Vt===null?rt=Dr:Vt.sibling=Dr,Vt=Dr,dt=Ue}if(qt.done)return s(P,dt),kt&&os(P,pt),rt;if(dt===null){for(;!qt.done;pt++,qt=B.next())qt=Q(P,qt.value,F),qt!==null&&(C=d(qt,C,pt),Vt===null?rt=qt:Vt.sibling=qt,Vt=qt);return kt&&os(P,pt),rt}for(dt=o(dt);!qt.done;pt++,qt=B.next())qt=H(dt,P,pt,qt.value,F),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?pt:qt.key),C=d(qt,C,pt),Vt===null?rt=qt:Vt.sibling=qt,Vt=qt);return e&&dt.forEach(function(nS){return i(P,nS)}),kt&&os(P,pt),rt}function he(P,C,B,F){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:t:{for(var rt=B.key;C!==null;){if(C.key===rt){if(rt=B.type,rt===p){if(C.tag===7){s(P,C.sibling),F=h(C,B.props.children),F.return=P,P=F;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ot&&Fg(rt)===C.type){s(P,C.sibling),F=h(C,B.props),Gl(F,B),F.return=P,P=F;break t}s(P,C);break}else i(P,C);C=C.sibling}B.type===p?(F=vs(B.props.children,P.mode,F,B.key),F.return=P,P=F):(F=ac(B.type,B.key,B.props,null,P.mode,F),Gl(F,B),F.return=P,P=F)}return v(P);case m:t:{for(rt=B.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===B.containerInfo&&C.stateNode.implementation===B.implementation){s(P,C.sibling),F=h(C,B.children||[]),F.return=P,P=F;break t}else{s(P,C);break}else i(P,C);C=C.sibling}F=td(B,P.mode,F),F.return=P,P=F}return v(P);case ot:return rt=B._init,B=rt(B._payload),he(P,C,B,F)}if(nt(B))return ut(P,C,B,F);if(_t(B)){if(rt=_t(B),typeof rt!="function")throw Error(r(150));return B=rt.call(B),Tt(P,C,B,F)}if(typeof B.then=="function")return he(P,C,qu(B),F);if(B.$$typeof===q)return he(P,C,ic(P,B),F);ju(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,C!==null&&C.tag===6?(s(P,C.sibling),F=h(C,B),F.return=P,P=F):(s(P,C),F=Wf(B,P.mode,F),F.return=P,P=F),v(P)):s(P,C)}return function(P,C,B,F){try{Hl=0;var rt=he(P,C,B,F);return ga=null,rt}catch(dt){if(dt===ql)throw dt;var Vt=Mn(29,dt,null,P.mode);return Vt.lanes=F,Vt.return=P,Vt}finally{}}}var cs=Kg(!0),Qg=Kg(!1),pa=Lt(null),Hu=Lt(0);function Yg(e,i){e=Li,Gt(Hu,e),Gt(pa,i),Li=e|i.baseLanes}function af(){Gt(Hu,Li),Gt(pa,pa.current)}function lf(){Li=Hu.current,le(pa),le(Hu)}var xn=Lt(null),ai=null;function cr(e){var i=e.alternate;Gt(Ie,Ie.current&1),Gt(xn,e),ai===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ai=e)}function Xg(e){if(e.tag===22){if(Gt(Ie,Ie.current),Gt(xn,e),ai===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ai=e)}}else hr()}function hr(){Gt(Ie,Ie.current),Gt(xn,xn.current)}function Di(e){le(xn),ai===e&&(ai=null),le(Ie)}var Ie=Lt(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},G0=a.unstable_scheduleCallback,F0=a.unstable_NormalPriority,De={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new H0,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&G0(F0,function(){e.controller.abort()})}var Kl=null,uf=0,ya=0,_a=null;function K0(e,i){if(Kl===null){var s=Kl=[];uf=0,ya=gd(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return uf++,i.then(Zg,Zg),i}function Zg(){if(--uf===0&&Kl!==null){_a!==null&&(_a.status="fulfilled");var e=Kl;Kl=null,ya=0,_a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Q0(e,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var $g=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&K0(e,i),$g!==null&&$g(e,i)};var hs=Lt(null);function cf(){var e=hs.current;return e!==null?e:Jt.pooledCache}function Fu(e,i){i===null?Gt(hs,hs.current):Gt(hs,i.pool)}function Jg(){var e=cf();return e===null?null:{parent:De._currentValue,pool:e}}var fr=0,It=null,Kt=null,ye=null,Ku=!1,va=!1,fs=!1,Qu=0,Ql=0,Ea=null,Y0=0;function me(){throw Error(r(321))}function hf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!hn(e[s],i[s]))return!1;return!0}function ff(e,i,s,o,h,d){return fr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?ds:dr,fs=!1,d=s(o,h),fs=!1,va&&(d=tp(i,s,o,h)),Wg(e),d}function Wg(e){S.H=li;var i=Kt!==null&&Kt.next!==null;if(fr=0,ye=Kt=It=null,Ku=!1,Ql=0,Ea=null,i)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&nc(e)&&(Me=!0))}function tp(e,i,s,o){It=e;var h=0;do{if(va&&(Ea=null),Ql=0,va=!1,25<=h)throw Error(r(301));if(h+=1,ye=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=ms,d=i(s,o)}while(va);return d}function X0(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Yl(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function df(){var e=Qu!==0;return Qu=0,e}function mf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function gf(e){if(Ku){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ku=!1}fr=0,ye=Kt=It=null,va=!1,Ql=Qu=0,Ea=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?It.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ye===null?It.memoizedState:ye.next;if(i!==null)ye=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?It.memoizedState=ye=e:ye=ye.next=e}return ye}var Yu;Yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Yl(e){var i=Ql;return Ql+=1,Ea===null&&(Ea=[]),e=Hg(Ea,e,i),i=It,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ds:dr),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===q)return Fe(e)}throw Error(r(438,String(e)))}function pf(e){var i=null,s=It.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Yu(),It.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),o=0;o<e;o++)s[o]=Rt;return i.index++,s}function Vi(e,i){return typeof i=="function"?i(e):i}function Zu(e){var i=_e();return yf(i,Kt,e)}function yf(e,i,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,R=null,N=i,G=!1;do{var Q=N.lane&-536870913;if(Q!==N.lane?(Pt&Q)===Q:(fr&Q)===Q){var k=N.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Q===ya&&(G=!0);else if((fr&k)===k){N=N.next,k===ya&&(G=!0);continue}else Q={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(E=R=Q,v=d):R=R.next=Q,It.lanes|=k,Ar|=k;Q=N.action,fs&&s(d,Q),d=N.hasEagerState?N.eagerState:s(d,Q)}else k={lane:Q,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(E=R=k,v=d):R=R.next=k,It.lanes|=Q,Ar|=Q;N=N.next}while(N!==null&&N!==i);if(R===null?v=d:R.next=E,!hn(d,e.memoizedState)&&(Me=!0,G&&(s=_a,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var i=_e(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function ep(e,i,s){var o=It,h=_e(),d=kt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var v=!hn((Kt||h).memoizedState,s);if(v&&(h.memoizedState=s,Me=!0),h=h.queue,Tf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,Ta(9,ip.bind(null,o,h,s,i),{destroy:void 0},null),Jt===null)throw Error(r(349));d||fr&60||np(o,i,s)}return s}function np(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=It.updateQueue,i===null?(i=Yu(),It.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ip(e,i,s,o){i.value=s,i.getSnapshot=o,sp(i)&&ap(e)}function rp(e,i,s){return s(function(){sp(i)&&ap(e)})}function sp(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!hn(e,s)}catch{return!0}}function ap(e){var i=ur(e,2);i!==null&&en(i,e,2)}function vf(e){var i=ln();if(typeof e=="function"){var s=e;if(e=s(),fs){Yn(!0);try{s()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function lp(e,i,s,o){return e.baseState=s,yf(e,Kt,typeof o=="function"?o:Vi)}function Z0(e,i,s,o,h){if(Wu(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,op(i,d)):(d.next=s.next,i.pending=s.next=d)}}function op(e,i){var s=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=s(h,o),R=S.S;R!==null&&R(v,E),up(e,i,E)}catch(N){Ef(e,i,N)}finally{S.T=d}}else try{d=s(h,o),up(e,i,d)}catch(N){Ef(e,i,N)}}function up(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(e,i,o)},function(o){return Ef(e,i,o)}):cp(e,i,s)}function cp(e,i,s){i.status="fulfilled",i.value=s,hp(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,op(e,s)))}function Ef(e,i,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,hp(i),i=i.next;while(i!==o)}e.action=null}function hp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fp(e,i){return i}function dp(e,i){if(kt){var s=Jt.formState;if(s!==null){t:{var o=It;if(kt){if(Be){e:{for(var h=Be,d=si;h.nodeType!==8;){if(!d){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Be=Kn(h.nextSibling),o=h.data==="F!";break t}}us(o)}o=!1}o&&(i=s[0])}}return s=ln(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:i},s.queue=o,s=xp.bind(null,It,o),o.dispatch=s,o=vf(!1),d=wf.bind(null,It,!1,o.queue),o=ln(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,s=Z0.bind(null,It,h,d,s),h.dispatch=s,o.memoizedState=e,[i,s,!1]}function mp(e){var i=_e();return gp(i,Kt,e)}function gp(e,i,s){i=yf(e,i,fp)[0],e=Zu(Vi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Yl(i):i;var o=_e(),h=o.queue,d=h.dispatch;return s!==o.memoizedState&&(It.flags|=2048,Ta(9,$0.bind(null,h,s),{destroy:void 0},null)),[i,d,e]}function $0(e,i){e.action=i}function pp(e){var i=_e(),s=Kt;if(s!==null)return gp(i,s,e);_e(),i=i.memoizedState,s=_e();var o=s.queue.dispatch;return s.memoizedState=e,[i,o,!1]}function Ta(e,i,s,o){return e={tag:e,create:i,inst:s,deps:o,next:null},i=It.updateQueue,i===null&&(i=Yu(),It.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e),e}function yp(){return _e().memoizedState}function $u(e,i,s,o){var h=ln();It.flags|=e,h.memoizedState=Ta(1|i,s,{destroy:void 0},o===void 0?null:o)}function Ju(e,i,s,o){var h=_e();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&hf(o,Kt.memoizedState.deps)?h.memoizedState=Ta(i,s,d,o):(It.flags|=e,h.memoizedState=Ta(1|i,s,d,o))}function _p(e,i){$u(8390656,8,e,i)}function Tf(e,i){Ju(2048,8,e,i)}function vp(e,i){return Ju(4,2,e,i)}function Ep(e,i){return Ju(4,4,e,i)}function Tp(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ap(e,i,s){s=s!=null?s.concat([e]):null,Ju(4,4,Tp.bind(null,i,e),s)}function Af(){}function Sp(e,i){var s=_e();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&hf(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function bp(e,i){var s=_e();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&hf(i,o[1]))return o[0];if(o=e(),fs){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[o,i],o}function Sf(e,i,s){return s===void 0||fr&1073741824?e.memoizedState=i:(e.memoizedState=s,e=wy(),It.lanes|=e,Ar|=e,s)}function Rp(e,i,s,o){return hn(s,i)?s:pa.current!==null?(e=Sf(e,s,o),hn(e,i)||(Me=!0),e):fr&42?(e=wy(),It.lanes|=e,Ar|=e,i):(Me=!0,e.memoizedState=s)}function wp(e,i,s,o,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,wf(e,!1,i,s);try{var R=h(),N=S.S;if(N!==null&&N(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=Q0(R,o);Xl(e,i,G,gn(e))}else Xl(e,i,o,gn(e))}catch(Q){Xl(e,i,{then:function(){},status:"rejected",reason:Q},gn())}finally{it.p=d,S.T=v}}function J0(){}function bf(e,i,s,o){if(e.tag!==5)throw Error(r(476));var h=Ip(e).queue;wp(e,h,i,wt,s===null?J0:function(){return Dp(e),s(o)})}function Ip(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:wt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dp(e){var i=Ip(e).next.queue;Xl(e,i,{},gn())}function Rf(){return Fe(po)}function Vp(){return _e().memoizedState}function Cp(){return _e().memoizedState}function W0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=gn();e=pr(s);var o=yr(i,e,s);o!==null&&(en(o,i,s),Jl(o,i,s)),i={cache:of()},e.payload=i;return}i=i.return}}function tA(e,i,s){var o=gn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Np(i,s):(s=tf(e,i,s,o),s!==null&&(en(s,e,o),Op(s,i,o)))}function xp(e,i,s){var o=gn();Xl(e,i,s,o)}function Xl(e,i,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Np(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,s);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return Uu(e,i,h,0),Jt===null&&Pu(),!1}catch{}finally{}if(s=tf(e,i,h,o),s!==null)return en(s,e,o),Op(s,i,o),!0}return!1}function wf(e,i,s,o){if(o={lane:2,revertLane:gd(),action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(i)throw Error(r(479))}else i=tf(e,s,o,2),i!==null&&en(i,e,2)}function Wu(e){var i=e.alternate;return e===It||i!==null&&i===It}function Np(e,i){va=Ku=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Op(e,i,s){if(s&4194176){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Wi(e,s)}}var li={readContext:Fe,use:Xu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};li.useCacheRefresh=me,li.useMemoCache=me,li.useHostTransitionStatus=me,li.useFormState=me,li.useActionState=me,li.useOptimistic=me;var ds={readContext:Fe,use:Xu,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:_p,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,$u(4194308,4,Tp.bind(null,i,e),s)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var s=ln();i=i===void 0?null:i;var o=e();if(fs){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[o,i],o},useReducer:function(e,i,s){var o=ln();if(s!==void 0){var h=s(i);if(fs){Yn(!0);try{s(i)}finally{Yn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=tA.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=vf(e);var i=e.queue,s=xp.bind(null,It,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,i){var s=ln();return Sf(s,e,i)},useTransition:function(){var e=vf(!1);return e=wp.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var o=It,h=ln();if(kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),Jt===null)throw Error(r(349));Pt&60||np(o,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,_p(rp.bind(null,o,d,e),[e]),o.flags|=2048,Ta(9,ip.bind(null,o,d,s,i),{destroy:void 0},null),s},useId:function(){var e=ln(),i=Jt.identifierPrefix;if(kt){var s=Ii,o=wi;s=(o&~(1<<32-$e(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Qu++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Y0++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=W0.bind(null,It)}};ds.useMemoCache=pf,ds.useHostTransitionStatus=Rf,ds.useFormState=dp,ds.useActionState=dp,ds.useOptimistic=function(e){var i=ln();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=wf.bind(null,It,!0,s),s.dispatch=i,[e,i]};var dr={readContext:Fe,use:Xu,useCallback:Sp,useContext:Fe,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:Zu,useRef:yp,useState:function(){return Zu(Vi)},useDebugValue:Af,useDeferredValue:function(e,i){var s=_e();return Rp(s,Kt.memoizedState,e,i)},useTransition:function(){var e=Zu(Vi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Yl(e),i]},useSyncExternalStore:ep,useId:Vp};dr.useCacheRefresh=Cp,dr.useMemoCache=pf,dr.useHostTransitionStatus=Rf,dr.useFormState=mp,dr.useActionState=mp,dr.useOptimistic=function(e,i){var s=_e();return lp(s,Kt,e,i)};var ms={readContext:Fe,use:Xu,useCallback:Sp,useContext:Fe,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:_f,useRef:yp,useState:function(){return _f(Vi)},useDebugValue:Af,useDeferredValue:function(e,i){var s=_e();return Kt===null?Sf(s,e,i):Rp(s,Kt.memoizedState,e,i)},useTransition:function(){var e=_f(Vi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Yl(e),i]},useSyncExternalStore:ep,useId:Vp};ms.useCacheRefresh=Cp,ms.useMemoCache=pf,ms.useHostTransitionStatus=Rf,ms.useFormState=pp,ms.useActionState=pp,ms.useOptimistic=function(e,i){var s=_e();return Kt!==null?lp(s,Kt,e,i):(s.baseState=e,[e,s.queue.dispatch])};function If(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:D({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=gn(),h=pr(o);h.payload=i,s!=null&&(h.callback=s),i=yr(e,h,o),i!==null&&(en(i,e,o),Jl(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=gn(),h=pr(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=yr(e,h,o),i!==null&&(en(i,e,o),Jl(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=gn(),o=pr(s);o.tag=2,i!=null&&(o.callback=i),i=yr(e,o,s),i!==null&&(en(i,e,s),Jl(i,e,s))}};function Mp(e,i,s,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ul(s,o)||!Ul(h,d):!0}function Pp(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&Df.enqueueReplaceState(i,i.state,null)}function gs(e,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(e=e.defaultProps){s===i&&(s=D({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var tc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Up(e){tc(e)}function zp(e){console.error(e)}function Lp(e){tc(e)}function ec(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,i,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,i,s){return s=pr(s),s.tag=3,s.payload={element:null},s.callback=function(){ec(e,i)},s}function kp(e){return e=pr(e),e.tag=3,e}function qp(e,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Bp(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Bp(i,s,o),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function eA(e,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&$l(i,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 13:return ai===null?cd():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===sf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return s.flags|=65536,o===sf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),fd(e,o,h)),!1}throw Error(r(435,s.tag))}return fd(e,o,h),cd(),!1}if(kt)return i=xn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==rf&&(e=Error(r(422),{cause:o}),kl(Dn(e,s)))):(o!==rf&&(i=Error(r(423),{cause:o}),kl(Dn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,s),h=Vf(e.stateNode,o,h),Gf(e,h),ce!==4&&(ce=2)),!1;var d=Error(r(520),{cause:o});if(d=Dn(d,s),ao===null?ao=[d]:ao.push(d),ce!==4&&(ce=2),i===null)return!0;o=Dn(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Vf(s.stateNode,o,e),Gf(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=kp(h),qp(h,e,s,o),Gf(s,h),!1}s=s.return}while(s!==null);return!1}var jp=Error(r(461)),Me=!1;function ke(e,i,s,o){i.child=e===null?Qg(i,null,s,o):cs(i,e.child,s,o)}function Hp(e,i,s,o,h){s=s.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ys(i),o=ff(e,i,s,v,d,h),E=df(),e!==null&&!Me?(mf(e,i,h),Ci(e,i,h)):(kt&&E&&ef(i),i.flags|=1,ke(e,i,o,h),i.child)}function Gp(e,i,s,o,h){if(e===null){var d=s.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Fp(e,i,d,o,h)):(e=ac(s.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Lf(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ul,s(v,o)&&e.ref===i.ref)return Ci(e,i,h)}return i.flags|=1,e=Tr(d,o),e.ref=i.ref,e.return=i,i.child=e}function Fp(e,i,s,o,h){if(e!==null){var d=e.memoizedProps;if(Ul(d,o)&&e.ref===i.ref)if(Me=!1,i.pendingProps=o=d,Lf(e,h))e.flags&131072&&(Me=!0);else return i.lanes=e.lanes,Ci(e,i,h)}return Cf(e,i,s,o,h)}function Kp(e,i,s){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Zl(e,i),o.mode==="hidden"||d){if(i.flags&128){if(o=v!==null?v.baseLanes|s:s,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Qp(e,i,o,s)}if(s&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(i,v!==null?v.cachePool:null),v!==null?Yg(i,v):af(),Xg(i);else return i.lanes=i.childLanes=536870912,Qp(e,i,v!==null?v.baseLanes|s:s,s)}else v!==null?(Fu(i,v.cachePool),Yg(i,v),hr(),i.memoizedState=null):(e!==null&&Fu(i,null),af(),hr());return ke(e,i,h,s),i.child}function Qp(e,i,s,o){var h=cf();return h=h===null?null:{parent:De._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},e!==null&&Fu(i,null),af(),Xg(i),e!==null&&$l(e,i,o,!0),null}function Zl(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=2097664)}}function Cf(e,i,s,o,h){return ys(i),s=ff(e,i,s,o,void 0,h),o=df(),e!==null&&!Me?(mf(e,i,h),Ci(e,i,h)):(kt&&o&&ef(i),i.flags|=1,ke(e,i,s,h),i.child)}function Yp(e,i,s,o,h,d){return ys(i),i.updateQueue=null,s=tp(i,o,s,h),Wg(e),o=df(),e!==null&&!Me?(mf(e,i,d),Ci(e,i,d)):(kt&&o&&ef(i),i.flags|=1,ke(e,i,s,d),i.child)}function Xp(e,i,s,o,h){if(ys(i),i.stateNode===null){var d=fa,v=s.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},jf(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):fa,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(If(i,s,v,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Df.enqueueReplaceState(d,d.state,null),to(i,o,d,h),Wl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=gs(s,E);d.props=R;var N=d.context,G=s.contextType;v=fa,typeof G=="object"&&G!==null&&(v=Fe(G));var Q=s.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||N!==v)&&Pp(i,d,o,v),gr=!1;var k=i.memoizedState;d.state=k,to(i,o,d,h),Wl(),N=i.memoizedState,E||k!==N||gr?(typeof Q=="function"&&(If(i,s,Q,o),N=i.memoizedState),(R=gr||Mp(i,s,R,o,k,N,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),d.props=o,d.state=N,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Hf(e,i),v=i.memoizedProps,G=gs(s,v),d.props=G,Q=i.pendingProps,k=d.context,N=s.contextType,R=fa,typeof N=="object"&&N!==null&&(R=Fe(N)),E=s.getDerivedStateFromProps,(N=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||k!==R)&&Pp(i,d,o,R),gr=!1,k=i.memoizedState,d.state=k,to(i,o,d,h),Wl();var H=i.memoizedState;v!==Q||k!==H||gr||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof E=="function"&&(If(i,s,E,o),H=i.memoizedState),(G=gr||Mp(i,s,G,o,k,H,R)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=R,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Zl(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=cs(i,e.child,null,h),i.child=cs(i,null,s,h)):ke(e,i,s,h),i.memoizedState=d.state,e=i.child):e=Ci(e,i,h),e}function Zp(e,i,s,o){return Bl(),i.flags|=256,ke(e,i,s,o),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Nf(e){return{baseLanes:e,cachePool:Jg()}}function Of(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Pn),e}function $p(e,i,s){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(kt){if(h?cr(i):hr(),kt){var E=Be,R;if(R=E){t:{for(R=E,E=si;R.nodeType!==8;){if(!E){E=null;break t}if(R=Kn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ls!==null?{id:wi,overflow:Ii}:null,retryLane:536870912},R=Mn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,tn=i,Be=null,R=!0):R=!1}R||us(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return E=o.children,o=o.fallback,h?(hr(),h=i.mode,E=Pf({mode:"hidden",children:E},h),o=vs(o,h,s,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Nf(s),h.childLanes=Of(e,v,s),i.memoizedState=xf,o):(cr(i),Mf(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(cr(i),i.flags&=-257,i=Uf(e,i,s)):i.memoizedState!==null?(hr(),i.child=e.child,i.flags|=128,i=null):(hr(),h=o.fallback,E=i.mode,o=Pf({mode:"visible",children:o.children},E),h=vs(h,E,s,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,cs(i,e.child,null,s),o=i.child,o.memoizedState=Nf(s),o.childLanes=Of(e,v,s),i.memoizedState=xf,i=h);else if(cr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var N=v.dgst;v=N,o=Error(r(419)),o.stack="",o.digest=v,kl({value:o,source:null,stack:null}),i=Uf(e,i,s)}else if(Me||$l(e,i,s,!1),v=(s&e.childLanes)!==0,Me||v){if(v=Jt,v!==null){if(o=s&-s,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(v.suspendedLanes|s)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,ur(e,o),en(v,e,o),jp}E.data==="$?"||cd(),i=Uf(e,i,s)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=pA.bind(null,e),E._reactRetry=i,i=null):(e=R.treeContext,Be=Kn(E.nextSibling),tn=i,kt=!0,Gn=null,si=!1,e!==null&&(Vn[Cn++]=wi,Vn[Cn++]=Ii,Vn[Cn++]=ls,wi=e.id,Ii=e.overflow,ls=i),i=Mf(i,o.children),i.flags|=4096);return i}return h?(hr(),h=o.fallback,E=i.mode,R=e.child,N=R.sibling,o=Tr(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,N!==null?h=Tr(N,h):(h=vs(h,E,s,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Nf(s):(R=E.cachePool,R!==null?(N=De._currentValue,R=R.parent!==N?{parent:N,pool:N}:R):R=Jg(),E={baseLanes:E.baseLanes|s,cachePool:R}),h.memoizedState=E,h.childLanes=Of(e,v,s),i.memoizedState=xf,o):(cr(i),s=e.child,e=s.sibling,s=Tr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function Mf(e,i){return i=Pf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Pf(e,i){return Sy(e,i,0,null)}function Uf(e,i,s){return cs(i,e.child,null,s),e=Mf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Jp(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),kf(e.return,i,s)}function zf(e,i,s,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function Wp(e,i,s){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(ke(e,i,o.children,s),o=Ie.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,s,i);else if(e.tag===19)Jp(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Gt(Ie,o),h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&Gu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),zf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(i,!0,s,null,d);break;case"together":zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,!(s&i.childLanes))if(e!==null){if($l(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=Tr(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Tr(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Lf(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function nA(e,i,s){switch(i.tag){case 3:Qi(i,i.stateNode.containerInfo),mr(i,De,e.memoizedState.cache),Bl();break;case 27:case 5:gl(i);break;case 4:Qi(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(cr(i),i.flags|=128,null):s&i.child.childLanes?$p(e,i,s):(cr(i),e=Ci(e,i,s),e!==null?e.sibling:null);cr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||($l(e,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Wp(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ie,Ie.current),o)break;return null;case 22:case 23:return i.lanes=0,Kp(e,i,s);case 24:mr(i,De,e.memoizedState.cache)}return Ci(e,i,s)}function ty(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!Lf(e,s)&&!(i.flags&128))return Me=!1,nA(e,i,s);Me=!!(e.flags&131072)}else Me=!1,kt&&i.flags&1048576&&Lg(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Jf(o)?(e=gs(o,e),i.tag=1,i=Xp(null,i,o,e,s)):(i.tag=0,i=Cf(null,i,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===Y){i.tag=11,i=Hp(null,i,o,e,s);break t}else if(h===yt){i.tag=14,i=Gp(null,i,o,e,s);break t}}throw i=w(o)||o,Error(r(306,i,""))}}return i;case 0:return Cf(e,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=gs(o,i.pendingProps),Xp(e,i,o,h,s);case 3:t:{if(Qi(i,i.stateNode.containerInfo),e===null)throw Error(r(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,Hf(e,i),to(i,d,null,s);var v=i.memoizedState;if(d=v.cache,mr(i,De,d),d!==h.cache&&qf(i,[De],s,!0),Wl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Zp(e,i,d,s);break t}else if(d!==o){o=Dn(Error(r(424)),i),kl(o),i=Zp(e,i,d,s);break t}else for(Be=Kn(i.stateNode.containerInfo.firstChild),tn=i,kt=!0,Gn=null,si=!0,s=Qg(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Bl(),d===o){i=Ci(e,i,s);break t}ke(e,i,d,s)}i=i.child}return i;case 26:return Zl(e,i),e===null?(s=i_(i.type,null,i.pendingProps,null))?i.memoizedState=s:kt||(s=i.type,e=i.pendingProps,o=_c(En.current).createElement(s),o[xe]=i,o[be]=e,qe(o,s,e),ne(o),i.stateNode=o):i.memoizedState=i_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return gl(i),e===null&&kt&&(o=i.stateNode=t_(i.type,i.pendingProps,En.current),tn=i,si=!0,Be=Kn(o.firstChild)),o=i.pendingProps.children,e!==null||kt?ke(e,i,o,s):i.child=cs(i,null,o,s),Zl(e,i),i.child;case 5:return e===null&&kt&&((h=o=Be)&&(o=NA(o,i.type,i.pendingProps,si),o!==null?(i.stateNode=o,tn=i,Be=Kn(o.firstChild),si=!1,h=!0):h=!1),h||us(i)),gl(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,bd(h,d)?o=null:v!==null&&bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ff(e,i,X0,null,null,s),po._currentValue=h),Zl(e,i),ke(e,i,o,s),i.child;case 6:return e===null&&kt&&((e=s=Be)&&(s=OA(s,i.pendingProps,si),s!==null?(i.stateNode=s,tn=i,Be=null,e=!0):e=!1),e||us(i)),null;case 13:return $p(e,i,s);case 4:return Qi(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=cs(i,null,o,s):ke(e,i,o,s),i.child;case 11:return Hp(e,i,i.type,i.pendingProps,s);case 7:return ke(e,i,i.pendingProps,s),i.child;case 8:return ke(e,i,i.pendingProps.children,s),i.child;case 12:return ke(e,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,mr(i,i.type,o.value),ke(e,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ys(i),h=Fe(h),o=o(h),i.flags|=1,ke(e,i,o,s),i.child;case 14:return Gp(e,i,i.type,i.pendingProps,s);case 15:return Fp(e,i,i.type,i.pendingProps,s);case 19:return Wp(e,i,s);case 22:return Kp(e,i,s);case 24:return ys(i),o=Fe(De),e===null?(h=cf(),h===null&&(h=Jt,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:o,cache:h},jf(i),mr(i,De,h)):(e.lanes&s&&(Hf(e,i),to(i,null,null,s),Wl()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,De,o)):(o=d.cache,mr(i,De,o),o!==h.cache&&qf(i,[De],s,!0))),ke(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var Bf=Lt(null),ps=null,xi=null;function mr(e,i,s){Gt(Bf,i._currentValue),i._currentValue=s}function Ni(e){e._currentValue=Bf.current,le(Bf)}function kf(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function qf(e,i,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),kf(d.return,s,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),kf(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $l(e,i,s,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ki.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}h=h.return}e!==null&&qf(i,e,s,o),i.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){ps=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return ey(ps,e)}function ic(e,i){return ps===null&&ys(e),ey(e,i)}function ey(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else xi=xi.next=i;return s}var gr=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,re&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=zu(e),Ug(e,null,s),i}return Uu(e,o,i,s),zu(e)}function Jl(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Wi(e,s)}}function Gf(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Ff=!1;function Wl(){if(Ff){var e=_a;if(e!==null)throw e}}function to(e,i,s,o){Ff=!1;var h=e.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,N=R.next;R.next=null,v===null?d=N:v.next=N,v=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=N:E.next=N,G.lastBaseUpdate=R))}if(d!==null){var Q=h.baseState;v=0,G=N=R=null,E=d;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(Pt&k)===k:(o&k)===k){k!==0&&k===ya&&(Ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,Tt=E;k=i;var he=s;switch(Tt.tag){case 1:if(ut=Tt.payload,typeof ut=="function"){Q=ut.call(he,Q,k);break t}Q=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Tt.payload,k=typeof ut=="function"?ut.call(he,Q,k):ut,k==null)break t;Q=D({},Q,k);break t;case 2:gr=!0}}k=E.callback,k!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(N=G=H,R=Q):G=G.next=H,v|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=N,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=Q}}function ny(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function iy(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ny(s[e],i)}function eo(e,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==h)}}catch(E){Zt(i,i.return,E)}}function _r(e,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=s;try{E()}catch(N){Zt(h,R,N)}}}o=o.next}while(o!==d)}}catch(N){Zt(i,i.return,N)}}function ry(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{iy(i,s)}catch(o){Zt(e,e.return,o)}}}function sy(e,i,s){s.props=gs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Zt(e,i,o)}}function _s(e,i){try{var s=e.ref;if(s!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){Zt(e,i,d)}}function fn(e,i){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,i,h)}else s.current=null}function ay(e){var i=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function ly(e,i,s){try{var o=e.stateNode;IA(o,e.type,s,i),o[be]=i}catch(h){Zt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=yc));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Qf(e,i,s),e=e.sibling;e!==null;)Qf(e,i,s),e=e.sibling}function rc(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(rc(e,i,s),e=e.sibling;e!==null;)rc(e,i,s),e=e.sibling}var Oi=!1,ue=!1,Yf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Pe=null,cy=!1;function iA(e,i){if(e=e.containerInfo,Ad=bc,e=Ig(e),Xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,E=-1,R=-1,N=0,G=0,Q=e,k=null;e:for(;;){for(var H;Q!==s||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||o!==0&&Q.nodeType!==3||(R=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(H=Q.firstChild)!==null;)k=Q,Q=H;for(;;){if(Q===e)break e;if(k===s&&++N===h&&(E=v),k===d&&++G===o&&(R=v),(H=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sd={focusedElem:e,selectionRange:s},bc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var ut=gs(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(ut,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Zt(s,s.return,Tt)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Id(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}return ut=cy,cy=!1,ut}function hy(e,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(e,s),o&4&&eo(5,s);break;case 1:if(Pi(e,s),o&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(E){Zt(s,s.return,E)}else{var h=gs(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(s,s.return,E)}}o&64&&ry(s),o&512&&_s(s,s.return);break;case 3:if(Pi(e,s),o&64&&(o=s.updateQueue,o!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{iy(o,e)}catch(E){Zt(s,s.return,E)}}break;case 26:Pi(e,s),o&512&&_s(s,s.return);break;case 27:case 5:Pi(e,s),i===null&&o&4&&ay(s),o&512&&_s(s,s.return);break;case 12:Pi(e,s);break;case 13:Pi(e,s),o&4&&my(e,s);break;case 22:if(h=s.memoizedState!==null||Oi,!h){i=i!==null&&i.memoizedState!==null||ue;var d=Oi,v=ue;Oi=h,(ue=i)&&!v?vr(e,s,(s.subtreeFlags&8772)!==0):Pi(e,s),Oi=d,ue=v}o&512&&(s.memoizedProps.mode==="manual"?_s(s,s.return):fn(s,s.return));break;default:Pi(e,s)}}function fy(e){var i=e.alternate;i!==null&&(e.alternate=null,fy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Yr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,dn=!1;function Mi(e,i,s){for(s=s.child;s!==null;)dy(e,i,s),s=s.sibling}function dy(e,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Yi,s)}catch{}switch(s.tag){case 26:ue||fn(s,i),Mi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ue||fn(s,i);var o=ve,h=dn;for(ve=s.stateNode,Mi(e,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Yr(s),ve=o,dn=h;break;case 5:ue||fn(s,i);case 6:h=ve;var d=dn;if(ve=null,Mi(e,i,s),ve=h,dn=d,ve!==null)if(dn)try{e=ve,o=s.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(v){Zt(s,i,v)}else try{ve.removeChild(s.stateNode)}catch(v){Zt(s,i,v)}break;case 18:ve!==null&&(dn?(i=ve,s=s.stateNode,i.nodeType===8?wd(i.parentNode,s):i.nodeType===1&&wd(i,s),Eo(i)):wd(ve,s.stateNode));break;case 4:o=ve,h=dn,ve=s.stateNode.containerInfo,dn=!0,Mi(e,i,s),ve=o,dn=h;break;case 0:case 11:case 14:case 15:ue||_r(2,s,i),ue||_r(4,s,i),Mi(e,i,s);break;case 1:ue||(fn(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&sy(s,i,o)),Mi(e,i,s);break;case 21:Mi(e,i,s);break;case 22:ue||fn(s,i),ue=(o=ue)||s.memoizedState!==null,Mi(e,i,s),ue=o;break;default:Mi(e,i,s)}}function my(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eo(e)}catch(s){Zt(i,i.return,s)}}function rA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(r(435,e.tag))}}function Xf(e,i){var s=rA(e);i.forEach(function(o){var h=yA.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function Nn(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ve=E.stateNode,dn=!1;break t;case 3:ve=E.stateNode.containerInfo,dn=!0;break t;case 4:ve=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ve===null)throw Error(r(160));dy(d,v,h),ve=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gy(i,e),i=i.sibling}var Fn=null;function gy(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),On(e),o&4&&(_r(3,e,e.return),eo(3,e),_r(5,e,e.return));break;case 1:Nn(i,e),On(e),o&512&&(ue||s===null||fn(s,s.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(Nn(i,e),On(e),o&512&&(ue||s===null||fn(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[er]||d[xe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,o,s),d[xe]=e,ne(d),o=d;break t;case"link":var v=a_("link","href",h).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),qe(d,o,s),h.head.appendChild(d);break;case"meta":if(v=a_("meta","content",h).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}d=h.createElement(o),qe(d,o,s),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[xe]=e,ne(d),o=d}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=s_(h,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?l_(h,e.type,e.stateNode):s_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ly(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var R=h.firstChild;R;){var N=R.nextSibling,G=R.nodeName;R[er]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=N}for(var Q=e.type,k=h.attributes;k.length;)h.removeAttributeNode(k[0]);qe(h,Q,d),h[xe]=e,h[be]=d}catch(ut){Zt(e,e.return,ut)}}case 5:if(Nn(i,e),On(e),o&512&&(ue||s===null||fn(s,s.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(ut){Zt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ly(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Nn(i,e),On(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Zt(e,e.return,ut)}}break;case 3:if(Tc=null,h=Fn,Fn=vc(i.containerInfo),Nn(i,e),Fn=h,On(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch(ut){Zt(e,e.return,ut)}Yf&&(Yf=!1,py(e));break;case 4:o=Fn,Fn=vc(e.stateNode.containerInfo),Nn(i,e),On(e),Fn=o;break;case 12:Nn(i,e),On(e);break;case 13:Nn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rd=sn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xf(e,o)));break;case 22:if(o&512&&(ue||s===null||fn(s,s.return)),R=e.memoizedState!==null,N=s!==null&&s.memoizedState!==null,G=Oi,Q=ue,Oi=G||R,ue=Q||N,Nn(i,e),ue=Q,Oi=G,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Oi||ue,s===null||N||i||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){N=s=i;try{if(h=N.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=N.stateNode,E=N.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ut){Zt(N,N.return,ut)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=R?"":N.memoizedProps}catch(ut){Zt(N,N.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xf(e,s))));break;case 19:Nn(i,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xf(e,o)));break;case 21:break;default:Nn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(oy(s)){var o=s;break t}s=s.return}throw Error(r(160))}switch(o.tag){case 27:var h=o.stateNode,d=Kf(e);rc(e,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(Sn(v,""),o.flags&=-33);var E=Kf(e);rc(e,E,v);break;case 3:case 4:var R=o.stateNode.containerInfo,N=Kf(e);Qf(e,N,R);break;default:throw Error(r(161))}}}catch(G){Zt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hy(e,i.alternate,i),i=i.sibling}function Aa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Aa(i);break;case 1:fn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&sy(i,i.return,s),Aa(i);break;case 26:case 27:case 5:fn(i,i.return),Aa(i);break;case 22:fn(i,i.return),i.memoizedState===null&&Aa(i);break;default:Aa(i)}e=e.sibling}}function vr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,s),eo(4,d);break;case 1:if(vr(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Zt(o,o.return,N)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ny(R[h],E)}catch(N){Zt(o,o.return,N)}}s&&v&64&&ry(d),_s(d,d.return);break;case 26:case 27:case 5:vr(h,d,s),s&&o===null&&v&4&&ay(d),_s(d,d.return);break;case 12:vr(h,d,s);break;case 13:vr(h,d,s),s&&v&4&&my(h,d);break;case 22:d.memoizedState===null&&vr(h,d,s),_s(d,d.return);break;default:vr(h,d,s)}i=i.sibling}}function Zf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fl(s))}function $f(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fl(e))}function Er(e,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(e,i,s,o),i=i.sibling}function yy(e,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Er(e,i,s,o),h&2048&&eo(9,i);break;case 3:Er(e,i,s,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fl(e)));break;case 12:if(h&2048){Er(e,i,s,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(i,i.return,R)}}else Er(e,i,s,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Er(e,i,s,o):no(e,i):d._visibility&4?Er(e,i,s,o):(d._visibility|=4,Sa(e,i,s,o,(i.subtreeFlags&10256)!==0)),h&2048&&Zf(i.alternate,i);break;case 24:Er(e,i,s,o),h&2048&&$f(i.alternate,i);break;default:Er(e,i,s,o)}}function Sa(e,i,s,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=s,R=o,N=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(d,v,E,R,h),eo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?Sa(d,v,E,R,h):no(d,v):(G._visibility|=4,Sa(d,v,E,R,h)),h&&N&2048&&Zf(v.alternate,v);break;case 24:Sa(d,v,E,R,h),h&&N&2048&&$f(v.alternate,v);break;default:Sa(d,v,E,R,h)}i=i.sibling}}function no(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,o=i,h=o.flags;switch(o.tag){case 22:no(s,o),h&2048&&Zf(o.alternate,o);break;case 24:no(s,o),h&2048&&$f(o.alternate,o);break;default:no(s,o)}i=i.sibling}}var io=8192;function ba(e){if(e.subtreeFlags&io)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 26:ba(e),e.flags&io&&e.memoizedState!==null&&KA(Fn,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var i=Fn;Fn=vc(e.stateNode.containerInfo),ba(e),Fn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=io,io=16777216,ba(e),io=i):ba(e));break;default:ba(e)}}function vy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ro(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Pe=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:ro(e),e.flags&2048&&_r(9,e,e.return);break;case 3:ro(e);break;case 12:ro(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,sc(e)):ro(e);break;default:ro(e)}}function sc(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Pe=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_r(8,i,i.return),sc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,sc(i));break;default:sc(i)}e=e.sibling}}function Ty(e,i){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:_r(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,d=o.return;if(fy(o),o===s){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}function sA(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,i,s,o){return new sA(e,i,s,o)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tr(e,i){var s=e.alternate;return s===null?(s=Mn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ay(e,i){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ac(e,i,s,o,h,d){var v=0;if(o=e,typeof e=="function")Jf(e)&&(v=1);else if(typeof e=="string")v=GA(e,s,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return vs(s.children,h,d,i);case y:v=8,h|=24;break;case A:return e=Mn(12,s,i,h|2),e.elementType=A,e.lanes=d,e;case J:return e=Mn(13,s,i,h),e.elementType=J,e.lanes=d,e;case X:return e=Mn(19,s,i,h),e.elementType=X,e.lanes=d,e;case st:return Sy(s,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case q:v=10;break t;case M:v=9;break t;case Y:v=11;break t;case yt:v=14;break t;case ot:v=16,o=null;break t}v=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Mn(v,s,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function vs(e,i,s,o){return e=Mn(7,e,o,i),e.lanes=s,e}function Sy(e,i,s,o){e=Mn(22,e,o,i),e.elementType=st,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(r(456));if(!(h._pendingVisibility&2)){var v=ur(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(r(456));if(h._pendingVisibility&2){var v=ur(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Wf(e,i,s){return e=Mn(6,e,null,i),e.lanes=s,e}function td(e,i,s){return i=Mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ui(e){e.flags|=4}function by(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!o_(i)){if(i=xn.current,i!==null&&((Pt&4194176)===Pt?ai!==null:(Pt&62914560)!==Pt&&!(Pt&536870912)||i!==ai))throw jl=sf,qg;e.flags|=8192}}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?$i():536870912,e.lanes|=i,wa|=i)}function so(e,i){if(!kt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function aA(e,i,s){var o=i.pendingProps;switch(nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return s=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(De),gi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ll(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Gn!==null&&(od(Gn),Gn=null))),ie(i),null;case 26:return s=i.memoizedState,e===null?(Ui(i),s!==null?(ie(i),by(i,s)):(ie(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Ui(i),ie(i),by(i,s)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==o&&Ui(i),ie(i),i.flags&=-16777217),null;case 27:Fs(i),s=En.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=Ze.current,Ll(i)?Bg(i):(e=t_(h,o,s),i.stateNode=e,Ui(i))}return ie(i),null;case 5:if(Fs(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(e=Ze.current,Ll(i))Bg(i);else{switch(h=_c(En.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[xe]=i,e[be]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(qe(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=En.current,Ll(i)){if(e=i.stateNode,s=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=i,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,s)),e||us(i)}else e=_c(e).createTextNode(o),e[xe]=i,i.stateNode=e}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ll(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xe]=i}else Bl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else Gn!==null&&(od(Gn),Gn=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),i.flags&128)return i.lanes=s,i;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),lc(i,i.updateQueue),ie(i),null;case 4:return gi(),e===null&&vd(i.stateNode.containerInfo),ie(i),null;case 10:return Ni(i.type),ie(i),null;case 19:if(le(Ie),h=i.memoizedState,h===null)return ie(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)so(h,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Gu(e),d!==null){for(i.flags|=128,so(h,!1),e=d.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Ay(s,e),s=s.sibling;return Gt(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&sn()>oc&&(i.flags|=128,o=!0,so(h,!1),i.lanes=4194304)}else{if(!o)if(e=Gu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),so(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!kt)return ie(i),null}else 2*sn()-h.renderingStartTime>oc&&s!==536870912&&(i.flags|=128,o=!0,so(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,e=Ie.current,Gt(Ie,o?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Di(i),lf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?s&536870912&&!(i.flags&128)&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),s=i.updateQueue,s!==null&&lc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),e!==null&&le(hs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ni(De),ie(i),null;case 25:return null}throw Error(r(156,i.tag))}function lA(e,i){switch(nf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(De),gi(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Bl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return le(Ie),null;case 4:return gi(),null;case 10:return Ni(i.type),null;case 22:case 23:return Di(i),lf(),e!==null&&le(hs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(De),null;case 25:return null;default:return null}}function Ry(e,i){switch(nf(i),i.tag){case 3:Ni(De),gi();break;case 26:case 27:case 5:Fs(i);break;case 4:gi();break;case 13:Di(i);break;case 19:le(Ie);break;case 10:Ni(i.type);break;case 22:case 23:Di(i),lf(),e!==null&&le(hs);break;case 24:Ni(De)}}var oA={getCacheForType:function(e){var i=Fe(De),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},uA=typeof WeakMap=="function"?WeakMap:Map,re=0,Jt=null,Ct=null,Pt=0,Wt=0,mn=null,zi=!1,Ra=!1,ed=!1,Li=0,ce=0,Ar=0,Es=0,nd=0,Pn=0,wa=0,ao=null,oi=null,id=!1,rd=0,oc=1/0,uc=null,Sr=null,cc=!1,Ts=null,lo=0,sd=0,ad=null,oo=0,ld=null;function gn(){if(re&2&&Pt!==0)return Pt&-Pt;if(S.T!==null){var e=ya;return e!==0?e:gd()}return pu()}function wy(){Pn===0&&(Pn=!(Pt&536870912)||kt?El():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Pn}function en(e,i,s){(e===Jt&&Wt===2||e.cancelPendingCommit!==null)&&(Ia(e,0),Bi(e,Pt,Pn,!1)),de(e,s),(!(re&2)||e!==Jt)&&(e===Jt&&(!(re&2)&&(Es|=s),ce===4&&Bi(e,Pt,Pn,!1)),ui(e))}function Iy(e,i,s){if(re&6)throw Error(r(327));var o=!s&&(i&60)===0&&(i&e.expiredLanes)===0||Zi(e,i),h=o?fA(e,i):hd(e,i,!0),d=o;do{if(h===0){Ra&&!o&&Bi(e,i,0,!1);break}else if(h===6)Bi(e,i,0,!zi);else{if(s=e.current.alternate,d&&!cA(s)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=ao;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,v).flags|=256),v=hd(E,v,!1),v!==2){if(ed&&!R){E.errorRecoveryDisabledLanes|=d,Es|=d,h=4;break t}d=oi,oi=h,d!==null&&od(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(e,0),Bi(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){Bi(o,i,Pn,!zi);break t}break;case 2:oi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=s,o.finishedLanes=i,(i&62914560)===i&&(d=rd+300-sn(),10<d)){if(Bi(o,i,Pn,!zi),Tn(o,0)!==0)break t;o.timeoutHandle=$y(Dy.bind(null,o,s,oi,uc,id,i,Pn,Es,wa,zi,2,-0,0),d);break t}Dy(o,s,oi,uc,id,i,Pn,Es,wa,zi,0,-0,0)}}break}while(!0);ui(e)}function od(e){oi===null?oi=e:oi.push.apply(oi,e)}function Dy(e,i,s,o,h,d,v,E,R,N,G,Q,k){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:FA},_y(i),i=QA(),i!==null)){e.cancelPendingCommit=i(Py.bind(null,e,s,o,h,v,E,R,1,Q,k)),Bi(e,d,v,!N);return}Py(e,s,o,h,v,E,R,G,Q,k)}function cA(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(e,i,s,o){i&=~nd,i&=~Es,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;o[d]=-1,h&=~v}s!==0&&Ji(e,s,i)}function hc(){return re&6?!0:(uo(0),!1)}function ud(){if(Ct!==null){if(Wt===0)var e=Ct.return;else e=Ct,xi=ps=null,gf(e),ga=null,Hl=0,e=Ct;for(;e!==null;)Ry(e.alternate,e),e=e.return;Ct=null}}function Ia(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ud(),Jt=e,Ct=s=Tr(e.current,null),Pt=i,Wt=0,mn=null,zi=!1,Ra=Zi(e,i),ed=!1,wa=Pn=nd=Es=Ar=ce=0,oi=ao=null,id=!1,i&8&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-$e(o),d=1<<h;i|=e[h],o&=~d}return Li=i,Pu(),s}function Vy(e,i){It=null,S.H=li,i===ql?(i=Gg(),Wt=3):i===qg?(i=Gg(),Wt=4):Wt=i===jp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ct===null&&(ce=1,ec(e,Dn(i,e.current)))}function Cy(){var e=S.H;return S.H=li,e===null?li:e}function xy(){var e=S.A;return S.A=oA,e}function cd(){ce=4,zi||(Pt&4194176)!==Pt&&xn.current!==null||(Ra=!0),!(Ar&134217727)&&!(Es&134217727)||Jt===null||Bi(Jt,Pt,Pn,!1)}function hd(e,i,s){var o=re;re|=2;var h=Cy(),d=xy();(Jt!==e||Pt!==i)&&(uc=null,Ia(e,i)),i=!1;var v=ce;t:do try{if(Wt!==0&&Ct!==null){var E=Ct,R=mn;switch(Wt){case 8:ud(),v=6;break t;case 3:case 2:case 6:xn.current===null&&(i=!0);var N=Wt;if(Wt=0,mn=null,Da(e,E,R,N),s&&Ra){v=0;break t}break;default:N=Wt,Wt=0,mn=null,Da(e,E,R,N)}}hA(),v=ce;break}catch(G){Vy(e,G)}while(!0);return i&&e.shellSuspendCounter++,xi=ps=null,re=o,S.H=h,S.A=d,Ct===null&&(Jt=null,Pt=0,Pu()),v}function hA(){for(;Ct!==null;)Ny(Ct)}function fA(e,i){var s=re;re|=2;var o=Cy(),h=xy();Jt!==e||Pt!==i?(uc=null,oc=sn()+500,Ia(e,i)):Ra=Zi(e,i);t:do try{if(Wt!==0&&Ct!==null){i=Ct;var d=mn;e:switch(Wt){case 1:Wt=0,mn=null,Da(e,i,d,1);break;case 2:if(jg(d)){Wt=0,mn=null,Oy(i);break}i=function(){Wt===2&&Jt===e&&(Wt=7),ui(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:jg(d)?(Wt=0,mn=null,Oy(i)):(Wt=0,mn=null,Da(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||o_(v)){Wt=0,mn=null;var R=E.sibling;if(R!==null)Ct=R;else{var N=E.return;N!==null?(Ct=N,fc(N)):Ct=null}break e}}Wt=0,mn=null,Da(e,i,d,5);break;case 6:Wt=0,mn=null,Da(e,i,d,6);break;case 8:ud(),ce=6;break t;default:throw Error(r(462))}}dA();break}catch(G){Vy(e,G)}while(!0);return xi=ps=null,S.H=o,S.A=h,re=s,Ct!==null?0:(Jt=null,Pt=0,Pu(),ce)}function dA(){for(;Ct!==null&&!Lh();)Ny(Ct)}function Ny(e){var i=ty(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?fc(e):Ct=i}function Oy(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Yp(s,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Yp(s,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:gf(i);default:Ry(s,i),i=Ct=Ay(i,Li),i=ty(s,i,Li)}e.memoizedProps=e.pendingProps,i===null?fc(e):Ct=i}function Da(e,i,s,o){xi=ps=null,gf(i),ga=null,Hl=0;var h=i.return;try{if(eA(e,h,i,s,Pt)){ce=1,ec(e,Dn(s,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;ce=1,ec(e,Dn(s,e.current)),Ct=null;return}i.flags&32768?(kt||o===1?e=!0:Ra||Pt&536870912?e=!1:(zi=e=!0,(o===2||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(i,e)):fc(i)}function fc(e){var i=e;do{if(i.flags&32768){My(i,zi);return}e=i.return;var s=aA(i.alternate,i,Li);if(s!==null){Ct=s;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);ce===0&&(ce=5)}function My(e,i){do{var s=lA(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function Py(e,i,s,o,h,d,v,E,R,N){var G=S.T,Q=it.p;try{it.p=2,S.T=null,mA(e,i,s,o,Q,h,d,v,E,R,N)}finally{S.T=G,it.p=Q}}function mA(e,i,s,o,h,d,v,E){do Va();while(Ts!==null);if(re&6)throw Error(r(327));var R=e.finishedWork;if(o=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=R.lanes|R.childLanes;if(N|=Wh,mu(e,o,N,d,v,E),e===Jt&&(Ct=Jt=null,Pt=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||cc||(cc=!0,sd=N,ad=s,_A(pi,function(){return Va(),null})),s=(R.flags&15990)!==0,R.subtreeFlags&15990||s?(s=S.T,S.T=null,d=it.p,it.p=2,v=re,re|=4,iA(e,R),gy(R,e),L0(Sd,e.containerInfo),bc=!!Ad,Sd=Ad=null,e.current=R,hy(e,R.alternate,R),pl(),re=v,it.p=d,S.T=s):e.current=R,cc?(cc=!1,Ts=e,lo=o):Uy(e,N),N=e.pendingLanes,N===0&&(Sr=null),_l(R.stateNode),ui(e),i!==null)for(h=e.onRecoverableError,R=0;R<i.length;R++)N=i[R],h(N.value,{componentStack:N.stack});return lo&3&&Va(),N=e.pendingLanes,o&4194218&&N&42?e===ld?oo++:(oo=0,ld=e):oo=0,uo(0),null}function Uy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fl(i)))}function Va(){if(Ts!==null){var e=Ts,i=sd;sd=0;var s=gu(lo),o=S.T,h=it.p;try{if(it.p=32>s?32:s,S.T=null,Ts===null)var d=!1;else{s=ad,ad=null;var v=Ts,E=lo;if(Ts=null,lo=0,re&6)throw Error(r(331));var R=re;if(re|=4,Ey(v.current),yy(v,v.current,E,s),re=R,uo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Yi,v)}catch{}d=!0}return d}finally{it.p=h,S.T=o,Uy(e,i)}}return!1}function zy(e,i,s){i=Dn(s,i),i=Vf(e.stateNode,i,2),e=yr(e,i,2),e!==null&&(de(e,2),ui(e))}function Zt(e,i,s){if(e.tag===3)zy(e,e,s);else for(;i!==null;){if(i.tag===3){zy(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sr===null||!Sr.has(o))){e=Dn(s,e),s=kp(2),o=yr(i,s,2),o!==null&&(qp(s,o,i,e),de(o,2),ui(o));break}}i=i.return}}function fd(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new uA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(ed=!0,h.add(s),e=gA.bind(null,e,i,s),i.then(e,e))}function gA(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Pt&s)===s&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>sn()-rd?!(re&2)&&Ia(e,0):nd|=s,wa===Pt&&(wa=0)),ui(e)}function Ly(e,i){i===0&&(i=$i()),e=ur(e,i),e!==null&&(de(e,i),ui(e))}function pA(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Ly(e,s)}function yA(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Ly(e,s)}function _A(e,i){return Fr(e,i)}var dc=null,Ca=null,dd=!1,mc=!1,md=!1,As=0;function ui(e){e!==Ca&&e.next===null&&(Ca===null?dc=Ca=e:Ca=Ca.next=e),mc=!0,dd||(dd=!0,EA(vA))}function uo(e,i){if(!md&&mc){md=!0;do for(var s=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,qy(o,d))}else d=Pt,d=Tn(o,o===Jt?d:0),!(d&3)||Zi(o,d)||(s=!0,qy(o,d));o=o.next}while(s);md=!1}}function vA(){mc=dd=!1;var e=0;As!==0&&(DA()&&(e=As),As=0);for(var i=sn(),s=null,o=dc;o!==null;){var h=o.next,d=By(o,i);d===0?(o.next=null,s===null?dc=h:s.next=h,h===null&&(Ca=s)):(s=o,(e!==0||d&3)&&(mc=!0)),o=h}uo(e)}function By(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,R=h[v];R===-1?(!(E&s)||E&o)&&(h[v]=Ys(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=Jt,s=Pt,s=Tn(e,e===i?s:0),o=e.callbackNode,s===0||e===i&&Wt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qs(o),e.callbackNode=null,e.callbackPriority=0;if(!(s&3)||Zi(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(o!==null&&Qs(o),gu(s)){case 2:case 8:s=Ce;break;case 32:s=pi;break;case 268435456:s=yl;break;default:s=pi}return o=ky.bind(null,e),s=Fr(s,o),e.callbackPriority=i,e.callbackNode=s,i}return o!==null&&o!==null&&Qs(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,i){var s=e.callbackNode;if(Va()&&e.callbackNode!==s)return null;var o=Pt;return o=Tn(e,e===Jt?o:0),o===0?null:(Iy(e,o,i),By(e,sn()),e.callbackNode!=null&&e.callbackNode===s?ky.bind(null,e):null)}function qy(e,i){if(Va())return null;Iy(e,i,!0)}function EA(e){CA(function(){re&6?Fr(Se,e):e()})}function gd(){return As===0&&(As=El()),As}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function Hy(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function TA(e,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var d=jy((h[be]||null).action),v=o.submitter;v&&(i=(i=v[be]||null)?jy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ea("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var R=v?Hy(h,v):new FormData(h);bf(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?Hy(h,v):new FormData(h),bf(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var pd=0;pd<Pg.length;pd++){var yd=Pg[pd],AA=yd.toLowerCase(),SA=yd[0].toUpperCase()+yd.slice(1);Hn(AA,"on"+SA)}Hn(Cg,"onAnimationEnd"),Hn(xg,"onAnimationIteration"),Hn(Ng,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(k0,"onTransitionRun"),Hn(q0,"onTransitionStart"),Hn(j0,"onTransitionCancel"),Hn(Og,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function Gy(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,N=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(G){tc(G)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,N=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(G){tc(G)}h.currentTarget=null,d=R}}}}function xt(e,i){var s=i[Qr];s===void 0&&(s=i[Qr]=new Set);var o=e+"__bubble";s.has(o)||(Fy(i,e,2,!1),s.add(o))}function _d(e,i,s){var o=0;i&&(o|=4),Fy(s,e,o,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[gc]){e[gc]=!0,Al.forEach(function(s){s!=="selectionchange"&&(bA.has(s)||_d(s,!1,e),_d(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,_d("selectionchange",!1,i))}}function Fy(e,i,s,o){switch(m_(i)){case 2:var h=ZA;break;case 8:h=$A;break;default:h=Nd}s=h.bind(null,i,s,e),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Ed(e,i,s,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;E!==null;){if(v=jn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue t}E=E.parentNode}}o=o.return}Eu(function(){var N=d,G=ta(s),Q=[];t:{var k=Mg.get(e);if(k!==void 0){var H=ea,ut=e;switch(e){case"keypress":if(ti(s)===0)break t;case"keydown":case"keyup":H=la;break;case"focusin":ut="focus",H=ra;break;case"focusout":ut="blur",H=ra;break;case"beforeblur":case"afterblur":H=ra;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Du;break;case Cg:case xg:case Ng:H=sa;break;case Og:H=Cu;break;case"scroll":case"scrollend":H=Tu;break;case"wheel":H=oa;break;case"copy":case"cut":case"paste":H=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ml;break;case"toggle":case"beforetoggle":H=Nu}var Tt=(i&4)!==0,he=!Tt&&(e==="scroll"||e==="scrollend"),P=Tt?k!==null?k+"Capture":null:k;Tt=[];for(var C=N,B;C!==null;){var F=C;if(B=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||B===null||P===null||(F=Jr(C,P),F!=null&&Tt.push(ho(C,F,B))),he)break;C=C.return}0<Tt.length&&(k=new H(k,ut,null,s,G),Q.push({event:k,listeners:Tt}))}}if(!(i&7)){t:{if(k=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",k&&s!==bn&&(ut=s.relatedTarget||s.fromElement)&&(jn(ut)||ut[yi]))break t;if((H||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=N,ut=ut?jn(ut):null,ut!==null&&(he=mt(ut),Tt=ut.tag,ut!==he||Tt!==5&&Tt!==27&&Tt!==6)&&(ut=null)):(H=null,ut=N),H!==ut)){if(Tt=wn,F="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Ml,F="onPointerLeave",P="onPointerEnter",C="pointer"),he=H==null?k:nr(H),B=ut==null?k:nr(ut),k=new Tt(F,C+"leave",H,s,G),k.target=he,k.relatedTarget=B,F=null,jn(G)===N&&(Tt=new Tt(P,C+"enter",ut,s,G),Tt.target=B,Tt.relatedTarget=he,F=Tt),he=F,H&&ut)e:{for(Tt=H,P=ut,C=0,B=Tt;B;B=xa(B))C++;for(B=0,F=P;F;F=xa(F))B++;for(;0<C-B;)Tt=xa(Tt),C--;for(;0<B-C;)P=xa(P),B--;for(;C--;){if(Tt===P||P!==null&&Tt===P.alternate)break e;Tt=xa(Tt),P=xa(P)}Tt=null}else Tt=null;H!==null&&Ky(Q,k,H,Tt,!1),ut!==null&&he!==null&&Ky(Q,he,ut,Tt,!0)}}t:{if(k=N?nr(N):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var rt=vg;else if(we(k))if(Eg)rt=U0;else{rt=M0;var Vt=O0}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&Il(N.elementType)&&(rt=vg):rt=P0;if(rt&&(rt=rt(e,N))){Ri(Q,rt,s,G);break t}Vt&&Vt(e,k,N),e==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&Ws(k,"number",k.value)}switch(Vt=N?nr(N):window,e){case"focusin":(we(Vt)||Vt.contentEditable==="true")&&(ua=Vt,Zh=N,zl=null);break;case"focusout":zl=Zh=ua=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Dg(Q,s,G);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Dg(Q,s,G)}var dt;if(ii)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?j(e,s)&&(pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(_&&s.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(dt=Vl()):(Wn=G,or="value"in Wn?Wn.value:Wn.textContent,Ot=!0)),Vt=pc(N,pt),0<Vt.length&&(pt=new Nl(pt,e,null,s,G),Q.push({event:pt,listeners:Vt}),dt?pt.data=dt:(dt=W(s),dt!==null&&(pt.data=dt)))),(dt=g?Re(e,s):Mt(e,s))&&(pt=pc(N,"onBeforeInput"),0<pt.length&&(Vt=new Nl("onBeforeInput","beforeinput",null,s,G),Q.push({event:Vt,listeners:pt}),Vt.data=dt)),TA(Q,e,N,s,G)}Gy(Q,i)})}function ho(e,i,s){return{instance:e,listener:i,currentTarget:s}}function pc(e,i){for(var s=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jr(e,s),h!=null&&o.unshift(ho(e,h,d)),h=Jr(e,i),h!=null&&o.push(ho(e,h,d))),e=e.return}return o}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,i,s,o,h){for(var d=i._reactName,v=[];s!==null&&s!==o;){var E=s,R=E.alternate,N=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||N===null||(R=N,h?(N=Jr(s,d),N!=null&&v.unshift(ho(s,N,R))):h||(N=Jr(s,d),N!=null&&v.push(ho(s,N,R)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var RA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(RA,`
`).replace(wA,"")}function Yy(e,i){return i=Qy(i),Qy(e)===i}function yc(){}function Qt(e,i,s,o,h,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Sn(e,""+o);break;case"className":sr(e,"class",o);break;case"tabIndex":sr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,s,o);break;case"style":vu(e,o,d);break;case"data":if(i!=="object"){sr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Jn(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Jn(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=yc);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Jn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),rr(e,"popover",o);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hh.get(s)||s,rr(e,s,o))}}function Td(e,i,s,o,h,d){switch(s){case"style":vu(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[be]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):rr(e,s,o)}}}function qe(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(e,i,d,v,s,null)}}h&&Qt(e,i,"srcSet",s.srcSet,s,null),o&&Qt(e,i,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=d=v=h=null,R=null,N=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":N=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Qt(e,i,o,G,s,null)}}Zr(e,d,E,R,N,v,h,!1),Xr(e);return;case"select":xt("invalid",e),o=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Qt(e,i,h,E,s,null)}i=d,s=v,e.multiple=!!o,i!=null?Bt(e,!!o,i,!1):s!=null&&Bt(e,!!o,s,!0);return;case"textarea":xt("invalid",e),d=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Qt(e,i,v,E,s,null)}lr(e,o,h,d),Xr(e);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,i,R,o,s,null)}return;case"dialog":xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<co.length;o++)xt(co[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(o=s[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(e,i,N,o,s,null)}return;default:if(Il(i)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Td(e,i,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Qt(e,i,E,o,s,null))}function IA(e,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,N=null,G=null;for(H in s){var Q=s[H];if(s.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(H)||Qt(e,i,H,null,o,Q)}}for(var k in o){var H=o[k];if(Q=s[k],o.hasOwnProperty(k)&&(H!=null||Q!=null))switch(k){case"type":d=H;break;case"name":h=H;break;case"checked":N=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Q&&Qt(e,i,k,H,o,Q)}}ar(e,v,E,R,N,G,d,h);return;case"select":H=v=E=k=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(d)||Qt(e,i,d,null,o,R)}for(h in o)if(d=o[h],R=s[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":k=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Qt(e,i,h,d,o,R)}i=E,s=v,o=H,k!=null?Bt(e,!!s,k,!1):!!o!=!!s&&(i!=null?Bt(e,!!s,i,!0):Bt(e,!!s,s?[]:"",!1));return;case"textarea":H=k=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=s[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":k=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Qt(e,i,v,h,o,d)}$r(e,k,H);return;case"option":for(var ut in s)if(k=s[ut],s.hasOwnProperty(ut)&&k!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Qt(e,i,ut,null,o,k)}for(R in o)if(k=o[R],H=s[R],o.hasOwnProperty(R)&&k!==H&&(k!=null||H!=null))switch(R){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(e,i,R,k,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)k=s[Tt],s.hasOwnProperty(Tt)&&k!=null&&!o.hasOwnProperty(Tt)&&Qt(e,i,Tt,null,o,k);for(N in o)if(k=o[N],H=s[N],o.hasOwnProperty(N)&&k!==H&&(k!=null||H!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:Qt(e,i,N,k,o,H)}return;default:if(Il(i)){for(var he in s)k=s[he],s.hasOwnProperty(he)&&k!==void 0&&!o.hasOwnProperty(he)&&Td(e,i,he,void 0,o,k);for(G in o)k=o[G],H=s[G],!o.hasOwnProperty(G)||k===H||k===void 0&&H===void 0||Td(e,i,G,k,o,H);return}}for(var P in s)k=s[P],s.hasOwnProperty(P)&&k!=null&&!o.hasOwnProperty(P)&&Qt(e,i,P,null,o,k);for(Q in o)k=o[Q],H=s[Q],!o.hasOwnProperty(Q)||k===H||k==null&&H==null||Qt(e,i,Q,k,o,H)}var Ad=null,Sd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function DA(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(xA)}:$y;function xA(e){setTimeout(function(){throw e})}function wd(e,i){var s=i,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(o===0){e.removeChild(h),Eo(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=h}while(s);Eo(i)}function Id(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Id(s),Yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function NA(e,i,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[er])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function OA(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Kn(e.nextSibling),e===null))return null;return e}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Wy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function t_(e,i,s){switch(i=_c(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var Un=new Map,e_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ki=it.d;it.d={f:MA,r:PA,D:UA,C:zA,L:LA,m:BA,X:qA,S:kA,M:jA};function MA(){var e=ki.f(),i=hc();return e||i}function PA(e){var i=_i(e);i!==null&&i.tag===5&&i.type==="form"?Dp(i):ki.r(e)}var Na=typeof document>"u"?null:document;function n_(e,i,s){var o=Na;if(o&&typeof i=="string"&&i){var h=oe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),e_.has(h)||(e_.add(h),e={rel:e,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),qe(i,"link",e),ne(i),o.head.appendChild(i)))}}function UA(e){ki.D(e),n_("dns-prefetch",e,null)}function zA(e,i){ki.C(e,i),n_("preconnect",e,i)}function LA(e,i,s){ki.L(e,i,s);var o=Na;if(o&&e&&i){var h='link[rel="preload"][as="'+oe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+oe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+oe(s.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var d=h;switch(i){case"style":d=Oa(e);break;case"script":d=Ma(e)}Un.has(d)||(e=D({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Un.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(fo(d))||i==="script"&&o.querySelector(mo(d))||(i=o.createElement("link"),qe(i,"link",e),ne(i),o.head.appendChild(i)))}}function BA(e,i){ki.m(e,i);var s=Na;if(s&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+oe(o)+'"][href="'+oe(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(e)}if(!Un.has(d)&&(e=D({rel:"modulepreload",href:e},i),Un.set(d,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(mo(d)))return}o=s.createElement("link"),qe(o,"link",e),ne(o),s.head.appendChild(o)}}}function kA(e,i,s){ki.S(e,i,s);var o=Na;if(o&&e){var h=ir(o).hoistableStyles,d=Oa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(fo(d)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Un.get(d))&&Dd(e,s);var R=v=o.createElement("link");ne(R),qe(R,"link",e),R._p=new Promise(function(N,G){R.onload=N,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function qA(e,i){ki.X(e,i);var s=Na;if(s&&e){var o=ir(s).hoistableScripts,h=Ma(e),d=o.get(h);d||(d=s.querySelector(mo(h)),d||(e=D({src:e,async:!0},i),(i=Un.get(h))&&Vd(e,i),d=s.createElement("script"),ne(d),qe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function jA(e,i){ki.M(e,i);var s=Na;if(s&&e){var o=ir(s).hoistableScripts,h=Ma(e),d=o.get(h);d||(d=s.querySelector(mo(h)),d||(e=D({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&Vd(e,i),d=s.createElement("script"),ne(d),qe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function i_(e,i,s,o){var h=(h=En.current)?vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Oa(s.href),s=ir(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Oa(s.href);var d=ir(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(fo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),d||HA(h,e,s,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(s),s=ir(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Oa(e){return'href="'+oe(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,i,s,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),qe(i,"link",s),ne(i),e.head.appendChild(i))}function Ma(e){return'[src="'+oe(e)+'"]'}function mo(e){return"script[async]"+e}function s_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+oe(s.href)+'"]');if(o)return i.instance=o,ne(o),o;var h=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ne(o),qe(o,"style",h),Ec(o,s.precedence,e),i.instance=o;case"stylesheet":h=Oa(s.href);var d=e.querySelector(fo(h));if(d)return i.state.loading|=4,i.instance=d,ne(d),d;o=r_(s),(h=Un.get(h))&&Dd(o,h),d=(e.ownerDocument||e).createElement("link"),ne(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),qe(d,"link",o),i.state.loading|=4,Ec(d,s.precedence,e),i.instance=d;case"script":return d=Ma(s.src),(h=e.querySelector(mo(d)))?(i.instance=h,ne(h),h):(o=s,(h=Un.get(d))&&(o=D({},s),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,Ec(o,s.precedence,e));return i.instance}function Ec(e,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function a_(e,i,s){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(s,o)}else h=Tc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[er]||d[xe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function l_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function GA(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var go=null;function FA(){}function KA(e,i,s){if(go===null)throw Error(r(475));var o=go;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Oa(s.href),d=e.querySelector(fo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ac.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ne(d);return}d=e.ownerDocument||e,s=r_(s),(h=Un.get(h))&&Dd(s,h),d=d.createElement("link"),ne(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),qe(d,"link",s),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=Ac.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function QA(){if(go===null)throw Error(r(475));var e=go;return e.stylesheets&&e.count===0&&Cd(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function Cd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,i.forEach(YA,e),Sc=null,Ac.call(e))}function YA(e,i){if(!(i.state.loading&4)){var s=Sc.get(e);if(s)var o=s.get(null);else{s=new Map,Sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,h),s.set(v,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var po={$$typeof:q,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function XA(e,i,s,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function u_(e,i,s,o,h,d,v,E,R,N,G,Q){return e=new XA(e,i,s,v,E,R,N,Q),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),e.current=d,d.stateNode=e,i=of(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},jf(d),e}function c_(e){return e?(e=fa,e):fa}function h_(e,i,s,o,h,d){h=c_(h),o.context===null?o.context=h:o.pendingContext=h,o=pr(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=yr(e,o,i),s!==null&&(en(s,e,i),Jl(s,e,i))}function f_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function xd(e,i){f_(e,i),(e=e.alternate)&&f_(e,i)}function d_(e){if(e.tag===13){var i=ur(e,67108864);i!==null&&en(i,e,67108864),xd(e,67108864)}}var bc=!0;function ZA(e,i,s,o){var h=S.T;S.T=null;var d=it.p;try{it.p=2,Nd(e,i,s,o)}finally{it.p=d,S.T=h}}function $A(e,i,s,o){var h=S.T;S.T=null;var d=it.p;try{it.p=8,Nd(e,i,s,o)}finally{it.p=d,S.T=h}}function Nd(e,i,s,o){if(bc){var h=Od(o);if(h===null)Ed(e,i,o,Rc,s),g_(e,o);else if(WA(h,e,i,s,o))o.stopPropagation();else if(g_(e,o),i&4&&-1<JA.indexOf(e)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-$e(v);E.entanglements[1]|=R,v&=~R}ui(d),!(re&6)&&(oc=sn()+500,uo(0))}}break;case 13:E=ur(d,2),E!==null&&en(E,d,2),hc(),xd(d,2)}if(d=Od(o),d===null&&Ed(e,i,o,Rc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,s)}}function Od(e){return e=ta(e),Md(e)}var Rc=null;function Md(e){if(Rc=null,e=jn(e),e!==null){var i=mt(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=jt(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Rc=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cu()){case Se:return 2;case Ce:return 8;case pi:case hu:return 32;case yl:return 268435456;default:return 32}default:return 32}}var Pd=!1,br=null,Rr=null,wr=null,yo=new Map,_o=new Map,Ir=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(e,i){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":yo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(i.pointerId)}}function vo(e,i,s,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&d_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function WA(e,i,s,o,h){switch(i){case"focusin":return br=vo(br,e,i,s,o,h),!0;case"dragenter":return Rr=vo(Rr,e,i,s,o,h),!0;case"mouseover":return wr=vo(wr,e,i,s,o,h),!0;case"pointerover":var d=h.pointerId;return yo.set(d,vo(yo.get(d)||null,e,i,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,_o.set(d,vo(_o.get(d)||null,e,i,s,o,h)),!0}return!1}function p_(e){var i=jn(e.target);if(i!==null){var s=mt(i);if(s!==null){if(i=s.tag,i===13){if(i=jt(s),i!==null){e.blockedOn=i,tr(e.priority,function(){if(s.tag===13){var o=gn(),h=ur(s,o);h!==null&&en(h,s,o),xd(s,o)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bn=o,s.target.dispatchEvent(o),bn=null}else return i=_i(s),i!==null&&d_(i),e.blockedOn=s,!1;i.shift()}return!0}function y_(e,i,s){wc(e)&&s.delete(i)}function tS(){Pd=!1,br!==null&&wc(br)&&(br=null),Rr!==null&&wc(Rr)&&(Rr=null),wr!==null&&wc(wr)&&(wr=null),yo.forEach(y_),_o.forEach(y_)}function Ic(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,tS)))}var Dc=null;function __(e){Dc!==e&&(Dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var s=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Md(o||s)===null)continue;break}var d=_i(s);d!==null&&(e.splice(i,3),i-=3,bf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Eo(e){function i(R){return Ic(R,e)}br!==null&&Ic(br,e),Rr!==null&&Ic(Rr,e),wr!==null&&Ic(wr,e),yo.forEach(i),_o.forEach(i);for(var s=0;s<Ir.length;s++){var o=Ir[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)p_(s),s.blockedOn===null&&Ir.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],v=h[be]||null;if(typeof d=="function")v||__(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[be]||null)E=v.formAction;else if(Md(h)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),__(s)}}}function Ud(e){this._internalRoot=e}Vc.prototype.render=Ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,o=gn();h_(s,o,e,i,null,null)},Vc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Va(),h_(e.current,2,null,e,null,null),hc(),i[yi]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=pu();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Ir.length&&i!==0&&i<Ir[s].priority;s++);Ir.splice(s,0,e),s===0&&p_(e)}};var v_=t.version;if(v_!=="19.0.0")throw Error(r(527,v_,"19.0.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Z(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Yi=Cc.inject(eS),Ge=Cc}catch{}}return Ao.createRoot=function(e,i){if(!l(e))throw Error(r(299));var s=!1,o="",h=Up,d=zp,v=Lp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=u_(e,1,!1,null,null,s,o,h,d,v,E,null),e[yi]=i.current,vd(e.nodeType===8?e.parentNode:e),new Ud(i)},Ao.hydrateRoot=function(e,i,s){if(!l(e))throw Error(r(299));var o=!1,h="",d=Up,v=zp,E=Lp,R=null,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(N=s.formState)),i=u_(e,1,!0,i,s??null,o,h,d,v,E,R,N),i.context=c_(null),s=i.current,o=gn(),h=pr(o),h.callback=null,yr(s,h,o),i.current.lanes=o,de(i,o),ui(i),e[yi]=i.current,vd(e),new Vc(i)},Ao.version="19.0.0",Ao}var V_;function hS(){if(V_)return Bd.exports;V_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Bd.exports=cS(),Bd.exports}var fS=hS(),C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},dS=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const l=a[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],m=a[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,m=f?a[l+1]:0,p=l+2<a.length,y=p?a[l+2]:0,A=u>>2,b=(u&3)<<4|m>>4;let M=(m&15)<<2|y>>6,q=y&63;p||(q=64,f||(M=64)),r.push(n[A],n[b],n[M],n[q])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(lE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):dS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],m=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const b=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new mS;const M=u<<2|m>>4;if(r.push(M),y!==64){const q=m<<4&240|y>>2;if(r.push(q),b!==64){const Y=y<<6&192|b;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(a){const t=lE(a);return oE.encodeByteArray(t,!0)},Xc=function(a){return gS(a).replace(/\./g,"")},pS=function(a){try{return oE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof C_>"u")return;const a=C_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ES=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&pS(a[1]);return t&&JSON.parse(t)},Vm=()=>{try{return _S()||vS()||ES()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},TS=a=>{var t,n;return(n=(t=Vm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[a]},AS=a=>{const t=TS(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},uE=()=>{var a;return(a=Vm())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Xc(JSON.stringify(n)),Xc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){var a;const t=(a=Vm())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cE(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hE(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class hl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=IS,Object.setPrototypeOf(this,hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fE.prototype.create)}}class fE{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?DS(u,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new hl(l,m,r)}}function DS(a,t){return a.replace(VS,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const VS=/\{\$([^}]+)}/g;function $c(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=a[l],f=t[l];if(x_(u)&&x_(f)){if(!$c(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function x_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(a){return a&&a._delegate?a._delegate:a}class qo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new SS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(l)}return l}onInit(t,n){var r;const l=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(a){return a===bs?void 0:a}function NS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(zt||(zt={}));const MS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},PS=zt.INFO,US={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},zS=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=US[t];if(l)console[l](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dE{constructor(t){this.name=t,this._logLevel=PS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const LS=(a,t)=>t.some(n=>a instanceof n);let N_,O_;function BS(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,tm=new WeakMap,gE=new WeakMap,Hd=new WeakMap,Cm=new WeakMap;function qS(a){const t=new Promise((n,r)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(Mr(a.result)),l()},f=()=>{r(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&mE.set(n,a)}).catch(()=>{}),Cm.set(t,a),t}function jS(a){if(tm.has(a))return;const t=new Promise((n,r)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});tm.set(a,t)}let em={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return tm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||gE.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function HS(a){em=a(em)}function GS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(Gd(this),t,...n);return gE.set(r,t.sort?t.sort():[t]),Mr(r)}:kS().includes(a)?function(...t){return a.apply(Gd(this),t),Mr(mE.get(this))}:function(...t){return Mr(a.apply(Gd(this),t))}}function FS(a){return typeof a=="function"?GS(a):(a instanceof IDBTransaction&&jS(a),LS(a,BS())?new Proxy(a,em):a)}function Mr(a){if(a instanceof IDBRequest)return qS(a);if(Hd.has(a))return Hd.get(a);const t=FS(a);return t!==a&&(Hd.set(a,t),Cm.set(t,a)),t}const Gd=a=>Cm.get(a);function KS(a,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(a,t),m=Mr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Mr(f.result),p.oldVersion,p.newVersion,Mr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const QS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],Fd=new Map;function M_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=YS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||QS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Fd.set(t,u),u}HS(a=>({...a,get:(t,n,r)=>M_(t,n)||a.get(t,n,r),has:(t,n)=>!!M_(t,n)||a.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZS(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",P_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new dE("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",WS="@firebase/analytics",tb="@firebase/app-check-compat",eb="@firebase/app-check",nb="@firebase/auth",ib="@firebase/auth-compat",rb="@firebase/database",sb="@firebase/data-connect",ab="@firebase/database-compat",lb="@firebase/functions",ob="@firebase/functions-compat",ub="@firebase/installations",cb="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",db="@firebase/performance",mb="@firebase/performance-compat",gb="@firebase/remote-config",pb="@firebase/remote-config-compat",yb="@firebase/storage",_b="@firebase/storage-compat",vb="@firebase/firestore",Eb="@firebase/vertexai",Tb="@firebase/firestore-compat",Ab="firebase",Sb="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",bb={[nm]:"fire-core",[$S]:"fire-core-compat",[WS]:"fire-analytics",[JS]:"fire-analytics-compat",[eb]:"fire-app-check",[tb]:"fire-app-check-compat",[nb]:"fire-auth",[ib]:"fire-auth-compat",[rb]:"fire-rtdb",[sb]:"fire-data-connect",[ab]:"fire-rtdb-compat",[lb]:"fire-fn",[ob]:"fire-fn-compat",[ub]:"fire-iid",[cb]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[db]:"fire-perf",[mb]:"fire-perf-compat",[gb]:"fire-rc",[pb]:"fire-rc-compat",[yb]:"fire-gcs",[_b]:"fire-gcs-compat",[vb]:"fire-fst",[Tb]:"fire-fst-compat",[Eb]:"fire-vertex","fire-js":"fire-js",[Ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,Rb=new Map,rm=new Map;function U_(a,t){try{a.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Wc(a){const t=a.name;if(rm.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,a);for(const n of Jc.values())U_(n,a);for(const n of Rb.values())U_(n,a);return!0}function pE(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function wb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new fE("app","Firebase",Ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=Sb;function xm(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r=Object.assign({name:im,automaticDataCollectionEnabled:!1},t),l=r.name;if(typeof l!="string"||!l)throw Pr.create("bad-app-name",{appName:String(l)});if(n||(n=uE()),!n)throw Pr.create("no-options");const u=Jc.get(l);if(u){if($c(n,u.options)&&$c(r,u.config))return u;throw Pr.create("duplicate-app",{appName:l})}const f=new OS(l);for(const p of rm.values())f.addComponent(p);const m=new Db(n,r,f);return Jc.set(l,m),m}function Cb(a=im){const t=Jc.get(a);if(!t&&a===im&&uE())return xm();if(!t)throw Pr.create("no-app",{appName:a});return t}function Qa(a,t,n){var r;let l=(r=bb[a])!==null&&r!==void 0?r:a;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(m.join(" "));return}Wc(new qo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebase-heartbeat-database",Nb=1,jo="firebase-heartbeat-store";let Kd=null;function yE(){return Kd||(Kd=KS(xb,Nb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(jo)}catch(n){console.warn(n)}}}}).catch(a=>{throw Pr.create("idb-open",{originalErrorMessage:a.message})})),Kd}async function Ob(a){try{const n=(await yE()).transaction(jo),r=await n.objectStore(jo).get(_E(a));return await n.done,r}catch(t){if(t instanceof hl)ji.warn(t.message);else{const n=Pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(n.message)}}}async function z_(a,t){try{const r=(await yE()).transaction(jo,"readwrite");await r.objectStore(jo).put(t,_E(a)),await r.done}catch(n){if(n instanceof hl)ji.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(r.message)}}}function _E(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=1024,Pb=30;class Ub{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=L_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Pb){const f=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L_(),{heartbeatsToSend:r,unsentEntries:l}=zb(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ji.warn(n),""}}}function L_(){return new Date().toISOString().substring(0,10)}function zb(a,t=Mb){const n=[];let r=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),B_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),B_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hE()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ob(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function B_(a){return Xc(JSON.stringify({version:2,heartbeats:a})).length}function Bb(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(a){Wc(new qo("platform-logger",t=>new XS(t),"PRIVATE")),Wc(new qo("heartbeat",t=>new Ub(t),"PRIVATE")),Qa(nm,P_,a),Qa(nm,P_,"esm2017"),Qa("fire-js","")}kb("");var qb="firebase",jb="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(qb,jb,"app");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,vE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,O,z){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return w.prototype[O].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,S){S||(S=0);var D=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)D[O]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(O=0;16>O;++O)D[O]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],O=x.g[2];var z=x.g[3],I=w+(z^S&(O^z))+D[0]+3614090360&4294967295;w=S+(I<<7&4294967295|I>>>25),I=z+(O^w&(S^O))+D[1]+3905402710&4294967295,z=w+(I<<12&4294967295|I>>>20),I=O+(S^z&(w^S))+D[2]+606105819&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(w^O&(z^w))+D[3]+3250441966&4294967295,S=O+(I<<22&4294967295|I>>>10),I=w+(z^S&(O^z))+D[4]+4118548399&4294967295,w=S+(I<<7&4294967295|I>>>25),I=z+(O^w&(S^O))+D[5]+1200080426&4294967295,z=w+(I<<12&4294967295|I>>>20),I=O+(S^z&(w^S))+D[6]+2821735955&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(w^O&(z^w))+D[7]+4249261313&4294967295,S=O+(I<<22&4294967295|I>>>10),I=w+(z^S&(O^z))+D[8]+1770035416&4294967295,w=S+(I<<7&4294967295|I>>>25),I=z+(O^w&(S^O))+D[9]+2336552879&4294967295,z=w+(I<<12&4294967295|I>>>20),I=O+(S^z&(w^S))+D[10]+4294925233&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(w^O&(z^w))+D[11]+2304563134&4294967295,S=O+(I<<22&4294967295|I>>>10),I=w+(z^S&(O^z))+D[12]+1804603682&4294967295,w=S+(I<<7&4294967295|I>>>25),I=z+(O^w&(S^O))+D[13]+4254626195&4294967295,z=w+(I<<12&4294967295|I>>>20),I=O+(S^z&(w^S))+D[14]+2792965006&4294967295,O=z+(I<<17&4294967295|I>>>15),I=S+(w^O&(z^w))+D[15]+1236535329&4294967295,S=O+(I<<22&4294967295|I>>>10),I=w+(O^z&(S^O))+D[1]+4129170786&4294967295,w=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(w^S))+D[6]+3225465664&4294967295,z=w+(I<<9&4294967295|I>>>23),I=O+(w^S&(z^w))+D[11]+643717713&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^w&(O^z))+D[0]+3921069994&4294967295,S=O+(I<<20&4294967295|I>>>12),I=w+(O^z&(S^O))+D[5]+3593408605&4294967295,w=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(w^S))+D[10]+38016083&4294967295,z=w+(I<<9&4294967295|I>>>23),I=O+(w^S&(z^w))+D[15]+3634488961&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^w&(O^z))+D[4]+3889429448&4294967295,S=O+(I<<20&4294967295|I>>>12),I=w+(O^z&(S^O))+D[9]+568446438&4294967295,w=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(w^S))+D[14]+3275163606&4294967295,z=w+(I<<9&4294967295|I>>>23),I=O+(w^S&(z^w))+D[3]+4107603335&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^w&(O^z))+D[8]+1163531501&4294967295,S=O+(I<<20&4294967295|I>>>12),I=w+(O^z&(S^O))+D[13]+2850285829&4294967295,w=S+(I<<5&4294967295|I>>>27),I=z+(S^O&(w^S))+D[2]+4243563512&4294967295,z=w+(I<<9&4294967295|I>>>23),I=O+(w^S&(z^w))+D[7]+1735328473&4294967295,O=z+(I<<14&4294967295|I>>>18),I=S+(z^w&(O^z))+D[12]+2368359562&4294967295,S=O+(I<<20&4294967295|I>>>12),I=w+(S^O^z)+D[5]+4294588738&4294967295,w=S+(I<<4&4294967295|I>>>28),I=z+(w^S^O)+D[8]+2272392833&4294967295,z=w+(I<<11&4294967295|I>>>21),I=O+(z^w^S)+D[11]+1839030562&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^w)+D[14]+4259657740&4294967295,S=O+(I<<23&4294967295|I>>>9),I=w+(S^O^z)+D[1]+2763975236&4294967295,w=S+(I<<4&4294967295|I>>>28),I=z+(w^S^O)+D[4]+1272893353&4294967295,z=w+(I<<11&4294967295|I>>>21),I=O+(z^w^S)+D[7]+4139469664&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^w)+D[10]+3200236656&4294967295,S=O+(I<<23&4294967295|I>>>9),I=w+(S^O^z)+D[13]+681279174&4294967295,w=S+(I<<4&4294967295|I>>>28),I=z+(w^S^O)+D[0]+3936430074&4294967295,z=w+(I<<11&4294967295|I>>>21),I=O+(z^w^S)+D[3]+3572445317&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^w)+D[6]+76029189&4294967295,S=O+(I<<23&4294967295|I>>>9),I=w+(S^O^z)+D[9]+3654602809&4294967295,w=S+(I<<4&4294967295|I>>>28),I=z+(w^S^O)+D[12]+3873151461&4294967295,z=w+(I<<11&4294967295|I>>>21),I=O+(z^w^S)+D[15]+530742520&4294967295,O=z+(I<<16&4294967295|I>>>16),I=S+(O^z^w)+D[2]+3299628645&4294967295,S=O+(I<<23&4294967295|I>>>9),I=w+(O^(S|~z))+D[0]+4096336452&4294967295,w=S+(I<<6&4294967295|I>>>26),I=z+(S^(w|~O))+D[7]+1126891415&4294967295,z=w+(I<<10&4294967295|I>>>22),I=O+(w^(z|~S))+D[14]+2878612391&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~w))+D[5]+4237533241&4294967295,S=O+(I<<21&4294967295|I>>>11),I=w+(O^(S|~z))+D[12]+1700485571&4294967295,w=S+(I<<6&4294967295|I>>>26),I=z+(S^(w|~O))+D[3]+2399980690&4294967295,z=w+(I<<10&4294967295|I>>>22),I=O+(w^(z|~S))+D[10]+4293915773&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~w))+D[1]+2240044497&4294967295,S=O+(I<<21&4294967295|I>>>11),I=w+(O^(S|~z))+D[8]+1873313359&4294967295,w=S+(I<<6&4294967295|I>>>26),I=z+(S^(w|~O))+D[15]+4264355552&4294967295,z=w+(I<<10&4294967295|I>>>22),I=O+(w^(z|~S))+D[6]+2734768916&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~w))+D[13]+1309151649&4294967295,S=O+(I<<21&4294967295|I>>>11),I=w+(O^(S|~z))+D[4]+4149444226&4294967295,w=S+(I<<6&4294967295|I>>>26),I=z+(S^(w|~O))+D[11]+3174756917&4294967295,z=w+(I<<10&4294967295|I>>>22),I=O+(w^(z|~S))+D[2]+718787259&4294967295,O=z+(I<<15&4294967295|I>>>17),I=S+(z^(O|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+z&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,D=this.B,O=this.h,z=0;z<w;){if(O==0)for(;z<=S;)l(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<w;)if(D[O++]=x.charCodeAt(z++),O==this.blockSize){l(this,D),O=0;break}}else for(;z<w;)if(D[O++]=x[z++],O==this.blockSize){l(this,D),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var D=0;32>D;D+=8)x[S++]=this.g[w]>>>D&255;return x};function u(x,w){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function f(x,w){this.h=w;for(var S=[],D=!0,O=x.length-1;0<=O;O--){var z=x[O]|0;D&&z==w||(S[O]=z,D=!1)}this.g=S}var m={};function p(x){return-128<=x&&128>x?u(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return X(y(-x));for(var w=[],S=1,D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new f(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return X(A(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),D=b,O=0;O<x.length;O+=8){var z=Math.min(8,x.length-O),I=parseInt(x.substring(O,O+z),w);8>z?(z=y(Math.pow(w,z)),D=D.j(z).add(y(I))):(D=D.j(S),D=D.add(y(I)))}return D}var b=p(0),M=p(1),q=p(16777216);a=f.prototype,a.m=function(){if(J(this))return-X(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(J(this))return"-"+X(this).toString(x);for(var w=y(Math.pow(x,6)),S=this,D="";;){var O=Rt(S,w).g;S=yt(S,O.j(w));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,Y(S))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function J(x){return x.h==-1}a.l=function(x){return x=yt(this,x),J(x)?-1:Y(x)?0:1};function X(x){for(var w=x.g.length,S=[],D=0;D<w;D++)S[D]=~x.g[D];return new f(S,~x.h).add(M)}a.abs=function(){return J(this)?X(this):this},a.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0,O=0;O<=w;O++){var z=D+(this.i(O)&65535)+(x.i(O)&65535),I=(z>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);D=I>>>16,z&=65535,I&=65535,S[O]=I<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function yt(x,w){return x.add(X(w))}a.j=function(x){if(Y(this)||Y(x))return b;if(J(this))return J(x)?X(this).j(X(x)):X(X(this).j(x));if(J(x))return X(this.j(X(x)));if(0>this.l(q)&&0>x.l(q))return y(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<x.g.length;O++){var z=this.i(D)>>>16,I=this.i(D)&65535,Ae=x.i(O)>>>16,ge=x.i(O)&65535;S[2*D+2*O]+=I*ge,ot(S,2*D+2*O),S[2*D+2*O+1]+=z*ge,ot(S,2*D+2*O+1),S[2*D+2*O+1]+=I*Ae,ot(S,2*D+2*O+1),S[2*D+2*O+2]+=z*Ae,ot(S,2*D+2*O+2)}for(D=0;D<w;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=w;D<2*w;D++)S[D]=0;return new f(S,0)};function ot(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function st(x,w){this.g=x,this.h=w}function Rt(x,w){if(Y(w))throw Error("division by zero");if(Y(x))return new st(b,b);if(J(x))return w=Rt(X(x),w),new st(X(w.g),X(w.h));if(J(w))return w=Rt(x,X(w)),new st(X(w.g),w.h);if(30<x.g.length){if(J(x)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var S=M,D=w;0>=D.l(x);)S=ct(S),D=ct(D);var O=_t(S,1),z=_t(D,1);for(D=_t(D,2),S=_t(S,2);!Y(D);){var I=z.add(D);0>=I.l(x)&&(O=O.add(S),z=I),D=_t(D,1),S=_t(S,1)}return w=yt(x,O.j(w)),new st(O,w)}for(O=b;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=y(S),I=z.j(w);J(I)||0<I.l(x);)S-=D,z=y(S),I=z.j(w);Y(z)&&(z=M),O=O.add(z),x=yt(x,I)}return new st(O,x)}a.A=function(x){return Rt(this,x).h},a.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new f(S,this.h&x.h)},a.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new f(S,this.h|x.h)},a.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new f(S,this.h^x.h)};function ct(x){for(var w=x.g.length+1,S=[],D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new f(S,x.h)}function _t(x,w){var S=w>>5;w%=32;for(var D=x.g.length-S,O=[],z=0;z<D;z++)O[z]=0<w?x.i(z+S)>>>w|x.i(z+S+1)<<32-w:x.i(z+S);return new f(O,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,Ur=f}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,Do,TE,Lc,sm,AE,SE,bE;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function l(c,g){if(g)t:{var _=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in _))break t;_=_[U]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,T=!1,U={next:function(){if(!T&&_<c.length){var j=_++;return{value:g(j,c[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function A(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function M(c,g,_){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,M.apply(null,arguments)}function q(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function Y(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,U,j){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return g.prototype[U].apply(T,W)}}function J(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function X(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=c.length||0,j=T.length||0;c.length=U+j;for(let W=0;W<j;W++)c[U+W]=T[W]}else c.push(T)}}class yt{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ot(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Rt(c){return Rt[" "](c),c}Rt[" "]=function(){};var ct=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function _t(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)c[_]=T[_];for(let j=0;j<S.length;j++)_=S[j],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function O(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function I(){var c=jt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ae{constructor(){this.h=this.g=null}add(g,_){const T=ge.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new yt(()=>new tt,c=>c.reset());class tt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,mt=!1,jt=new Ae,V=()=>{const c=m.Promise.resolve(void 0);vt=()=>{c.then(Z)}};var Z=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){z(_)}var g=ge;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function wt(c,g){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ct){t:{try{Rt(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}Y(wt,nt);var St={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function le(c,g,_,T,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=U,this.key=++Lt,this.da=this.fa=!1}function Gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ze(c){this.src=c,this.g={},this.h=0}Ze.prototype.add=function(c,g,_,T,U){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var W=En(c,g,T,U);return-1<W?(g=c[W],_||(g.fa=!1)):(g=new le(g,this.src,j,!!T,U),g.fa=_,c.push(g)),g};function mi(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],U=Array.prototype.indexOf.call(T,g,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Gt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,g,_,T){for(var U=0;U<c.length;++U){var j=c[U];if(!j.da&&j.listener==g&&j.capture==!!_&&j.ha==T)return U}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Qi={};function gi(c,g,_,T,U){if(Array.isArray(g)){for(var j=0;j<g.length;j++)gi(c,g[j],_,T,U);return null}return _=cu(_),c&&c[pe]?c.K(g,_,y(T)?!!T.capture:!1,U):gl(c,g,_,!1,T,U)}function gl(c,g,_,T,U,j){if(!g)throw Error("Invalid event type");var W=y(U)?!!U.capture:!!U,Ot=pl(c);if(Ot||(c[Ki]=Ot=new Ze(c)),_=Ot.add(g,_,T,W,j),_.proxy)return _;if(T=Fs(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)it||(U=W),U===void 0&&(U=!1),c.addEventListener(g.toString(),T,U);else if(c.attachEvent)c.attachEvent(Qs(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function c(_){return g.call(c.src,c.listener,_)}const g=Lh;return c}function Ks(c,g,_,T,U){if(Array.isArray(g))for(var j=0;j<g.length;j++)Ks(c,g[j],_,T,U);else T=y(T)?!!T.capture:!!T,_=cu(_),c&&c[pe]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],_=En(j,_,T,U),-1<_&&(Gt(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=pl(c))&&(g=c.g[g.toString()],c=-1,g&&(c=En(g,_,T,U)),(_=-1<c?g[c]:null)&&Fr(_))}function Fr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[pe])mi(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent(Qs(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=pl(g))?(mi(_,c),_.h==0&&(_.src=null,g[Ki]=null)):Gt(c)}}}function Qs(c){return c in Qi?Qi[c]:Qi[c]="on"+c}function Lh(c,g){if(c.da)c=!0;else{g=new wt(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&Fr(c),c=_.call(T,g)}return c}function pl(c){return c=c[Ki],c instanceof Ze?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(g){return c.handleEvent(g)}),c[sn])}function Se(){ht.call(this),this.i=new Ze(this),this.M=this,this.F=null}Y(Se,ht),Se.prototype[pe]=!0,Se.prototype.removeEventListener=function(c,g,_,T){Ks(this,c,g,_,T)};function Ce(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new nt(g,c);else if(g instanceof nt)g.target=g.target||c;else{var U=g;g=new nt(T,c),D(g,U)}if(U=!0,_)for(var j=_.length-1;0<=j;j--){var W=g.g=_[j];U=pi(W,T,!0,g)&&U}if(W=g.g=c,U=pi(W,T,!0,g)&&U,U=pi(W,T,!1,g)&&U,_)for(j=0;j<_.length;j++)W=g.g=_[j],U=pi(W,T,!1,g)&&U}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)Gt(_[T]);delete c.g[g],c.h--}}this.F=null},Se.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},Se.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function pi(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,j=0;j<g.length;++j){var W=g[j];if(W&&!W.da&&W.capture==_){var Ot=W.listener,Re=W.ha||W.src;W.fa&&mi(c.i,W),U=Ot.call(Re,T)!==!1&&U}}return U&&!T.defaultPrevented}function hu(c,g,_){if(typeof c=="function")_&&(c=M(c,_));else if(c&&typeof c.handleEvent=="function")c=M(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function yl(c){c.g=hu(()=>{c.g=null,c.i&&(c.i=!1,yl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Bh extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(c){ht.call(this),this.h=c,this.g={}}Y(Kr,ht);var Yi=[];function Ge(c){_t(c.g,function(g,_){this.g.hasOwnProperty(_)&&Fr(g)},c),c.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Ge(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _l=m.JSON.stringify,Yn=m.JSON.parse,$e=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function vl(){}vl.prototype.h=null;function fu(c){return c.h||(c.h=c.i())}function du(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){nt.call(this,"d")}Y(Xi,nt);function qn(){nt.call(this,"c")}Y(qn,nt);var Tn={},Zi=null;function Ys(){return Zi=Zi||new Se}Tn.La="serverreachability";function El(c){nt.call(this,Tn.La,c)}Y(El,nt);function $i(c){const g=Ys();Ce(g,new El(g))}Tn.STAT_EVENT="statevent";function Xs(c,g){nt.call(this,Tn.STAT_EVENT,c),this.stat=g}Y(Xs,nt);function de(c){const g=Ys();Ce(g,new Xs(g,c))}Tn.Ma="timingevent";function mu(c,g){nt.call(this,Tn.Ma,c),this.size=g}Y(mu,nt);function Ji(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function gu(c,g,_,T,U,j){c.info(function(){if(c.g)if(j)for(var W="",Ot=j.split("&"),Re=0;Re<Ot.length;Re++){var Mt=Ot[Re].split("=");if(1<Mt.length){var Oe=Mt[0];Mt=Mt[1];var we=Oe.split("_");W=2<=we.length&&we[1]=="type"?W+(Oe+"="+Mt+"&"):W+(Oe+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+g+`
`+_+`
`+W})}function pu(c,g,_,T,U,j,W){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+g+`
`+_+`
`+j+" "+W})}function tr(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+xe(c,_)+(T?" "+T:"")})}function Zn(c,g){c.info(function(){return"TIMEOUT: "+g})}Wi.prototype.info=function(){};function xe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return _l(_)}catch{return g}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Zs(){}Y(Zs,vl),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},Qr=new Zs;function $n(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}var er={},Yr={};function jn(c,g,_){c.L=1,c.v=$r(oe(g)),c.m=_,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),ne(c),c.A=oe(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Ti(_.i,"t",T),c.C=0,_=c.j.J,c.h=new Tl,c.g=Cu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Bh(M(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Yi[0]=U.toString()),U=Yi);for(var j=0;j<U.length;j++){var W=gi(_,U[j],T||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),$i(),gu(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const g=this.M;g&&wn(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const we=wn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||we!=4||g==7||(g==8||0>=Ri?$i(3):$i(2)),$s(this);var _=this.g.Z();this.X=_;e:if(nr(this)){var T=Au(this.g);c="";var U=T.length,j=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),un(this);var W="";break e}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(j&&g==U-1)});T.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,pu(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Re=this.g;if((Ot=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,de(12),an(this),un(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<W.length;)if(Le=ir(this,W),Le==Yr){we==4&&(this.s=4,de(14),_=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==er){this.s=4,de(15),tr(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else tr(this.i,this.l,Le,null),cn(this,Le);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||W.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)tr(this.i,this.l,W,"[Invalid Chunked Response]"),an(this),un(this);else if(0<W.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),rs(Oe),Oe.M=!0,de(11))}}else tr(this.i,this.l,W,null),cn(this,W);we==4&&an(this),this.o&&!this.J&&(we==4?Iu(this.j,this):(this.o=!1,ne(this)))}else Fh(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),an(this),un(this)}}}catch{}finally{}};function nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ir(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?Yr:(_=Number(g.substring(_,T)),isNaN(_)?er:(T+=1,T+_>g.length?Yr:(g=g.slice(T,T+_),c.C=T+_,g)))}$n.prototype.cancel=function(){this.J=!0,an(this)};function ne(c){c.S=Date.now()+c.I,Al(c,c.I)}function Al(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ji(M(c.ba,c),g)}function $s(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zn(this.i,this.A),this.L!=2&&($i(),de(17)),an(this),this.s=2,un(this)):Al(this,this.S-c)};function un(c){c.j.G==0||c.J||Iu(c.j,c)}function an(c){$s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ge(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function cn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||rr(_.h,c))){if(!c.K&&rr(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)la(_),sa(_);else break t;Ol(_),de(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(M(_.Za,_),6e3));if(1>=yu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&la(_),!ot(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Mt=U[g];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Oe=Mt[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const we=Mt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Ri=Mt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Le=c.g;if(Le){const ri=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var j=T.h;j.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(sr(j,j.h),j.h=null))}if(T.D){const Pl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(T.ya=Pl,Bt(T.I,T.D,Pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var W=c;if(T.qa=Vu(T,T.J?T.ia:null,T.W),W.K){An(T.h,W);var Ot=W,Re=T.L;Re&&(Ot.I=Re),Ot.B&&($s(Ot),ne(Ot)),T.g=W}else Ru(T);0<_.i.length&&aa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||bi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?bi(_,7):xl(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}$i(4)}catch{}}var kh=class{constructor(c,g){this.g=c,this.map=g}};function Sl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yu(c){return c.h?1:c.g?c.g.size:0}function rr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function sr(c,g){c.g?c.g.add(g):c.h=g}function An(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Sl.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Je(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return J(c.i)}function _u(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function qh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function Xr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=qh(c),T=_u(c),U=T.length,j=0;j<U;j++)g.call(void 0,T[j],_&&_[j],c)}var Rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),U=null;if(0<=T){var j=c[_].substring(0,T);U=c[_].substring(T+1)}else j=c[_];g(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,ar(this,c.j),this.o=c.o,this.g=c.g,Zr(this,c.s),this.l=c.l;var g=c.i,_=new Jn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ws(this,_),this.m=c.m}else c&&(g=String(c).match(Rl))?(this.h=!1,ar(this,g[1]||"",!0),this.o=lr(g[2]||""),this.g=lr(g[3]||"",!0),Zr(this,g[4]),this.l=lr(g[5]||"",!0),Ws(this,g[6]||"",!0),this.m=lr(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Sn(g,wl,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Sn(g,wl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Sn(_,_.charAt(0)=="/"?Il:vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Sn(_,Gh)),c.join("")};function oe(c){return new vi(c)}function ar(c,g,_){c.j=_?lr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Zr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ws(c,g,_){g instanceof Jn?(c.i=g,Dl(c.i,c.h)):(_||(g=Sn(g,Hh)),c.i=new Jn(g,c.h))}function Bt(c,g,_){c.i.set(g,_)}function $r(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function lr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,jh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wl=/[#\/\?@]/g,vu=/[#\?:]/g,Il=/[#\?]/g,Hh=/[#\?@]/g,Gh=/#/g;function Jn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Js(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=Jn.prototype,a.add=function(c,g){bn(this),this.i=null,c=Ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ta(c,g){bn(c),g=Ai(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ei(c,g){return bn(c),g=Ai(c,g),c.g.has(g)}a.forEach=function(c,g){bn(this),this.g.forEach(function(_,T){_.forEach(function(U){c.call(g,U,T,this)},this)},this)},a.na=function(){bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const U=c[T];for(let j=0;j<U.length;j++)_.push(g[T])}return _},a.V=function(c){bn(this);let g=[];if(typeof c=="string")Ei(this,c)&&(g=g.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},a.set=function(c,g){return bn(this),this.i=null,c=Ai(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ti(c,g,_){ta(c,g),0<_.length&&(c.i=null,c.g.set(Ai(c,g),J(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=j;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),c.push(U)}}return this.i=c.join("&")};function Ai(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Dl(c,g){g&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(ta(this,T),Ti(this,U,_))},c)),c.j=g}function Eu(c,g){const _=new Wi;if(m.Image){const T=new Image;T.onload=q(Rn,_,"TestLoadImage: loaded",!0,g,T),T.onerror=q(Rn,_,"TestLoadImage: error",!1,g,T),T.onabort=q(Rn,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=q(Rn,_,"TestLoadImage: timeout",!1,g,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Jr(c,g){const _=new Wi,T=new AbortController,U=setTimeout(()=>{T.abort(),Rn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?Rn(_,"TestPingServer: ok",!0,g):Rn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Rn(_,"TestPingServer: error",!1,g)})}function Rn(c,g,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function Wr(){this.g=new $e}function Wn(c,g,_){const T=_||"";try{Xr(c,function(U,j){let W=U;y(U)&&(W=_l(U)),g.push(T+j+"="+encodeURIComponent(W))})}catch(U){throw g.push(T+"type="+encodeURIComponent("_badmap")),U}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}Y(or,vl),or.prototype.g=function(){return new Si(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Si(c,g){Se.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Si,Se),a=Si.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ei(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ti(this):ei(this),this.readyState==3&&Vl(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},a.Qa=function(c){this.g&&(this.response=c,ti(this))},a.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ei(c)}a.setRequestHeader=function(c,g){this.u.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cl(c){let g="";return _t(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Ne(c,g,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Cl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,g,_))}function Ht(c){Se.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Ht,Se);var ea=/^https?$/i,ts=["POST","PUT"];a=Ht.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?fu(this.o):fu(Qr),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){Tu(this,j);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ts,g,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of _)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){Tu(this,j)}};function Tu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,na(c),ni(c)}function na(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},a.bb=function(){ia(this)};function ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)hu(c.Ea,0,c);else if(Ce(c,"readystatechange"),wn(c)==4){c.h=!1;try{const W=c.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var T;if(T=W===0){var U=String(c.D).match(Rl)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),T=!ea.test(U?U.toLowerCase():"")}_=T}if(_)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var j=2<wn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",na(c)}}finally{ni(c)}}}}function ni(c,g){if(c.g){es(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ce(c,"ready");try{_.onreadystatechange=T}catch{}}}function es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(c){const g={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(ot(c[T]))continue;var _=O(c[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=g[U]||[];g[U]=j,j.push(_)}x(g,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ra(c){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,c),this.cb=ns("retryDelaySeedMs",1e4,c),this.Wa=ns("forwardChannelMaxRetries",2,c),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sl(c&&c.concurrentRequestLimit),this.Da=new Wr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ra.prototype,a.la=8,a.G=1,a.connect=function(c,g,_,T){de(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Vu(this,null,this.W),aa(this)};function xl(c){if(Su(c),c.G==3){var g=c.U++,_=oe(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",g),Bt(_,"TYPE","terminate"),is(c,_),g=new $n(c,c.j,g),g.L=2,g.v=$r(oe(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ne(g)}Du(c)}function sa(c){c.g&&(rs(c),c.g.cancel(),c.g=null)}function Su(c){sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),la(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function aa(c){if(!bl(c.h)&&!c.s){c.s=!0;var g=c.Ga;vt||V(),mt||(vt(),mt=!0),jt.add(g,c),c.B=0}}function Kh(c,g){return yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ji(M(c.Ga,c,g),Ml(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $n(this,this.j,c);let j=this.o;if(this.S&&(j?(j=w(j),D(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=bu(this,U,g),_=oe(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),is(this,_),j&&(this.O?g="headers="+encodeURIComponent(String(Cl(j)))+"&"+g:this.m&&Ne(_,this.m,j)),sr(this.h,U),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",g),Bt(_,"SID","null"),U.T=!0,jn(U,_,null)):jn(U,_,g),this.G=2}}else this.G==3&&(c?Nl(this,c):this.i.length==0||bl(this.h)||Nl(this))};function Nl(c,g){var _;g?_=g.l:_=c.U++;const T=oe(c.I);Bt(T,"SID",c.K),Bt(T,"RID",_),Bt(T,"AID",c.T),is(c,T),c.m&&c.o&&Ne(T,c.m,c.o),_=new $n(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sr(c.h,_),jn(_,T,g)}function is(c,g){c.H&&_t(c.H,function(_,T){Bt(g,T,_)}),c.l&&Xr({},function(_,T){Bt(g,T,_)})}function bu(c,g,_){_=Math.min(c.i.length,_);var T=c.l?M(c.l.Na,c.l,c):null;t:{var U=c.i;let j=-1;for(;;){const W=["count="+_];j==-1?0<_?(j=U[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ot=!0;for(let Re=0;Re<_;Re++){let Mt=U[Re].g;const Oe=U[Re].map;if(Mt-=j,0>Mt)j=Math.max(0,U[Re].g-100),Ot=!1;else try{Wn(Oe,W,"req"+Mt+"_")}catch{T&&T(Oe)}}if(Ot){T=W.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,T}function Ru(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;vt||V(),mt||(vt(),mt=!0),jt.add(g,c),c.v=0}}function Ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ji(M(c.Fa,c),Ml(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ji(M(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),sa(this),wu(this))};function rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=oe(c.qa);Bt(g,"RID","rpc"),Bt(g,"SID",c.K),Bt(g,"AID",c.T),Bt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(g,"TO",c.ja),Bt(g,"TYPE","xmlhttp"),is(c,g),c.m&&c.o&&Ne(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=$r(oe(g)),_.m=null,_.P=!0,_i(_,c)}a.Za=function(){this.C!=null&&(this.C=null,sa(this),Ol(this),de(19))};function la(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,g){var _=null;if(c.g==g){la(c),rs(c),c.g=null;var T=2}else if(rr(c.h,g))_=g.D,An(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;T=Ys(),Ce(T,new mu(T,_)),aa(c)}else Ru(c);else if(U=g.s,U==3||U==0&&0<g.X||!(T==1&&Kh(c,g)||T==2&&Ol(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ml(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var _=M(c.fb,c),T=c.Xa;const U=!T;T=new vi(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ar(T,"https"),$r(T),U?Eu(T.toString(),_):Jr(T.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(g),Du(c),Su(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const g=Je(c.h);(g.length!=0||c.i.length!=0)&&(X(c.ka,g),X(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function Vu(c,g,_){var T=_ instanceof vi?oe(_):new vi(_);if(T.g!="")g&&(T.g=g+"."+T.g),Zr(T,T.s);else{var U=m.location;T=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var j=new vi(null);T&&ar(j,T),g&&(j.g=g),U&&Zr(j,U),_&&(j.l=_),T=j}return _=c.D,g=c.ya,_&&g&&Bt(T,_,g),Bt(T,"VER",c.la),is(c,T),T}function Cu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ht(new or({eb:_})):new Ht(c.pa),g.Ha(c.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}a=xu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function oa(){}oa.prototype.g=function(c,g){return new We(c,g)};function We(c,g){Se.call(this),this.g=new ra(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ot(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ot(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}Y(We,Se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){xl(this.g)},We.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=_l(c),c=_);g.i.push(new kh(g.Ya++,c)),g.G==3&&aa(g)},We.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,We.aa.N.call(this)};function Nu(c){Xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}Y(Nu,Xi);function Ou(){qn.call(this),this.status=1}Y(Ou,qn);function ii(c){this.g=c}Y(ii,xu),ii.prototype.ua=function(){Ce(this.g,"a")},ii.prototype.ta=function(c){Ce(this.g,new Nu(c))},ii.prototype.sa=function(c){Ce(this.g,new Ou)},ii.prototype.ra=function(){Ce(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,bE=function(){return new oa},SE=function(){return Ys()},AE=Tn,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Lc=be,yi.COMPLETE="complete",TE=yi,du.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Do=du,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,EE=Ht}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",j_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new dE("@firebase/firestore");function qa(){return Ps.logLevel}function $(a,...t){if(Ps.logLevel<=zt.DEBUG){const n=t.map(Nm);Ps.debug(`Firestore (${fl}): ${a}`,...n)}}function nn(a,...t){if(Ps.logLevel<=zt.ERROR){const n=t.map(Nm);Ps.error(`Firestore (${fl}): ${a}`,...n)}}function Za(a,...t){if(Ps.logLevel<=zt.WARN){const n=t.map(Nm);Ps.warn(`Firestore (${fl}): ${a}`,...n)}}function Nm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(a="Unexpected state"){const t=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+a;throw nn(t),new Error(t)}function ft(a,t){a||lt()}function Et(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends hl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}}class Gb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fb{constructor(t){this.t=t,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ft(this.o===void 0);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string"),new RE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ft(t===null||typeof t=="string"),new je(t)}}class Kb{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qb{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kb(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yb{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wb(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){ft(this.o===void 0);const r=u=>{u.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,$("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const l=u=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Xb(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function At(a,t){return a<t?-1:a>t?1:0}function $a(a,t,n){return a.length===t.length&&a.every((r,l)=>n(r,t[l]))}function IE(a){return a+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-62135596800,F_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*F_);return new ae(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<G_)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-G_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new ae(0,0))}static max(){return new gt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class ci{constructor(t,n,r){n===void 0?n=0:n>t.length&&lt(),r===void 0?r=t.length-n:r>t.length-n&&lt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=ci.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=ci.isNumericId(t),l=ci.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ci.extractNumericId(t).compare(ci.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class $t extends ci{construct(t,n,r){return new $t(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const Zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends ci{construct(t,n,r){return new se(t,n,r)}static isValidIdentifier(t){return Zb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new se([K_])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(u(),l++)}if(u(),f)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.path=t}static fromPath(t){return new et($t.fromString(t))}static fromName(t){return new et($t.fromString(t).popFirst(5))}static empty(){return new et($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new $t(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;class th{constructor(t,n,r,l){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=l}}function am(a){return a.fields.find(t=>t.kind===2)}function Rs(a){return a.fields.filter(t=>t.kind!==2)}th.UNKNOWN_ID=-1;class Bc{constructor(t,n){this.fieldPath=t,this.kind=n}}class Go{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Go(0,vn.min())}}function $b(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(r===1e9?new ae(n+1,0):new ae(n,r));return new vn(l,et.empty(),t)}function DE(a){return new vn(a.readTime,a.key,Ho)}class vn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new vn(gt.min(),et.empty(),Ho)}static max(){return new vn(gt.max(),et.empty(),Ho)}}function Om(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=et.comparator(a.documentKey,t.documentKey),n!==0?n:At(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==VE)throw a;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,r)=>{n(t)})}static reject(t){return new L((n,r)=>{r(t)})}static waitFor(t){return new L((n,r)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},p=>r(p))}),f=!0,u===l&&n()})}static or(t){let n=L.resolve(!1);for(const r of t)n=n.next(l=>l?L.resolve(l):r());return n}static forEach(t,n){const r=[];return t.forEach((l,u)=>{r.push(n.call(this,l,u))}),this.waitFor(r)}static mapArray(t,n){return new L((r,l)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(A=>{f[y]=A,++m,m===u&&r(f)},A=>l(A))}})}static doWhile(t,n){return new L((r,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):r()};u()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="SimpleDb";class vh{static open(t,n,r,l){try{return new vh(n,t.transaction(l,r))}catch(u){throw new Oo(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.m=new zr,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new Oo(t,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const l=Mm(r.target.error);this.m.reject(new Oo(t,l))}}get p(){return this.m.promise}abort(t){t&&this.m.reject(t),this.aborted||($(pn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Wb(n)}}class Lr{static delete(t){return $(pn,"Removing database:",t),Is(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!hE())return!1;if(Lr.v())return!0;const t=Zc(),n=Lr.C(t),r=0<n&&n<10,l=xE(t),u=0<l&&l<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static v(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static C(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.O=r,Lr.C(Zc())===12.2&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(t){return this.db||($(pn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const l=indexedDB.open(this.name,this.version);l.onsuccess=u=>{const f=u.target.result;n(f)},l.onblocked=()=>{r(new Oo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;f.name==="VersionError"?r(new at(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):f.name==="InvalidStateError"?r(new at(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f)):r(new Oo(t,f))},l.onupgradeneeded=u=>{$(pn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const f=u.target.result;this.O.B(f,l.transaction,u.oldVersion,this.version).next(()=>{$(pn,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,l){const u=n==="readonly";let f=0;for(;;){++f;try{this.db=await this.N(t);const m=vh.open(this.db,t,u?"readonly":"readwrite",r),p=l(m).next(y=>(m.S(),y)).catch(y=>(m.abort(y),L.reject(y))).toPromise();return p.catch(()=>{}),await m.p,p}catch(m){const p=m,y=p.name!=="FirebaseError"&&f<3;if($(pn,"Transaction failed with error:",p.message,"Retrying:",y),this.close(),!y)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xE(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Jb{constructor(t){this.q=t,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(t){this.q=t}done(){this.$=!0}W(t){this.K=t}delete(){return Is(this.q.delete())}}class Oo extends at{constructor(t,n){super(K.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Hr(a){return a.name==="IndexedDbTransactionError"}class Wb{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?($(pn,"PUT",this.store.name,t,n),r=this.store.put(n,t)):($(pn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Is(r)}add(t){return $(pn,"ADD",this.store.name,t,t),Is(this.store.add(t))}get(t){return Is(this.store.get(t)).next(n=>(n===void 0&&(n=null),$(pn,"GET",this.store.name,t,n),n))}delete(t){return $(pn,"DELETE",this.store.name,t),Is(this.store.delete(t))}count(){return $(pn,"COUNT",this.store.name),Is(this.store.count())}G(t,n){const r=this.options(t,n),l=r.index?this.store.index(r.index):this.store;if(typeof l.getAll=="function"){const u=l.getAll(r.range);return new L((f,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{f(p.target.result)}})}{const u=this.cursor(r),f=[];return this.j(u,(m,p)=>{f.push(p)}).next(()=>f)}}H(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new L((l,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}J(t,n){$(pn,"DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const l=this.cursor(r);return this.j(l,(u,f,m)=>m.delete())}Z(t,n){let r;n?r=t:(r={},n=t);const l=this.cursor(r);return this.j(l,n)}X(t){const n=this.cursor({});return new L((r,l)=>{n.onerror=u=>{const f=Mm(u.target.error);l(f)},n.onsuccess=u=>{const f=u.target.result;f?t(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}j(t,n){const r=[];return new L((l,u)=>{t.onerror=f=>{u(f.target.error)},t.onsuccess=f=>{const m=f.target.result;if(!m)return void l();const p=new Jb(m),y=n(m.primaryKey,m.value,p);if(y instanceof L){const A=y.catch(b=>(p.done(),L.reject(b)));r.push(A)}p.isDone?l():p.U===null?m.continue():m.continue(p.U)}}).next(()=>L.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Is(a){return new L((t,n)=>{a.onsuccess=r=>{const l=r.target.result;t(l)},a.onerror=r=>{const l=Mm(r.target.error);n(l)}})}let Q_=!1;function Mm(a){const t=Lr.C(Zc());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const r=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Q_||(Q_=!0,setTimeout(()=>{throw r},0)),r}}return a}const Mo="IndexBackfiller";class t1{constructor(t,n){this.asyncQueue=t,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(t){$(Mo,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{const n=await this.ee.ne();$(Mo,`Documents written: ${n}`)}catch(n){Hr(n)?$(Mo,"Ignoring IndexedDB error during index backfill: ",n):await js(n)}await this.te(6e4)})}}class e1{constructor(t,n){this.localStore=t,this.persistence=n}async ne(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,t))}re(t,n){const r=new Set;let l=n,u=!0;return L.doWhile(()=>u===!0&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(f=>{if(f!==null&&!r.has(f))return $(Mo,`Processing collection: ${f}`),this.ie(t,f,l).next(m=>{l-=m,r.add(f)});u=!1})).next(()=>n-l)}ie(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(l=>this.localStore.localDocuments.getNextDocuments(t,n,l,r).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(t,f).next(()=>this.se(l,u)).next(m=>($(Mo,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m))).next(()=>f.size)}))}se(t,n){let r=t;return n.changes.forEach((l,u)=>{const f=DE(u);Om(f,r)>0&&(r=f)}),new vn(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}zn.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=-1;function Eh(a){return a==null}function Fo(a){return a===0&&1/a==-1/0}function n1(a){return typeof a=="number"&&Number.isInteger(a)&&!Fo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="";function Xe(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=Y_(t)),t=i1(a.get(n),t);return Y_(t)}function i1(a,t){let n=t;const r=a.length;for(let l=0;l<r;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case eh:n+="";break;default:n+=u}}return n}function Y_(a){return a+eh+""}function hi(a){const t=a.length;if(ft(t>=2),t===2)return ft(a.charAt(0)===eh&&a.charAt(1)===""),$t.emptyPath();const n=t-2,r=[];let l="";for(let u=0;u<t;){const f=a.indexOf(eh,u);switch((f<0||f>n)&&lt(),a.charAt(f+1)){case"":const m=a.substring(u,f);let p;l.length===0?p=m:(l+=m,p=l,l=""),r.push(p);break;case"":l+=a.substring(u,f),l+="\0";break;case"":l+=a.substring(u,f+1);break;default:lt()}u=f+2}return new $t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="remoteDocuments",iu="owner",Pa="owner",Ko="mutationQueues",r1="userId",Qn="mutations",X_="batchId",xs="userMutationsIndex",Z_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(a,t){return[a,Xe(t)]}function NE(a,t,n){return[a,Xe(t),n]}const s1={},Ja="documentMutations",nh="remoteDocumentsV14",a1=["prefixPath","collectionGroup","readTime","documentId"],qc="documentKeyIndex",l1=["prefixPath","collectionGroup","documentId"],OE="collectionGroupIndex",o1=["collectionGroup","readTime","prefixPath","documentId"],Qo="remoteDocumentGlobal",lm="remoteDocumentGlobalKey",Wa="targets",ME="queryTargetsIndex",u1=["canonicalId","targetId"],tl="targetDocuments",c1=["targetId","path"],Pm="documentTargetsIndex",h1=["path","targetId"],ih="targetGlobalKey",Os="targetGlobal",Yo="collectionParents",f1=["collectionId","parent"],el="clientMetadata",d1="clientId",Th="bundles",m1="bundleId",Ah="namedQueries",g1="name",Um="indexConfiguration",p1="indexId",om="collectionGroupIndex",y1="collectionGroup",rh="indexState",_1=["indexId","uid"],PE="sequenceNumberIndex",v1=["uid","sequenceNumber"],sh="indexEntries",E1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UE="documentKeyIndex",T1=["indexId","uid","orderedDocumentKey"],Sh="documentOverlays",A1=["userId","collectionPath","documentId"],um="collectionPathOverlayIndex",S1=["userId","collectionPath","largestBatchId"],zE="collectionGroupOverlayIndex",b1=["userId","collectionGroup","largestBatchId"],zm="globals",R1="name",LE=[Ko,Qn,Ja,ws,Wa,iu,Os,tl,el,Qo,Yo,Th,Ah],w1=[...LE,Sh],BE=[Ko,Qn,Ja,nh,Wa,iu,Os,tl,el,Qo,Yo,Th,Ah,Sh],kE=BE,Lm=[...kE,Um,rh,sh],I1=Lm,D1=[...Lm,zm];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends CE{constructor(t,n){super(),this.ue=t,this.currentSequenceNumber=n}}function Ve(a,t){const n=Et(a);return Lr.M(n.ue,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function Hs(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function qE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??He.RED,this.left=l??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new He(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(t,n,r,l,u){return this}insert(t,n,r){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ft(this.comparator);return n.data=t,n}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(a){return a.hasNext()?a.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Ft(se.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jE("Invalid base64 string: "+u):u}}(t);return new Te(n)}static fromUint8Array(t){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new Te(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Te.EMPTY_BYTE_STRING=new Te("");const V1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(a){if(ft(!!a),typeof a=="string"){let t=0;const n=V1.exec(a);if(ft(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:te(a.seconds),nanos:te(a.nanos)}}function te(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Gi(a){return typeof a=="string"?Te.fromBase64String(a):Te.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="server_timestamp",GE="__type__",FE="__previous_value__",KE="__local_write_time__";function Bm(a){var t,n;return((n=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[GE])===null||n===void 0?void 0:n.stringValue)===HE}function bh(a){const t=a.mapValue.fields[FE];return Bm(t)?bh(t):t}function Xo(a){const t=Hi(a.mapValue.fields[KE].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n,r,l,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Zo="(default)";class Us{constructor(t,n){this.projectId=t,this.database=n||Zo}static empty(){return new Us("","")}get isDefaultDatabase(){return this.database===Zo}isEqual(t){return t instanceof Us&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="__type__",QE="__max__",Or={mapValue:{fields:{__type__:{stringValue:QE}}}},qm="__vector__",nl="value",jc={nullValue:"NULL_VALUE"};function Br(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bm(a)?4:YE(a)?9007199254740991:Rh(a)?10:11:lt()}function di(a,t){if(a===t)return!0;const n=Br(a);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Xo(a).isEqual(Xo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Hi(l.timestampValue),m=Hi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,u){return Gi(l.bytesValue).isEqual(Gi(u.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,u){return te(l.geoPointValue.latitude)===te(u.geoPointValue.latitude)&&te(l.geoPointValue.longitude)===te(u.geoPointValue.longitude)}(a,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return te(l.integerValue)===te(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=te(l.doubleValue),m=te(u.doubleValue);return f===m?Fo(f)===Fo(m):isNaN(f)&&isNaN(m)}return!1}(a,t);case 9:return $a(a.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if($_(f)!==$_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(a,t);default:return lt()}}function $o(a,t){return(a.values||[]).find(n=>di(n,t))!==void 0}function kr(a,t){if(a===t)return 0;const n=Br(a),r=Br(t);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(a.booleanValue,t.booleanValue);case 2:return function(u,f){const m=te(u.integerValue||u.doubleValue),p=te(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(a,t);case 3:return W_(a.timestampValue,t.timestampValue);case 4:return W_(Xo(a),Xo(t));case 5:return At(a.stringValue,t.stringValue);case 6:return function(u,f){const m=Gi(u),p=Gi(f);return m.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const A=At(m[y],p[y]);if(A!==0)return A}return At(m.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(u,f){const m=At(te(u.latitude),te(f.latitude));return m!==0?m:At(te(u.longitude),te(f.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return tv(a.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,A;const b=u.fields||{},M=f.fields||{},q=(m=b[nl])===null||m===void 0?void 0:m.arrayValue,Y=(p=M[nl])===null||p===void 0?void 0:p.arrayValue,J=At(((y=q==null?void 0:q.values)===null||y===void 0?void 0:y.length)||0,((A=Y==null?void 0:Y.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:tv(q,Y)}(a.mapValue,t.mapValue);case 11:return function(u,f){if(u===Or.mapValue&&f===Or.mapValue)return 0;if(u===Or.mapValue)return 1;if(f===Or.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},A=Object.keys(y);p.sort(),A.sort();for(let b=0;b<p.length&&b<A.length;++b){const M=At(p[b],A[b]);if(M!==0)return M;const q=kr(m[p[b]],y[A[b]]);if(q!==0)return q}return At(p.length,A.length)}(a.mapValue,t.mapValue);default:throw lt()}}function W_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return At(a,t);const n=Hi(a),r=Hi(t),l=At(n.seconds,r.seconds);return l!==0?l:At(n.nanos,r.nanos)}function tv(a,t){const n=a.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=kr(n[l],r[l]);if(u)return u}return At(n.length,r.length)}function il(a){return hm(a)}function hm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const r=Hi(n);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return Gi(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return et.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=hm(u);return r+"]"}(a.arrayValue):"mapValue"in a?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${hm(n.fields[f])}`;return l+"}"}(a.mapValue):lt()}function Hc(a){switch(Br(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(a);return t?16+Hc(t):16;case 5:return 2*a.stringValue.length;case 6:return Gi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,u)=>l+Hc(u),0)}(a.arrayValue);case 10:case 11:return function(r){let l=0;return Hs(r.fields,(u,f)=>{l+=u.length+Hc(f)}),l}(a.mapValue);default:throw lt()}}function jm(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function fm(a){return!!a&&"integerValue"in a}function Jo(a){return!!a&&"arrayValue"in a}function ev(a){return!!a&&"nullValue"in a}function nv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gc(a){return!!a&&"mapValue"in a}function Rh(a){var t,n;return((n=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[km])===null||n===void 0?void 0:n.stringValue)===qm}function Po(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Hs(a.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Po(r)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Po(a.arrayValue.values[n]);return t}return Object.assign({},a)}function YE(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===QE}const XE={mapValue:{fields:{[km]:{stringValue:qm},[nl]:{arrayValue:{}}}}};function x1(a){return"nullValue"in a?jc:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?jm(Us.empty(),et.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Rh(a)?XE:{mapValue:{}}:lt()}function N1(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?jm(Us.empty(),et.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?XE:"mapValue"in a?Rh(a)?{mapValue:{}}:Or:lt()}function iv(a,t){const n=kr(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function rv(a,t){const n=kr(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Po(n)}setAll(t){let n=se.emptyPath(),r={},l=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=Po(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){Hs(n,(l,u)=>t[l]=u);for(const l of r)delete t[l]}clone(){return new on(Po(this.value))}}function ZE(a){const t=[];return Hs(a.fields,(n,r)=>{const l=new se([n]);if(Gc(r)){const u=ZE(r.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,r,l,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new fe(t,0,gt.min(),gt.min(),gt.min(),on.empty(),0)}static newFoundDocument(t,n,r,l){return new fe(t,1,n,gt.min(),r,l,0)}static newNoDocument(t,n){return new fe(t,2,n,gt.min(),gt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new fe(t,3,n,gt.min(),gt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n){this.position=t,this.inclusive=n}}function sv(a,t,n){let r=0;for(let l=0;l<a.position.length;l++){const u=t[l],f=a.position[l];if(u.field.isKeyField()?r=et.comparator(et.fromName(f.referenceValue),n.key):r=kr(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function av(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!di(a.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n="asc"){this.field=t,this.dir=n}}function O1(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{}class Nt extends $E{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new M1(t,n,r):n==="array-contains"?new z1(t,r):n==="in"?new iT(t,r):n==="not-in"?new L1(t,r):n==="array-contains-any"?new B1(t,r):new Nt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new P1(t,r):new U1(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kr(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(kr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends $E{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Xt(t,n)}matches(t){return sl(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sl(a){return a.op==="and"}function dm(a){return a.op==="or"}function Hm(a){return JE(a)&&sl(a)}function JE(a){for(const t of a.filters)if(t instanceof Xt)return!1;return!0}function mm(a){if(a instanceof Nt)return a.field.canonicalString()+a.op.toString()+il(a.value);if(Hm(a))return a.filters.map(t=>mm(t)).join(",");{const t=a.filters.map(n=>mm(n)).join(",");return`${a.op}(${t})`}}function WE(a,t){return a instanceof Nt?function(r,l){return l instanceof Nt&&r.op===l.op&&r.field.isEqual(l.field)&&di(r.value,l.value)}(a,t):a instanceof Xt?function(r,l){return l instanceof Xt&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((u,f,m)=>u&&WE(f,l.filters[m]),!0):!1}(a,t):void lt()}function tT(a,t){const n=a.filters.concat(t);return Xt.create(n,a.op)}function eT(a){return a instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(a):a instanceof Xt?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(a):"Filter"}class M1 extends Nt{constructor(t,n,r){super(t,n,r),this.key=et.fromName(r.referenceValue)}matches(t){const n=et.comparator(t.key,this.key);return this.matchesComparison(n)}}class P1 extends Nt{constructor(t,n){super(t,"in",n),this.keys=nT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class U1 extends Nt{constructor(t,n){super(t,"not-in",n),this.keys=nT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function nT(a,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class z1 extends Nt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Jo(n)&&$o(n.arrayValue,this.value)}}class iT extends Nt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$o(this.value.arrayValue,n)}}class L1 extends Nt{constructor(t,n){super(t,"not-in",n)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$o(this.value.arrayValue,n)}}class B1 extends Nt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Jo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$o(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n=null,r=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function gm(a,t=null,n=[],r=[],l=null,u=null,f=null){return new k1(a,t,n,r,l,u,f)}function zs(a){const t=Et(a);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>il(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>il(r)).join(",")),t.le=n}return t.le}function ru(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!O1(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!WE(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!av(a.startAt,t.startAt)&&av(a.endAt,t.endAt)}function lh(a){return et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function oh(a,t){return a.filters.filter(n=>n instanceof Nt&&n.field.isEqual(t))}function lv(a,t,n){let r=jc,l=!0;for(const u of oh(a,t)){let f=jc,m=!0;switch(u.op){case"<":case"<=":f=x1(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,m=!1;break;case"!=":case"not-in":f=jc}iv({value:r,inclusive:l},{value:f,inclusive:m})<0&&(r=f,l=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const f=n.position[u];iv({value:r,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(r=f,l=n.inclusive);break}}return{value:r,inclusive:l}}function ov(a,t,n){let r=Or,l=!0;for(const u of oh(a,t)){let f=Or,m=!0;switch(u.op){case">=":case">":f=N1(u.value),m=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,m=!1;break;case"!=":case"not-in":f=Or}rv({value:r,inclusive:l},{value:f,inclusive:m})>0&&(r=f,l=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const f=n.position[u];rv({value:r,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(r=f,l=n.inclusive);break}}return{value:r,inclusive:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n=null,r=[],l=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function q1(a,t,n,r,l,u,f,m){return new wh(a,t,n,r,l,u,f,m)}function Ih(a){return new wh(a)}function uv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function j1(a){return a.collectionGroup!==null}function Uo(a){const t=Et(a);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ft(se.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new ah(u,r))}),n.has(se.keyField().canonicalString())||t.he.push(new ah(se.keyField(),r))}return t.he}function Bn(a){const t=Et(a);return t.Pe||(t.Pe=H1(t,Uo(a))),t.Pe}function H1(a,t){if(a.limitType==="F")return gm(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new ah(l.field,u)});const n=a.endAt?new rl(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new rl(a.startAt.position,a.startAt.inclusive):null;return gm(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function pm(a,t,n){return new wh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function Dh(a,t){return ru(Bn(a),Bn(t))&&a.limitType===t.limitType}function rT(a){return`${zs(Bn(a))}|lt:${a.limitType}`}function ja(a){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>eT(l)).join(", ")}]`),Eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>il(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>il(l)).join(",")),`Target(${r})`}(Bn(a))}; limitType=${a.limitType})`}function su(a,t){return t.isFoundDocument()&&function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(a,t)&&function(r,l){for(const u of Uo(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(a,t)&&function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0}(a,t)&&function(r,l){return!(r.startAt&&!function(f,m,p){const y=sv(f,m,p);return f.inclusive?y<=0:y<0}(r.startAt,Uo(r),l)||r.endAt&&!function(f,m,p){const y=sv(f,m,p);return f.inclusive?y>=0:y>0}(r.endAt,Uo(r),l))}(a,t)}function G1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function sT(a){return(t,n)=>{let r=!1;for(const l of Uo(a)){const u=F1(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function F1(a,t,n){const r=a.field.isKeyField()?et.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?kr(p,y):lt()}(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,(n,r)=>{for(const[l,u]of r)t(l,u)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new ee(et.comparator);function yn(){return K1}const aT=new ee(et.comparator);function Vo(...a){let t=aT;for(const n of a)t=t.insert(n.key,n);return t}function lT(a){let t=aT;return a.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function fi(){return zo()}function oT(){return zo()}function zo(){return new Fi(a=>a.toString(),(a,t)=>a.isEqual(t))}const Q1=new ee(et.comparator),Y1=new Ft(et.comparator);function Dt(...a){let t=Y1;for(const n of a)t=t.add(n);return t}const X1=new Ft(At);function Z1(){return X1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fo(t)?"-0":t}}function uT(a){return{integerValue:""+a}}function $1(a,t){return n1(t)?uT(t):Gm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function J1(a,t,n){return a instanceof Wo?function(l,u){const f={fields:{[GE]:{stringValue:HE},[KE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Bm(u)&&(u=bh(u)),u&&(f.fields[FE]=u),{mapValue:f}}(n,t):a instanceof al?hT(a,t):a instanceof ll?fT(a,t):function(l,u){const f=cT(l,u),m=cv(f)+cv(l.Ie);return fm(f)&&fm(l.Ie)?uT(m):Gm(l.serializer,m)}(a,t)}function W1(a,t,n){return a instanceof al?hT(a,t):a instanceof ll?fT(a,t):n}function cT(a,t){return a instanceof tu?function(r){return fm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class Wo extends Vh{}class al extends Vh{constructor(t){super(),this.elements=t}}function hT(a,t){const n=dT(t);for(const r of a.elements)n.some(l=>di(l,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends Vh{constructor(t){super(),this.elements=t}}function fT(a,t){let n=dT(t);for(const r of a.elements)n=n.filter(l=>!di(l,r));return{arrayValue:{values:n}}}class tu extends Vh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function cv(a){return te(a.integerValue||a.doubleValue)}function dT(a){return Jo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n){this.field=t,this.transform=n}}function eR(a,t){return a.field.isEqual(t.field)&&function(r,l){return r instanceof al&&l instanceof al||r instanceof ll&&l instanceof ll?$a(r.elements,l.elements,di):r instanceof tu&&l instanceof tu?di(r.Ie,l.Ie):r instanceof Wo&&l instanceof Wo}(a.transform,t.transform)}class nR{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Ch{}function mT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Fm(a.key,_n.none()):new dl(a.key,a.data,_n.none());{const n=a.data,r=on.empty();let l=new Ft(se.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Gr(a.key,r,new Ln(l.toArray()),_n.none())}}function iR(a,t,n){a instanceof dl?function(l,u,f){const m=l.value.clone(),p=fv(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(a,t,n):a instanceof Gr?function(l,u,f){if(!Fc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=fv(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(gT(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(a,t,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Lo(a,t,n,r){return a instanceof dl?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=u.value.clone(),A=dv(u.fieldTransforms,p,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(a,t,n,r):a instanceof Gr?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=dv(u.fieldTransforms,p,f),A=f.data;return A.setAll(gT(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(a,t,n,r):function(u,f,m){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(a,t,n)}function rR(a,t){let n=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),u=cT(r.transform,l||null);u!=null&&(n===null&&(n=on.empty()),n.set(r.field,u))}return n||null}function hv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&$a(r,l,(u,f)=>eR(u,f))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class dl extends Ch{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends Ch{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gT(a){const t=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}}),t}function fv(a,t,n){const r=new Map;ft(a.length===n.length);for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,m=t.data.field(u.field);r.set(u.field,W1(f,m,n[l]))}return r}function dv(a,t,n){const r=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);r.set(l.field,J1(u,f,t))}return r}class Fm extends Ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pT extends Ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&iR(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Lo(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Lo(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=oT();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=mT(f,m);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Dt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,(n,r)=>hv(n,r))&&$a(this.baseMutations,t.baseMutations,(n,r)=>hv(n,r))}}class Qm{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){ft(t.mutations.length===r.length);let l=function(){return Q1}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Qm(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function aR(a){switch(a){case K.OK:return lt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return lt()}}function yT(a){if(a===void 0)return nn("GRPC error has no .code"),K.UNKNOWN;switch(a){case Ee.OK:return K.OK;case Ee.CANCELLED:return K.CANCELLED;case Ee.UNKNOWN:return K.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return K.INTERNAL;case Ee.UNAVAILABLE:return K.UNAVAILABLE;case Ee.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ee.NOT_FOUND:return K.NOT_FOUND;case Ee.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ee.ABORTED:return K.ABORTED;case Ee.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ee.DATA_LOSS:return K.DATA_LOSS;default:return lt()}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Ur([4294967295,4294967295],0);function mv(a){const t=lR().encode(a),n=new vE;return n.update(t),new Uint8Array(n.digest())}function gv(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ur([n,r],0),new Ur([l,u],0)]}class Xm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Co(`Invalid padding: ${n}`);if(r<0)throw new Co(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Co(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ur.fromNumber(this.Ee)}Ae(t,n,r){let l=t.add(n.multiply(Ur.fromNumber(r)));return l.compare(oR)===1&&(l=new Ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=mv(t),[r,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(r,l,u);if(!this.Re(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Xm(u,l,n);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=mv(t),[r,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(r,l,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xh(gt.min(),l,new ee(At),yn(),Dt())}}class au{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new au(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n,r,l){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=l}}class _T{constructor(t,n){this.targetId=t,this.ge=n}}class vT{constructor(t,n,r=Te.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class pv{constructor(){this.pe=0,this.ye=yv(),this.we=Te.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Dt(),n=Dt(),r=Dt();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:lt()}}),new au(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=yv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=yn(),this.$e=Oc(),this.Ke=Oc(),this.Ue=new ee(At)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:lt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,r=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(lh(u))if(r===0){const f=new et(u.path);this.ze(n,f,fe.newNoDocument(f,gt.min()))}else ft(r===1);else{const f=this.et(n);if(f!==r){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=Gi(r).toUint8Array()}catch(p){if(p instanceof jE)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xm(f,l,u)}catch(p){return Za(p instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let l=0;return r.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&lh(m.target)){const p=new et(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,fe.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let r=Dt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const l=new xh(t,n,this.Ue,this.Qe,r);return this.Qe=yn(),this.$e=Oc(),this.Ke=Oc(),this.Ue=new ee(At),l}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new pv,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Ft(At),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ft(At),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||$("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new pv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Oc(){return new ee(et.comparator)}function yv(){return new ee(et.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class dR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ym(a,t){return a.useProto3Json||Eh(t)?t:{value:t}}function ol(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function mR(a,t){return ol(a,t.toTimestamp())}function rn(a){return ft(!!a),gt.fromTimestamp(function(n){const r=Hi(n);return new ae(r.seconds,r.nanos)}(a))}function Zm(a,t){return _m(a,t).canonicalString()}function _m(a,t){const n=function(l){return new $t(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?n:n.child(t)}function TT(a){const t=$t.fromString(a);return ft(CT(t)),t}function uh(a,t){return Zm(a.databaseId,t.path)}function Ms(a,t){const n=TT(t);if(n.get(1)!==a.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new et(bT(n))}function AT(a,t){return Zm(a.databaseId,t)}function ST(a){const t=TT(a);return t.length===4?$t.emptyPath():bT(t)}function vm(a){return new $t(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function bT(a){return ft(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function _v(a,t,n){return{name:uh(a,t),fields:n.value.mapValue.fields}}function gR(a,t,n){const r=Ms(a,t.name),l=rn(t.updateTime),u=t.createTime?rn(t.createTime):gt.min(),f=new on({mapValue:{fields:t.fields}}),m=fe.newFoundDocument(r,l,u,f);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function pR(a,t){let n;if("targetChange"in t){t.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:lt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,A){return y.useProto3Json?(ft(A===void 0||typeof A=="string"),Te.fromBase64String(A||"")):(ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Te.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const A=y.code===void 0?K.UNKNOWN:yT(y.code);return new at(A,y.message||"")}(f);n=new vT(r,l,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ms(a,r.document.name),u=rn(r.document.updateTime),f=r.document.createTime?rn(r.document.createTime):gt.min(),m=new on({mapValue:{fields:r.document.fields}}),p=fe.newFoundDocument(l,u,f,m),y=r.targetIds||[],A=r.removedTargetIds||[];n=new Kc(y,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ms(a,r.document),u=r.readTime?rn(r.readTime):gt.min(),f=fe.newNoDocument(l,u),m=r.removedTargetIds||[];n=new Kc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ms(a,r.document),u=r.removedTargetIds||[];n=new Kc([],u,l,null)}else{if(!("filter"in t))return lt();{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new sR(l,u),m=r.targetId;n=new _T(m,f)}}return n}function ch(a,t){let n;if(t instanceof dl)n={update:_v(a,t.key,t.value)};else if(t instanceof Fm)n={delete:uh(a,t.key)};else if(t instanceof Gr)n={update:_v(a,t.key,t.data),updateMask:AR(t.fieldMask)};else{if(!(t instanceof pT))return lt();n={verify:uh(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(u,f){const m=f.transform;if(m instanceof Wo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof al)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw lt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:mR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:lt()}(a,t.precondition)),n}function Em(a,t){const n=t.currentDocument?function(u){return u.updateTime!==void 0?_n.updateTime(rn(u.updateTime)):u.exists!==void 0?_n.exists(u.exists):_n.none()}(t.currentDocument):_n.none(),r=t.updateTransforms?t.updateTransforms.map(l=>function(f,m){let p=null;if("setToServerValue"in m)ft(m.setToServerValue==="REQUEST_TIME"),p=new Wo;else if("appendMissingElements"in m){const A=m.appendMissingElements.values||[];p=new al(A)}else if("removeAllFromArray"in m){const A=m.removeAllFromArray.values||[];p=new ll(A)}else"increment"in m?p=new tu(f,m.increment):lt();const y=se.fromServerFormat(m.fieldPath);return new tR(y,p)}(a,l)):[];if(t.update){t.update.name;const l=Ms(a,t.update.name),u=new on({mapValue:{fields:t.update.fields}});if(t.updateMask){const f=function(p){const y=p.fieldPaths||[];return new Ln(y.map(A=>se.fromServerFormat(A)))}(t.updateMask);return new Gr(l,u,f,n,r)}return new dl(l,u,n,r)}if(t.delete){const l=Ms(a,t.delete);return new Fm(l,n)}if(t.verify){const l=Ms(a,t.verify);return new pT(l,n)}return lt()}function yR(a,t){return a&&a.length>0?(ft(t!==void 0),a.map(n=>function(l,u){let f=l.updateTime?rn(l.updateTime):rn(u);return f.isEqual(gt.min())&&(f=rn(u)),new nR(f,l.transformResults||[])}(n,t))):[]}function RT(a,t){return{documents:[AT(a,t.path)]}}function wT(a,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(a,l);const u=function(y){if(y.length!==0)return VT(Xt.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(A=>function(M){return{field:Ha(M.field),direction:vR(M.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ym(a,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:l}}function IT(a){let t=ST(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){ft(r===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=function(b){const M=DT(b);return M instanceof Xt&&Hm(M)?M.getFilters():[M]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(M=>function(Y){return new ah(Ga(Y.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(M))}(n.orderBy));let m=null;n.limit&&(m=function(b){let M;return M=typeof b=="object"?b.value:b,Eh(M)?null:M}(n.limit));let p=null;n.startAt&&(p=function(b){const M=!!b.before,q=b.values||[];return new rl(q,M)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const M=!b.before,q=b.values||[];return new rl(q,M)}(n.endAt)),q1(t,l,f,u,m,"F",p,y)}function _R(a,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ga(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ga(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(a):a.fieldFilter!==void 0?function(n){return Nt.create(Ga(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return Xt.create(n.compositeFilter.filters.map(r=>DT(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return lt()}}(n.compositeFilter.op))}(a):lt()}function vR(a){return cR[a]}function ER(a){return hR[a]}function TR(a){return fR[a]}function Ha(a){return{fieldPath:a.canonicalString()}}function Ga(a){return se.fromServerFormat(a.fieldPath)}function VT(a){return a instanceof Nt?function(n){if(n.op==="=="){if(nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(ev(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(ev(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:ER(n.op),value:n.value}}}(a):a instanceof Xt?function(n){const r=n.getFilters().map(l=>VT(l));return r.length===1?r[0]:{compositeFilter:{op:TR(n.op),filters:r}}}(a):lt()}function AR(a){const t=[];return a.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function CT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n,r,l,u=gt.min(),f=gt.min(),m=Te.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.Tt=t}}function SR(a,t){let n;if(t.document)n=gR(a.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=et.fromSegments(t.noDocument.path),l=Bs(t.noDocument.readTime);n=fe.newNoDocument(r,l),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return lt();{const r=et.fromSegments(t.unknownDocument.path),l=Bs(t.unknownDocument.version);n=fe.newUnknownDocument(r,l)}}return t.readTime&&n.setReadTime(function(l){const u=new ae(l[0],l[1]);return gt.fromTimestamp(u)}(t.readTime)),n}function vv(a,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(u,f){return{name:uh(u,f.key),fields:f.data.value.mapValue.fields,updateTime:ol(u,f.version.toTimestamp()),createTime:ol(u,f.createTime.toTimestamp())}}(a.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ls(t.version)};else{if(!t.isUnknownDocument())return lt();r.unknownDocument={path:n.path.toArray(),version:Ls(t.version)}}return r}function hh(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Ls(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bs(a){const t=new ae(a.seconds,a.nanoseconds);return gt.fromTimestamp(t)}function Ds(a,t){const n=(t.baseMutations||[]).map(u=>Em(a.Tt,u));for(let u=0;u<t.mutations.length-1;++u){const f=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];f.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map(u=>Em(a.Tt,u)),l=ae.fromMillis(t.localWriteTimeMs);return new Km(t.batchId,l,n,r)}function xo(a){const t=Bs(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?Bs(a.lastLimboFreeSnapshotVersion):gt.min();let r;return r=function(u){return u.documents!==void 0}(a.query)?function(u){return ft(u.documents.length===1),Bn(Ih(ST(u.documents[0])))}(a.query):function(u){return Bn(IT(u))}(a.query),new qi(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,Te.fromBase64String(a.resumeToken))}function NT(a,t){const n=Ls(t.snapshotVersion),r=Ls(t.lastLimboFreeSnapshotVersion);let l;l=lh(t.target)?RT(a.Tt,t.target):wT(a.Tt,t.target).ht;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zs(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:l}}function OT(a){const t=IT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?pm(t,t.limit,"L"):t}function Qd(a,t){return new Ym(t.largestBatchId,Em(a.Tt,t.overlayMutation))}function Ev(a,t){const n=t.path.lastSegment();return[a,Xe(t.path.popLast()),n]}function Tv(a,t,n,r){return{indexId:a,uid:t,sequenceNumber:n,readTime:Ls(r.readTime),documentKey:Xe(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{getBundleMetadata(t,n){return Av(t).get(n).next(r=>{if(r)return function(u){return{id:u.bundleId,createTime:Bs(u.createTime),version:u.version}}(r)})}saveBundleMetadata(t,n){return Av(t).put(function(l){return{bundleId:l.id,createTime:Ls(rn(l.createTime)),version:l.version}}(n))}getNamedQuery(t,n){return Sv(t).get(n).next(r=>{if(r)return function(u){return{name:u.name,query:OT(u.bundledQuery),readTime:Bs(u.readTime)}}(r)})}saveNamedQuery(t,n){return Sv(t).put(function(l){return{name:l.name,readTime:Ls(rn(l.readTime)),bundledQuery:l.bundledQuery}}(n))}}function Av(a){return Ve(a,Th)}function Sv(a){return Ve(a,Ah)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n){this.serializer=t,this.userId=n}static It(t,n){const r=n.uid||"";return new Nh(t,r)}getOverlay(t,n){return So(t).get(Ev(this.userId,n)).next(r=>r?Qd(this.serializer,r):null)}getOverlays(t,n){const r=fi();return L.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&r.set(l,u)})).next(()=>r)}saveOverlays(t,n,r){const l=[];return r.forEach((u,f)=>{const m=new Ym(n,f);l.push(this.Et(t,m))}),L.waitFor(l)}removeOverlaysForBatchId(t,n,r){const l=new Set;n.forEach(f=>l.add(Xe(f.getCollectionPath())));const u=[];return l.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);u.push(So(t).J(um,m))}),L.waitFor(u)}getOverlaysForCollection(t,n,r){const l=fi(),u=Xe(n),f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return So(t).G(um,f).next(m=>{for(const p of m){const y=Qd(this.serializer,p);l.set(y.getKey(),y)}return l})}getOverlaysForCollectionGroup(t,n,r,l){const u=fi();let f;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return So(t).Z({index:zE,range:m},(p,y,A)=>{const b=Qd(this.serializer,y);u.size()<l||b.largestBatchId===f?(u.set(b.getKey(),b),f=b.largestBatchId):A.done()}).next(()=>u)}Et(t,n){return So(t).put(function(l,u,f){const[m,p,y]=Ev(u,f.mutation.key);return{userId:u,collectionPath:p,documentId:y,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:ch(l.Tt,f.mutation)}}(this.serializer,this.userId,n))}}function So(a){return Ve(a,Sh)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{dt(t){return Ve(t,zm)}getSessionToken(t){return this.dt(t).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Te.fromUint8Array(r):Te.EMPTY_BYTE_STRING})}setSessionToken(t,n){return this.dt(t).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){}At(t,n){this.Rt(t,n),n.Vt()}Rt(t,n){if("nullValue"in t)this.ft(n,5);else if("booleanValue"in t)this.ft(n,10),n.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(n,15),n.gt(te(t.integerValue));else if("doubleValue"in t){const r=te(t.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Fo(r)?n.gt(0):n.gt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.ft(n,20),typeof r=="string"&&(r=Hi(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,n),this.St(n);else if("bytesValue"in t)this.ft(n,30),n.bt(Gi(t.bytesValue)),this.St(n);else if("referenceValue"in t)this.Dt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in t?YE(t)?this.ft(n,Number.MAX_SAFE_INTEGER):Rh(t)?this.vt(t.mapValue,n):(this.Ct(t.mapValue,n),this.St(n)):"arrayValue"in t?(this.Ft(t.arrayValue,n),this.St(n)):lt()}wt(t,n){this.ft(n,25),this.Mt(t,n)}Mt(t,n){n.yt(t)}Ct(t,n){const r=t.fields||{};this.ft(n,55);for(const l of Object.keys(r))this.wt(l,n),this.Rt(r[l],n)}vt(t,n){var r,l;const u=t.fields||{};this.ft(n,53);const f=nl,m=((l=(r=u[f].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.length)||0;this.ft(n,15),n.gt(te(m)),this.wt(f,n),this.Rt(u[f],n)}Ft(t,n){const r=t.values||[];this.ft(n,50);for(const l of r)this.Rt(l,n)}Dt(t,n){this.ft(n,37),et.fromName(t).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(t,n){t.gt(n)}St(t){t.gt(2)}}Vs.xt=new Vs;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=255;function wR(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function bv(a){const t=64-function(r){let l=0;for(let u=0;u<8;++u){const f=wR(255&r[u]);if(l+=f,f!==8)break}return l}(a);return Math.ceil(t/8)}class IR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Nt(r.value),r=n.next();this.Bt()}Lt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.kt(r.value),r=n.next();this.qt()}Qt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const l=n.codePointAt(0);this.Nt(240|l>>>18),this.Nt(128|63&l>>>12),this.Nt(128|63&l>>>6),this.Nt(128|63&l)}}this.Bt()}$t(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const l=n.codePointAt(0);this.kt(240|l>>>18),this.kt(128|63&l>>>12),this.kt(128|63&l>>>6),this.kt(128|63&l)}}this.qt()}Kt(t){const n=this.Ut(t),r=bv(n);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let l=n.length-r;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Gt(t){const n=this.Ut(t),r=bv(n);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let l=n.length-r;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}zt(){this.jt(za),this.jt(255)}Ht(){this.Jt(za),this.Jt(255)}reset(){this.position=0}seed(t){this.Wt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Yt(){return this.buffer.slice(0,this.position)}Ut(t){const n=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let l=1;l<n.length;++l)n[l]^=r?255:0;return n}Nt(t){const n=255&t;n===0?(this.jt(0),this.jt(255)):n===za?(this.jt(za),this.jt(0)):this.jt(n)}kt(t){const n=255&t;n===0?(this.Jt(0),this.Jt(255)):n===za?(this.Jt(za),this.Jt(0)):this.Jt(t)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(t){this.Wt(1),this.buffer[this.position++]=t}Jt(t){this.Wt(1),this.buffer[this.position++]=~t}Wt(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const l=new Uint8Array(r);l.set(this.buffer),this.buffer=l}}class DR{constructor(t){this.Zt=t}bt(t){this.Zt.Ot(t)}yt(t){this.Zt.Qt(t)}gt(t){this.Zt.Kt(t)}Vt(){this.Zt.zt()}}class VR{constructor(t){this.Zt=t}bt(t){this.Zt.Lt(t)}yt(t){this.Zt.$t(t)}gt(t){this.Zt.Gt(t)}Vt(){this.Zt.Ht()}}class bo{constructor(){this.Zt=new IR,this.Xt=new DR(this.Zt),this.en=new VR(this.Zt)}seed(t){this.Zt.seed(t)}tn(t){return t===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n,r,l){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=l}nn(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Cs(this.indexId,this.documentKey,this.arrayValue,r)}}function Vr(a,t){let n=a.indexId-t.indexId;return n!==0?n:(n=Rv(a.arrayValue,t.arrayValue),n!==0?n:(n=Rv(a.directionalValue,t.directionalValue),n!==0?n:et.comparator(a.documentKey,t.documentKey)))}function Rv(a,t){for(let n=0;n<a.length&&n<t.length;++n){const r=a[n]-t[n];if(r!==0)return r}return a.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.rn=new Ft((n,r)=>se.comparator(n.field,r.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.sn=t.orderBy,this._n=[];for(const n of t.filters){const r=n;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(t){if(ft(t.collectionGroup===this.collectionId),this.an)return!1;const n=am(t);if(n!==void 0&&!this.cn(n))return!1;const r=Rs(t);let l=new Set,u=0,f=0;for(;u<r.length&&this.cn(r[u]);++u)l=l.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.rn.size>0){const m=this.rn.getIterator().getNext();if(!l.has(m.field.canonicalString())){const p=r[u];if(!this.ln(m,p)||!this.hn(this.sn[f++],p))return!1}++u}for(;u<r.length;++u){const m=r[u];if(f>=this.sn.length||!this.hn(this.sn[f++],m))return!1}return!0}Pn(){if(this.an)return null;let t=new Ft(se.comparator);const n=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Bc(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new Bc(r.field,0))}for(const r of this.sn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new Bc(r.field,r.dir==="asc"?0:1)));return new th(th.UNKNOWN_ID,this.collectionId,n,Go.empty())}cn(t){for(const n of this._n)if(this.ln(n,t))return!0;return!1}ln(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}hn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(a){var t,n;if(ft(a instanceof Nt||a instanceof Xt),a instanceof Nt){if(a instanceof iT){const l=((n=(t=a.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(u=>Nt.create(a.field,"==",u)))||[];return Xt.create(l,"or")}return a}const r=a.filters.map(l=>MT(l));return Xt.create(r,a.op)}function CR(a){if(a.getFilters().length===0)return[];const t=Sm(MT(a));return ft(PT(t)),Tm(t)||Am(t)?[t]:t.getFilters()}function Tm(a){return a instanceof Nt}function Am(a){return a instanceof Xt&&Hm(a)}function PT(a){return Tm(a)||Am(a)||function(n){if(n instanceof Xt&&dm(n)){for(const r of n.getFilters())if(!Tm(r)&&!Am(r))return!1;return!0}return!1}(a)}function Sm(a){if(ft(a instanceof Nt||a instanceof Xt),a instanceof Nt)return a;if(a.filters.length===1)return Sm(a.filters[0]);const t=a.filters.map(r=>Sm(r));let n=Xt.create(t,a.op);return n=fh(n),PT(n)?n:(ft(n instanceof Xt),ft(sl(n)),ft(n.filters.length>1),n.filters.reduce((r,l)=>$m(r,l)))}function $m(a,t){let n;return ft(a instanceof Nt||a instanceof Xt),ft(t instanceof Nt||t instanceof Xt),n=a instanceof Nt?t instanceof Nt?function(l,u){return Xt.create([l,u],"and")}(a,t):Iv(a,t):t instanceof Nt?Iv(t,a):function(l,u){if(ft(l.filters.length>0&&u.filters.length>0),sl(l)&&sl(u))return tT(l,u.getFilters());const f=dm(l)?l:u,m=dm(l)?u:l,p=f.filters.map(y=>$m(y,m));return Xt.create(p,"or")}(a,t),fh(n)}function Iv(a,t){if(sl(t))return tT(t,a.getFilters());{const n=t.filters.map(r=>$m(a,r));return Xt.create(n,"or")}}function fh(a){if(ft(a instanceof Nt||a instanceof Xt),a instanceof Nt)return a;const t=a.getFilters();if(t.length===1)return fh(t[0]);if(JE(a))return a;const n=t.map(l=>fh(l)),r=[];return n.forEach(l=>{l instanceof Nt?r.push(l):l instanceof Xt&&(l.op===a.op?r.push(...l.filters):r.push(l))}),r.length===1?r[0]:Xt.create(r,a.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.Tn=new Jm}addToCollectionParentIndex(t,n){return this.Tn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(vn.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(vn.min())}updateCollectionGroup(t,n,r){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class Jm{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Ft($t.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ft($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="IndexedDbIndexManager",Mc=new Uint8Array(0);class NR{constructor(t,n){this.databaseId=n,this.In=new Jm,this.En=new Fi(r=>zs(r),(r,l)=>ru(r,l)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.In.has(n)){const r=n.lastSegment(),l=n.popLast();t.addOnCommittedListener(()=>{this.In.add(n)});const u={collectionId:r,parent:Xe(l)};return Vv(t).put(u)}return L.resolve()}getCollectionParents(t,n){const r=[],l=IDBKeyRange.bound([n,""],[IE(n),""],!1,!0);return Vv(t).G(l).next(u=>{for(const f of u){if(f.collectionId!==n)break;r.push(hi(f.parent))}return r})}addFieldIndex(t,n){const r=Ro(t),l=function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])}}(n);delete l.indexId;const u=r.add(l);if(n.indexState){const f=Ba(t);return u.next(m=>{f.put(Tv(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(t,n){const r=Ro(t),l=Ba(t),u=La(t);return r.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const n=Ro(t),r=La(t),l=Ba(t);return n.J().next(()=>r.J()).next(()=>l.J())}createTargetIndexes(t,n){return L.forEach(this.dn(n),r=>this.getIndexType(t,r).next(l=>{if(l===0||l===1){const u=new wv(r).Pn();if(u!=null)return this.addFieldIndex(t,u)}}))}getDocumentsMatchingTarget(t,n){const r=La(t);let l=!0;const u=new Map;return L.forEach(this.dn(n),f=>this.An(t,f).next(m=>{l&&(l=!!m),u.set(f,m)})).next(()=>{if(l){let f=Dt();const m=[];return L.forEach(u,(p,y)=>{$(Dv,`Using index ${function(st){return`id=${st.indexId}|cg=${st.collectionGroup}|f=${st.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`}(p)} to execute ${zs(n)}`);const A=function(st,Rt){const ct=am(Rt);if(ct===void 0)return null;for(const _t of oh(st,ct.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(y,p),b=function(st,Rt){const ct=new Map;for(const _t of Rs(Rt))for(const x of oh(st,_t.fieldPath))switch(x.op){case"==":case"in":ct.set(_t.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return ct.set(_t.fieldPath.canonicalString(),x.value),Array.from(ct.values())}return null}(y,p),M=function(st,Rt){const ct=[];let _t=!0;for(const x of Rs(Rt)){const w=x.kind===0?lv(st,x.fieldPath,st.startAt):ov(st,x.fieldPath,st.startAt);ct.push(w.value),_t&&(_t=w.inclusive)}return new rl(ct,_t)}(y,p),q=function(st,Rt){const ct=[];let _t=!0;for(const x of Rs(Rt)){const w=x.kind===0?ov(st,x.fieldPath,st.endAt):lv(st,x.fieldPath,st.endAt);ct.push(w.value),_t&&(_t=w.inclusive)}return new rl(ct,_t)}(y,p),Y=this.Rn(p,y,M),J=this.Rn(p,y,q),X=this.Vn(p,y,b),yt=this.mn(p.indexId,A,Y,M.inclusive,J,q.inclusive,X);return L.forEach(yt,ot=>r.H(ot,n.limit).next(st=>{st.forEach(Rt=>{const ct=et.fromSegments(Rt.documentKey);f.has(ct)||(f=f.add(ct),m.push(ct))})}))}).next(()=>m)}return L.resolve(null)})}dn(t){let n=this.En.get(t);return n||(t.filters.length===0?n=[t]:n=CR(Xt.create(t.filters,"and")).map(r=>gm(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.En.set(t,n),n)}mn(t,n,r,l,u,f,m){const p=(n!=null?n.length:1)*Math.max(r.length,u.length),y=p/(n!=null?n.length:1),A=[];for(let b=0;b<p;++b){const M=n?this.fn(n[b/y]):Mc,q=this.gn(t,M,r[b%y],l),Y=this.pn(t,M,u[b%y],f),J=m.map(X=>this.gn(t,M,X,!0));A.push(...this.createRange(q,Y,J))}return A}gn(t,n,r,l){const u=new Cs(t,et.empty(),n,r);return l?u:u.nn()}pn(t,n,r,l){const u=new Cs(t,et.empty(),n,r);return l?u.nn():u}An(t,n){const r=new wv(n),l=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,l).next(u=>{let f=null;for(const m of u)r.un(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(t,n){let r=2;const l=this.dn(n);return L.forEach(l,u=>this.An(t,u).next(f=>{f?r!==0&&f.fields.length<function(p){let y=new Ft(se.comparator),A=!1;for(const b of p.filters)for(const M of b.getFlattenedFilters())M.field.isKeyField()||(M.op==="array-contains"||M.op==="array-contains-any"?A=!0:y=y.add(M.field));for(const b of p.orderBy)b.field.isKeyField()||(y=y.add(b.field));return y.size+(A?1:0)}(u)&&(r=1):r=0})).next(()=>function(f){return f.limit!==null}(n)&&l.length>1&&r===2?1:r)}yn(t,n){const r=new bo;for(const l of Rs(t)){const u=n.data.field(l.fieldPath);if(u==null)return null;const f=r.tn(l.kind);Vs.xt.At(u,f)}return r.Yt()}fn(t){const n=new bo;return Vs.xt.At(t,n.tn(0)),n.Yt()}wn(t,n){const r=new bo;return Vs.xt.At(jm(this.databaseId,n),r.tn(function(u){const f=Rs(u);return f.length===0?0:f[f.length-1].kind}(t))),r.Yt()}Vn(t,n,r){if(r===null)return[];let l=[];l.push(new bo);let u=0;for(const f of Rs(t)){const m=r[u++];for(const p of l)if(this.Sn(n,f.fieldPath)&&Jo(m))l=this.bn(l,f,m);else{const y=p.tn(f.kind);Vs.xt.At(m,y)}}return this.Dn(l)}Rn(t,n,r){return this.Vn(t,n,r.position)}Dn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].Yt();return n}bn(t,n,r){const l=[...t],u=[];for(const f of r.arrayValue.values||[])for(const m of l){const p=new bo;p.seed(m.Yt()),Vs.xt.At(f,p.tn(n.kind)),u.push(p)}return u}Sn(t,n){return!!t.filters.find(r=>r instanceof Nt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,n){const r=Ro(t),l=Ba(t);return(n?r.G(om,IDBKeyRange.bound(n,n)):r.G()).next(u=>{const f=[];return L.forEach(u,m=>l.get([m.indexId,this.uid]).next(p=>{f.push(function(A,b){const M=b?new Go(b.sequenceNumber,new vn(Bs(b.readTime),new et(hi(b.documentKey)),b.largestBatchId)):Go.empty(),q=A.fields.map(([Y,J])=>new Bc(se.fromServerFormat(Y),J));return new th(A.indexId,A.collectionGroup,q,M)}(m,p))})).next(()=>f)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((r,l)=>{const u=r.indexState.sequenceNumber-l.indexState.sequenceNumber;return u!==0?u:At(r.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const l=Ro(t),u=Ba(t);return this.vn(t).next(f=>l.G(om,IDBKeyRange.bound(n,n)).next(m=>L.forEach(m,p=>u.put(Tv(p.indexId,this.uid,f,r)))))}updateIndexEntries(t,n){const r=new Map;return L.forEach(n,(l,u)=>{const f=r.get(l.collectionGroup);return(f?L.resolve(f):this.getFieldIndexes(t,l.collectionGroup)).next(m=>(r.set(l.collectionGroup,m),L.forEach(m,p=>this.Cn(t,l,p).next(y=>{const A=this.Fn(u,p);return y.isEqual(A)?L.resolve():this.Mn(t,u,p,y,A)}))))})}xn(t,n,r,l){return La(t).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.wn(r,n.key),documentKey:n.key.path.toArray()})}On(t,n,r,l){return La(t).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.wn(r,n.key),n.key.path.toArray()])}Cn(t,n,r){const l=La(t);let u=new Ft(Vr);return l.Z({index:UE,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,n)])},(f,m)=>{u=u.add(new Cs(r.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>u)}Fn(t,n){let r=new Ft(Vr);const l=this.yn(n,t);if(l==null)return r;const u=am(n);if(u!=null){const f=t.data.field(u.fieldPath);if(Jo(f))for(const m of f.arrayValue.values||[])r=r.add(new Cs(n.indexId,t.key,this.fn(m),l))}else r=r.add(new Cs(n.indexId,t.key,Mc,l));return r}Mn(t,n,r,l,u){$(Dv,"Updating index entries for document '%s'",n.key);const f=[];return function(p,y,A,b,M){const q=p.getIterator(),Y=y.getIterator();let J=Ua(q),X=Ua(Y);for(;J||X;){let yt=!1,ot=!1;if(J&&X){const st=A(J,X);st<0?ot=!0:st>0&&(yt=!0)}else J!=null?ot=!0:yt=!0;yt?(b(X),X=Ua(Y)):ot?(M(J),J=Ua(q)):(J=Ua(q),X=Ua(Y))}}(l,u,Vr,m=>{f.push(this.xn(t,n,r,m))},m=>{f.push(this.On(t,n,r,m))}),L.waitFor(f)}vn(t){let n=1;return Ba(t).Z({index:PE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((f,m)=>Vr(f,m)).filter((f,m,p)=>!m||Vr(f,p[m-1])!==0);const l=[];l.push(t);for(const f of r){const m=Vr(f,t),p=Vr(f,n);if(m===0)l[0]=t.nn();else if(m>0&&p<0)l.push(f),l.push(f.nn());else if(p>0)break}l.push(n);const u=[];for(let f=0;f<l.length;f+=2){if(this.Nn(l[f],l[f+1]))return[];const m=[l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,Mc,[]],p=[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,Mc,[]];u.push(IDBKeyRange.bound(m,p))}return u}Nn(t,n){return Vr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(Cv)}getMinOffset(t,n){return L.mapArray(this.dn(n),r=>this.An(t,r).next(l=>l||lt())).next(Cv)}}function Vv(a){return Ve(a,Yo)}function La(a){return Ve(a,sh)}function Ro(a){return Ve(a,Um)}function Ba(a){return Ve(a,rh)}function Cv(a){ft(a.length!==0);let t=a[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<a.length;r++){const l=a[r].indexState.offset;Om(l,t)<0&&(t=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new vn(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class Ye{static withCacheSize(t){return new Ye(t,Ye.DEFAULT_COLLECTION_PERCENTILE,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(a,t,n){const r=a.store(Qn),l=a.store(Ja),u=[],f=IDBKeyRange.only(n.batchId);let m=0;const p=r.Z({range:f},(A,b,M)=>(m++,M.delete()));u.push(p.next(()=>{ft(m===1)}));const y=[];for(const A of n.mutations){const b=NE(t,A.key.path,n.batchId);u.push(l.delete(b)),y.push(A.key)}return L.waitFor(u).next(()=>y)}function dh(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw lt();t=a.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ye.DEFAULT_COLLECTION_PERCENTILE=10,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ye.DEFAULT=new Ye(UT,Ye.DEFAULT_COLLECTION_PERCENTILE,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ye.DISABLED=new Ye(-1,0,0);class Oh{constructor(t,n,r,l){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=l,this.Bn={}}static It(t,n,r,l){ft(t.uid!=="");const u=t.isAuthenticated()?t.uid:"";return new Oh(u,n,r,l)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cr(t).Z({index:xs,range:r},(l,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(t,n,r,l){const u=Fa(t),f=Cr(t);return f.add({}).next(m=>{ft(typeof m=="number");const p=new Km(m,n,r,l),y=function(q,Y,J){const X=J.baseMutations.map(ot=>ch(q.Tt,ot)),yt=J.mutations.map(ot=>ch(q.Tt,ot));return{userId:Y,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:X,mutations:yt}}(this.serializer,this.userId,p),A=[];let b=new Ft((M,q)=>At(M.canonicalString(),q.canonicalString()));for(const M of l){const q=NE(this.userId,M.key.path,m);b=b.add(M.key.path.popLast()),A.push(f.put(y)),A.push(u.put(q,s1))}return b.forEach(M=>{A.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.Bn[m]=p.keys()}),L.waitFor(A).next(()=>p)})}lookupMutationBatch(t,n){return Cr(t).get(n).next(r=>r?(ft(r.userId===this.userId),Ds(this.serializer,r)):null)}Ln(t,n){return this.Bn[n]?L.resolve(this.Bn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const l=r.keys();return this.Bn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Cr(t).Z({index:xs,range:l},(f,m,p)=>{m.userId===this.userId&&(ft(m.batchId>=r),u=Ds(this.serializer,m)),p.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ns;return Cr(t).Z({index:xs,range:n,reverse:!0},(l,u,f)=>{r=u.batchId,f.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,Ns],[this.userId,Number.POSITIVE_INFINITY]);return Cr(t).G(xs,n).next(r=>r.map(l=>Ds(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=kc(this.userId,n.path),l=IDBKeyRange.lowerBound(r),u=[];return Fa(t).Z({range:l},(f,m,p)=>{const[y,A,b]=f,M=hi(A);if(y===this.userId&&n.path.isEqual(M))return Cr(t).get(b).next(q=>{if(!q)throw lt();ft(q.userId===this.userId),u.push(Ds(this.serializer,q))});p.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ft(At);const l=[];return n.forEach(u=>{const f=kc(this.userId,u.path),m=IDBKeyRange.lowerBound(f),p=Fa(t).Z({range:m},(y,A,b)=>{const[M,q,Y]=y,J=hi(q);M===this.userId&&u.path.isEqual(J)?r=r.add(Y):b.done()});l.push(p)}),L.waitFor(l).next(()=>this.kn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1,u=kc(this.userId,r),f=IDBKeyRange.lowerBound(u);let m=new Ft(At);return Fa(t).Z({range:f},(p,y,A)=>{const[b,M,q]=p,Y=hi(M);b===this.userId&&r.isPrefixOf(Y)?Y.length===l&&(m=m.add(q)):A.done()}).next(()=>this.kn(t,m))}kn(t,n){const r=[],l=[];return n.forEach(u=>{l.push(Cr(t).get(u).next(f=>{if(f===null)throw lt();ft(f.userId===this.userId),r.push(Ds(this.serializer,f))}))}),L.waitFor(l).next(()=>r)}removeMutationBatch(t,n){return zT(t.ue,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.qn(n.batchId)}),L.forEach(r,l=>this.referenceDelegate.markPotentiallyOrphaned(t,l))))}qn(t){delete this.Bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(f){return[f]}(this.userId)),l=[];return Fa(t).Z({range:r},(u,f,m)=>{if(u[0]===this.userId){const p=hi(u[1]);l.push(p)}else m.done()}).next(()=>{ft(l.length===0)})})}containsKey(t,n){return LT(t,this.userId,n)}Qn(t){return BT(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ns,lastStreamToken:""})}}function LT(a,t,n){const r=kc(t,n.path),l=r[1],u=IDBKeyRange.lowerBound(r);let f=!1;return Fa(a).Z({range:u,Y:!0},(m,p,y)=>{const[A,b,M]=m;A===t&&b===l&&(f=!0),y.done()}).next(()=>f)}function Cr(a){return Ve(a,Qn)}function Fa(a){return Ve(a,Ja)}function BT(a){return Ve(a,Ko)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new ks(0)}static Un(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.Wn(t).next(n=>{const r=new ks(n.highestTargetId);return n.highestTargetId=r.next(),this.Gn(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Wn(t).next(n=>gt.fromTimestamp(new ae(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Wn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.Wn(t).next(l=>(l.highestListenSequenceNumber=n,r&&(l.lastRemoteSnapshotVersion=r.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Gn(t,l)))}addTargetData(t,n){return this.zn(t,n).next(()=>this.Wn(t).next(r=>(r.targetCount+=1,this.jn(n,r),this.Gn(t,r))))}updateTargetData(t,n){return this.zn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>ka(t).delete(n.targetId)).next(()=>this.Wn(t)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.Gn(t,r)))}removeTargets(t,n,r){let l=0;const u=[];return ka(t).Z((f,m)=>{const p=xo(m);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(l++,u.push(this.removeTargetData(t,p)))}).next(()=>L.waitFor(u)).next(()=>l)}forEachTarget(t,n){return ka(t).Z((r,l)=>{const u=xo(l);n(u)})}Wn(t){return Nv(t).get(ih).next(n=>(ft(n!==null),n))}Gn(t,n){return Nv(t).put(ih,n)}zn(t,n){return ka(t).put(NT(this.serializer,n))}jn(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Wn(t).next(n=>n.targetCount)}getTargetData(t,n){const r=zs(n),l=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ka(t).Z({range:l,index:ME},(f,m,p)=>{const y=xo(m);ru(n,y.target)&&(u=y,p.done())}).next(()=>u)}addMatchingKeys(t,n,r){const l=[],u=Nr(t);return n.forEach(f=>{const m=Xe(f.path);l.push(u.put({targetId:r,path:m})),l.push(this.referenceDelegate.addReference(t,r,f))}),L.waitFor(l)}removeMatchingKeys(t,n,r){const l=Nr(t);return L.forEach(n,u=>{const f=Xe(u.path);return L.waitFor([l.delete([r,f]),this.referenceDelegate.removeReference(t,r,u)])})}removeMatchingKeysForTargetId(t,n){const r=Nr(t),l=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(l)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),l=Nr(t);let u=Dt();return l.Z({range:r,Y:!0},(f,m,p)=>{const y=hi(f[1]),A=new et(y);u=u.add(A)}).next(()=>u)}containsKey(t,n){const r=Xe(n.path),l=IDBKeyRange.bound([r],[IE(r)],!1,!0);let u=0;return Nr(t).Z({index:Pm,Y:!0,range:l},([f,m],p,y)=>{f!==0&&(u++,y.done())}).next(()=>u>0)}lt(t,n){return ka(t).get(n).next(r=>r?xo(r):null)}}function ka(a){return Ve(a,Wa)}function Nv(a){return Ve(a,Os)}function Nr(a){return Ve(a,tl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",kT=1048576;function Mv([a,t],[n,r]){const l=At(a,n);return l===0?At(t,r):l}class MR{constructor(t){this.Hn=t,this.buffer=new Ft(Mv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qT{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){$(Ov,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hr(n)?$(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.er(3e5)})}}class PR{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return L.resolve(zn.ae);const r=new MR(n);return this.tr.forEachTarget(t,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(xv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,l,u,f,m,p,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(r=b,m=Date.now(),this.removeTargets(t,r,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(b=>(y=Date.now(),qa()<=zt.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-A}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function jT(a,t){return new PR(a,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.db=t,this.garbageCollector=jT(this,n)}nr(t){const n=this.sr(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(l=>r+l))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}rr(t,n){return this._r(t,(r,l)=>n(l))}addReference(t,n,r){return Pc(t,r)}removeReference(t,n,r){return Pc(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Pc(t,n)}ar(t,n){return function(l,u){let f=!1;return BT(l).X(m=>LT(l,m,u).next(p=>(p&&(f=!0),L.resolve(!p)))).next(()=>f)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this._r(t,(f,m)=>{if(m<=n){const p=this.ar(t,f).next(y=>{if(!y)return u++,r.getEntry(t,f).next(()=>(r.removeEntry(f,gt.min()),Nr(t).delete(function(b){return[0,Xe(b.path)]}(f))))});l.push(p)}}).next(()=>L.waitFor(l)).next(()=>r.apply(t)).next(()=>u)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Pc(t,n)}_r(t,n){const r=Nr(t);let l,u=zn.ae;return r.Z({index:Pm},([f,m],{path:p,sequenceNumber:y})=>{f===0?(u!==zn.ae&&n(new et(hi(l)),u),u=y,l=p):u=zn.ae}).next(()=>{u!==zn.ae&&n(new et(hi(l)),u)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Pc(a,t){return Nr(a).put(function(r,l){return{targetId:0,path:Xe(r.path),sequenceNumber:l}}(t,a.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changes=new Fi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Ss(t).put(r)}removeEntry(t,n,r){return Ss(t).delete(function(u,f){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],hh(f),m[m.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.ur(t,r)))}getEntry(t,n){let r=fe.newInvalidDocument(n);return Ss(t).Z({index:qc,range:IDBKeyRange.only(wo(n))},(l,u)=>{r=this.cr(n,u)}).next(()=>r)}lr(t,n){let r={size:0,document:fe.newInvalidDocument(n)};return Ss(t).Z({index:qc,range:IDBKeyRange.only(wo(n))},(l,u)=>{r={document:this.cr(n,u),size:dh(u)}}).next(()=>r)}getEntries(t,n){let r=yn();return this.hr(t,n,(l,u)=>{const f=this.cr(l,u);r=r.insert(l,f)}).next(()=>r)}Pr(t,n){let r=yn(),l=new ee(et.comparator);return this.hr(t,n,(u,f)=>{const m=this.cr(u,f);r=r.insert(u,m),l=l.insert(u,dh(f))}).next(()=>({documents:r,Tr:l}))}hr(t,n,r){if(n.isEmpty())return L.resolve();let l=new Ft(zv);n.forEach(p=>l=l.add(p));const u=IDBKeyRange.bound(wo(l.first()),wo(l.last())),f=l.getIterator();let m=f.getNext();return Ss(t).Z({index:qc,range:u},(p,y,A)=>{const b=et.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;m&&zv(m,b)<0;)r(m,null),m=f.getNext();m&&m.isEqual(b)&&(r(m,y),m=f.hasNext()?f.getNext():null),m?A.W(wo(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(t,n,r,l,u){const f=n.path,m=[f.popLast().toArray(),f.lastSegment(),hh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ss(t).G(IDBKeyRange.bound(m,p,!0)).next(y=>{u==null||u.incrementDocumentReadCount(y.length);let A=yn();for(const b of y){const M=this.cr(et.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);M.isFoundDocument()&&(su(n,M)||l.has(M.key))&&(A=A.insert(M.key,M))}return A})}getAllFromCollectionGroup(t,n,r,l){let u=yn();const f=Uv(n,r),m=Uv(n,vn.max());return Ss(t).Z({index:OE,range:IDBKeyRange.bound(f,m,!0)},(p,y,A)=>{const b=this.cr(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);u=u.insert(b.key,b),u.size===l&&A.done()}).next(()=>u)}newChangeBuffer(t){return new LR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return Pv(t).get(lm).next(n=>(ft(!!n),n))}ur(t,n){return Pv(t).put(lm,n)}cr(t,n){if(n){const r=SR(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(gt.min())))return r}return fe.newInvalidDocument(t)}}function GT(a){return new zR(a)}class LR extends HT{constructor(t,n){super(),this.Ir=t,this.trackRemovals=n,this.Er=new Fi(r=>r.toString(),(r,l)=>r.isEqual(l))}applyChanges(t){const n=[];let r=0,l=new Ft((u,f)=>At(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const m=this.Er.get(u);if(n.push(this.Ir.removeEntry(t,u,m.readTime)),f.isValidDocument()){const p=vv(this.Ir.serializer,f);l=l.add(u.path.popLast());const y=dh(p);r+=y-m.size,n.push(this.Ir.addEntry(t,u,p))}else if(r-=m.size,this.trackRemovals){const p=vv(this.Ir.serializer,f.convertToNoDocument(gt.min()));n.push(this.Ir.addEntry(t,u,p))}}),l.forEach(u=>{n.push(this.Ir.indexManager.addToCollectionParentIndex(t,u))}),n.push(this.Ir.updateMetadata(t,r)),L.waitFor(n)}getFromCache(t,n){return this.Ir.lr(t,n).next(r=>(this.Er.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this.Ir.Pr(t,n).next(({documents:r,Tr:l})=>(l.forEach((u,f)=>{this.Er.set(u,{size:f,readTime:r.get(u).readTime})}),r))}}function Pv(a){return Ve(a,Qo)}function Ss(a){return Ve(a,nh)}function wo(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Uv(a,t){const n=t.documentKey.path.toArray();return[a,hh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zv(a,t){const n=a.path.toArray(),r=t.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(l=At(n[u],r[u]),l)return l;return l=At(n.length,r.length),l||(l=At(n[n.length-2],r[r.length-2]),l||At(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(r!==null&&Lo(r.mutation,l,Ln.empty(),ae.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Dt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Dt()){const l=fi();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,r).next(u=>{let f=Vo();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const r=fi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Dt()))}populateOverlays(t,n,r){const l=[];return r.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,r,l){let u=yn();const f=zo(),m=function(){return zo()}();return n.forEach((p,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Gr)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),Lo(A.mutation,y,A.mutation.getFieldMask(),ae.now())):f.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,A)=>f.set(y,A)),n.forEach((y,A)=>{var b;return m.set(y,new BR(A,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const r=zo();let l=new ee((f,m)=>f-m),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let A=r.get(p)||Ln.empty();A=m.applyToLocalView(y,A),r.set(p,A);const b=(l.get(m.batchId)||Dt()).add(p);l=l.insert(m.batchId,b)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,A=p.value,b=oT();A.forEach(M=>{if(!u.has(M)){const q=mT(n.get(M),r.get(M));q!==null&&b.set(M,q),u=u.add(M)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return L.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,l){return function(f){return et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):L.resolve(fi());let m=Ho,p=u;return f.next(y=>L.forEach(y,(A,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(A)?L.resolve():this.remoteDocumentCache.getEntry(t,A).next(M=>{p=p.insert(A,M)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Dt())).next(A=>({batchId:m,changes:lT(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new et(n)).next(r=>{let l=Vo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let f=Vo();return this.indexManager.getCollectionParents(t,u).next(m=>L.forEach(m,p=>{const y=function(b,M){return new wh(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next(A=>{A.forEach((b,M)=>{f=f.insert(b,M)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l))).next(f=>{u.forEach((p,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,fe.newInvalidDocument(A)))});let m=Vo();return f.forEach((p,y)=>{const A=u.get(p);A!==void 0&&Lo(A.mutation,y,Ln.empty(),ae.now()),su(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return L.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:rn(l.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:OT(l.bundledQuery),readTime:rn(l.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.overlays=new ee(et.comparator),this.Rr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const r=fi();return L.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&r.set(l,u)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((l,u)=>{this.Et(t,n,u)}),L.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),L.resolve()}getOverlaysForCollection(t,n,r){const l=fi(),u=n.length+1,f=new et(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return L.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new ee((y,A)=>y-A);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let A=u.get(y.largestBatchId);A===null&&(A=fi(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const m=fi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,A)=>m.set(y,A)),!(m.size()>=l)););return L.resolve(m)}Et(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Ym(n,r));let u=this.Rr.get(n);u===void 0&&(u=Dt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.sessionToken=Te.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Vr=new Ft(ze.mr),this.gr=new Ft(ze.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new ze(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new ze(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new et(new $t([])),r=new ze(n,t),l=new ze(n,t+1),u=[];return this.gr.forEachInRange([r,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new et(new $t([])),r=new ze(n,t),l=new ze(n,t+1);let u=Dt();return this.gr.forEachInRange([r,l],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new ze(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return et.comparator(t.key,n.key)||At(t.Cr,n.Cr)}static pr(t,n){return At(t.Cr,n.Cr)||et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ft(ze.mr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Km(u,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return L.resolve(f)}lookupMutationBatch(t,n){return L.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Nr(r),u=l<0?0:l;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Ns:this.Fr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,l],f=>{const m=this.Or(f.Cr);u.push(m)}),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ft(At);return n.forEach(l=>{const u=new ze(l,0),f=new ze(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{r=r.add(m.Cr)})}),L.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;et.isDocumentKey(u)||(u=u.child(""));const f=new ze(new et(u),0);let m=new Ft(At);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},f),L.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(r=>{const l=this.Or(r);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return L.forEach(n.mutations,l=>{const u=new ze(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new ze(n,0),l=this.Mr.firstAfterOrEqual(r);return L.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.kr=t,this.docs=function(){return new ee(et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(t,n){let r=yn();return n.forEach(l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():fe.newInvalidDocument(l))}),L.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=yn();const f=n.path,m=new et(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:A}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Om(DE(A),r)<=0||(l.has(A.key)||su(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(t,n,r,l){lt()}qr(t,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new FR(this)}getSize(t){return L.resolve(this.size)}}class FR extends HT{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(r)}),L.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.persistence=t,this.Qr=new Fi(n=>zs(n),ru),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wm,this.targetCount=0,this.Ur=ks.Kn()}forEachTarget(t,n){return this.Qr.forEach((r,l)=>n(l)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),L.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new ks(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.zn(n),L.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),L.waitFor(u).next(()=>l)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return L.resolve(r)}addMatchingKeys(t,n,r){return this.Kr.yr(n,r),L.resolve()}removeMatchingKeys(t,n,r){this.Kr.Sr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),L.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.br(n),L.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Kr.vr(n);return L.resolve(r)}containsKey(t,n){return L.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new zn(0),this.zr=!1,this.zr=!0,this.jr=new jR,this.referenceDelegate=t(this),this.Hr=new KR(this),this.indexManager=new xR,this.remoteDocumentCache=function(l){return new GR(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xT(n),this.Yr=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new HR(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){$("MemoryPersistence","Starting transaction:",t);const l=new QR(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return L.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class QR extends CE{constructor(t){super(),this.currentSequenceNumber=t}}class Mh{constructor(t){this.persistence=t,this.ti=new Wm,this.ni=null}static ri(t){return new Mh(t)}get ii(){if(this.ni)return this.ni;throw lt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),L.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),L.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ii,r=>{const l=et.fromPath(r);return this.si(t,l).next(u=>{u||n.removeEntry(l,gt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return L.or([()=>L.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class mh{constructor(t,n){this.persistence=t,this.oi=new Fi(r=>Xe(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=jT(this,n)}static ri(t,n){return new mh(t,n)}Zr(){}Xr(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(l=>r+l))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return L.forEach(this.oi,(r,l)=>this.ar(t,r,l).next(u=>u?L.resolve():n(l)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,n).next(m=>{m||(r++,u.removeEntry(f,gt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),L.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),L.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}ar(t,n,r){return L.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return L.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.serializer=t}B(t,n,r,l){const u=new vh("createOrUpgrade",n);r<1&&l>=1&&(function(p){p.createObjectStore(iu)}(t),function(p){p.createObjectStore(Ko,{keyPath:r1}),p.createObjectStore(Qn,{keyPath:X_,autoIncrement:!0}).createIndex(xs,Z_,{unique:!0}),p.createObjectStore(Ja)}(t),Lv(t),function(p){p.createObjectStore(ws)}(t));let f=L.resolve();return r<3&&l>=3&&(r!==0&&(function(p){p.deleteObjectStore(tl),p.deleteObjectStore(Wa),p.deleteObjectStore(Os)}(t),Lv(t)),f=f.next(()=>function(p){const y=p.store(Os),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gt.min().toTimestamp(),targetCount:0};return y.put(ih,A)}(u))),r<4&&l>=4&&(r!==0&&(f=f.next(()=>function(p,y){return y.store(Qn).G().next(b=>{p.deleteObjectStore(Qn),p.createObjectStore(Qn,{keyPath:X_,autoIncrement:!0}).createIndex(xs,Z_,{unique:!0});const M=y.store(Qn),q=b.map(Y=>M.put(Y));return L.waitFor(q)})}(t,u))),f=f.next(()=>{(function(p){p.createObjectStore(el,{keyPath:d1})})(t)})),r<5&&l>=5&&(f=f.next(()=>this._i(u))),r<6&&l>=6&&(f=f.next(()=>(function(p){p.createObjectStore(Qo)}(t),this.ai(u)))),r<7&&l>=7&&(f=f.next(()=>this.ui(u))),r<8&&l>=8&&(f=f.next(()=>this.ci(t,u))),r<9&&l>=9&&(f=f.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&l>=10&&(f=f.next(()=>this.li(u))),r<11&&l>=11&&(f=f.next(()=>{(function(p){p.createObjectStore(Th,{keyPath:m1})})(t),function(p){p.createObjectStore(Ah,{keyPath:g1})}(t)})),r<12&&l>=12&&(f=f.next(()=>{(function(p){const y=p.createObjectStore(Sh,{keyPath:A1});y.createIndex(um,S1,{unique:!1}),y.createIndex(zE,b1,{unique:!1})})(t)})),r<13&&l>=13&&(f=f.next(()=>function(p){const y=p.createObjectStore(nh,{keyPath:a1});y.createIndex(qc,l1),y.createIndex(OE,o1)}(t)).next(()=>this.hi(t,u)).next(()=>t.deleteObjectStore(ws))),r<14&&l>=14&&(f=f.next(()=>this.Pi(t,u))),r<15&&l>=15&&(f=f.next(()=>function(p){p.createObjectStore(Um,{keyPath:p1,autoIncrement:!0}).createIndex(om,y1,{unique:!1}),p.createObjectStore(rh,{keyPath:_1}).createIndex(PE,v1,{unique:!1}),p.createObjectStore(sh,{keyPath:E1}).createIndex(UE,T1,{unique:!1})}(t))),r<16&&l>=16&&(f=f.next(()=>{n.objectStore(rh).clear()}).next(()=>{n.objectStore(sh).clear()})),r<17&&l>=17&&(f=f.next(()=>{(function(p){p.createObjectStore(zm,{keyPath:R1})})(t)})),f}ai(t){let n=0;return t.store(ws).Z((r,l)=>{n+=dh(l)}).next(()=>{const r={byteSize:n};return t.store(Qo).put(lm,r)})}_i(t){const n=t.store(Ko),r=t.store(Qn);return n.G().next(l=>L.forEach(l,u=>{const f=IDBKeyRange.bound([u.userId,Ns],[u.userId,u.lastAcknowledgedBatchId]);return r.G(xs,f).next(m=>L.forEach(m,p=>{ft(p.userId===u.userId);const y=Ds(this.serializer,p);return zT(t,u.userId,y).next(()=>{})}))}))}ui(t){const n=t.store(tl),r=t.store(ws);return t.store(Os).get(ih).next(l=>{const u=[];return r.Z((f,m)=>{const p=new $t(f),y=function(b){return[0,Xe(b)]}(p);u.push(n.get(y).next(A=>A?L.resolve():(b=>n.put({targetId:0,path:Xe(b),sequenceNumber:l.highestListenSequenceNumber}))(p)))}).next(()=>L.waitFor(u))})}ci(t,n){t.createObjectStore(Yo,{keyPath:f1});const r=n.store(Yo),l=new Jm,u=f=>{if(l.add(f)){const m=f.lastSegment(),p=f.popLast();return r.put({collectionId:m,parent:Xe(p)})}};return n.store(ws).Z({Y:!0},(f,m)=>{const p=new $t(f);return u(p.popLast())}).next(()=>n.store(Ja).Z({Y:!0},([f,m,p],y)=>{const A=hi(m);return u(A.popLast())}))}li(t){const n=t.store(Wa);return n.Z((r,l)=>{const u=xo(l),f=NT(this.serializer,u);return n.put(f)})}hi(t,n){const r=n.store(ws),l=[];return r.Z((u,f)=>{const m=n.store(nh),p=function(b){return b.document?new et($t.fromString(b.document.name).popFirst(5)):b.noDocument?et.fromSegments(b.noDocument.path):b.unknownDocument?et.fromSegments(b.unknownDocument.path):lt()}(f).path.toArray(),y={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};l.push(m.put(y))}).next(()=>L.waitFor(l))}Pi(t,n){const r=n.store(Qn),l=GT(this.serializer),u=new tg(Mh.ri,this.serializer.Tt);return r.G().next(f=>{const m=new Map;return f.forEach(p=>{var y;let A=(y=m.get(p.userId))!==null&&y!==void 0?y:Dt();Ds(this.serializer,p).keys().forEach(b=>A=A.add(b)),m.set(p.userId,A)}),L.forEach(m,(p,y)=>{const A=new je(y),b=Nh.It(this.serializer,A),M=u.getIndexManager(A),q=Oh.It(A,this.serializer,M,u.referenceDelegate);return new FT(l,q,b,M).recalculateAndSaveOverlaysForDocumentKeys(new cm(n,zn.ae),p).next()})})}}function Lv(a){a.createObjectStore(tl,{keyPath:c1}).createIndex(Pm,h1,{unique:!0}),a.createObjectStore(Wa,{keyPath:"targetId"}).createIndex(ME,u1,{unique:!0}),a.createObjectStore(Os)}const xr="IndexedDbPersistence",Yd=18e5,Xd=5e3,Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XR="main";class eg{constructor(t,n,r,l,u,f,m,p,y,A,b=17){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ti=u,this.window=f,this.document=m,this.Ii=y,this.Ei=A,this.di=b,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!eg.D())throw new at(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UR(this,l),this.gi=n+XR,this.serializer=new xT(p),this.pi=new Lr(this.gi,this.di,new YR(this.serializer)),this.jr=new RR,this.Hr=new OR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GT(this.serializer),this.Yr=new bR,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,A===!1&&nn(xr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(K.FAILED_PRECONDITION,Zd);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Hr.getHighestSequenceNumber(t))}).then(t=>{this.Gr=new zn(t,this.Ii)}).then(()=>{this.zr=!0}).catch(t=>(this.pi&&this.pi.close(),Promise.reject(t)))}Ci(t){return this.fi=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.pi.k(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Uc(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(t).next(n=>{n||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(t)).next(n=>this.isPrimary&&!n?this.xi(t).next(()=>!1):!!n&&this.Oi(t).next(()=>!0))).catch(t=>{if(Hr(t))return $(xr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $(xr,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ti.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Fi(t){return Io(t).get(Pa).next(n=>L.resolve(this.Ni(n)))}Bi(t){return Uc(t).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Yd)){this.mi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ve(n,el);return r.G().next(l=>{const u=this.qi(l,Yd),f=l.filter(m=>u.indexOf(m)===-1);return L.forEach(f,m=>r.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(this.yi)for(const n of t)this.yi.removeItem(this.Qi(n.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(t){return!!t&&t.ownerId===this.clientId}Mi(t){return this.Ei?L.resolve(!0):Io(t).get(Pa).next(n=>{if(n!==null&&this.ki(n.leaseTimestampMs,Xd)&&!this.$i(n.ownerId)){if(this.Ni(n)&&this.networkEnabled)return!0;if(!this.Ni(n)){if(!n.allowTabSynchronization)throw new at(K.FAILED_PRECONDITION,Zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(t).G().next(r=>this.qi(r,Xd).find(l=>{if(this.clientId!==l.clientId){const u=!this.networkEnabled&&l.networkEnabled,f=!this.inForeground&&l.inForeground,m=this.networkEnabled===l.networkEnabled;if(u||f&&m)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$(xr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[iu,el],t=>{const n=new cm(t,zn.ae);return this.xi(n).next(()=>this.Bi(n))}),this.pi.close(),this.Gi()}qi(t,n){return t.filter(r=>this.ki(r.updateTimeMs,n)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",t=>Uc(t).G().next(n=>this.qi(n,Yd).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(t,n){return Oh.It(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new NR(t,this.serializer.Tt.databaseId)}getDocumentOverlayCache(t){return Nh.It(this.serializer,t)}getBundleCache(){return this.Yr}runTransaction(t,n,r){$(xr,"Starting transaction:",t);const l=n==="readonly"?"readonly":"readwrite",u=function(p){return p===17?D1:p===16?I1:p===15?Lm:p===14?kE:p===13?BE:p===12?w1:p===11?LE:void lt()}(this.di);let f;return this.pi.runTransaction(t,l,u,m=>(f=new cm(m,this.Gr?this.Gr.next():zn.ae),n==="readwrite-primary"?this.Fi(f).next(p=>!!p||this.Mi(f)).next(p=>{if(!p)throw nn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new at(K.FAILED_PRECONDITION,VE);return r(f)}).next(p=>this.Oi(f).next(()=>p)):this.ji(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}ji(t){return Io(t).get(Pa).next(n=>{if(n!==null&&this.ki(n.leaseTimestampMs,Xd)&&!this.$i(n.ownerId)&&!this.Ni(n)&&!(this.Ei||this.allowTabSynchronization&&n.allowTabSynchronization))throw new at(K.FAILED_PRECONDITION,Zd)})}Oi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Io(t).put(Pa,n)}static D(){return Lr.D()}xi(t){const n=Io(t);return n.get(Pa).next(r=>this.Ni(r)?($(xr,"Releasing primary lease."),n.delete(Pa)):L.resolve())}ki(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(nn(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const n=/(?:Version|Mobile)\/1[456]/;cE()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(t){var n;try{const r=((n=this.yi)===null||n===void 0?void 0:n.getItem(this.Qi(t)))!==null;return $(xr,`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nn(xr,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(t){nn("Failed to set zombie client id.",t)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Io(a){return Ve(a,iu)}function Uc(a){return Ve(a,el)}function ZR(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=l}static Yi(t,n){let r=Dt(),l=Dt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ng(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cE()?8:xE(Zc())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,l,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $R;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,r,l){return r.documentReadCount<this.es?(qa()<=zt.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),L.resolve()):(qa()<=zt.DEBUG&&$("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(qa()<=zt.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bn(n))):L.resolve())}rs(t,n){if(uv(n))return L.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=pm(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=Dt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,pm(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,r,l){return uv(n)||l.isEqual(gt.min())?L.resolve(null):this.ns.getDocuments(t,r).next(u=>{const f=this.cs(n,u);return this.ls(n,f,r,l)?L.resolve(null):(qa()<=zt.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(n)),this.hs(t,f,n,$b(l,Ho)).next(m=>m))})}cs(t,n){let r=new Ft(sT(t));return n.forEach((l,u)=>{su(t,u)&&(r=r.add(u))}),r}ls(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,r){return qa()<=zt.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ns.getDocumentsMatchingQuery(t,n,vn.min(),r)}hs(t,n,r,l){return this.ns.getDocumentsMatchingQuery(t,r,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",JR=3e8;class WR{constructor(t,n,r,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ee(At),this.Is=new Fi(u=>zs(u),ru),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function QT(a,t,n,r){return new WR(a,t,n,r)}async function YT(a,t){const n=Et(a);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let p=Dt();for(const y of l){f.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}for(const y of u){m.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(r,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function tw(a,t){const n=Et(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,A){const b=y.batch,M=b.keys();let q=L.resolve();return M.forEach(Y=>{q=q.next(()=>A.getEntry(p,Y)).next(J=>{const X=y.docVersions.get(Y);ft(X!==null),J.version.compareTo(X)<0&&(b.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),A.addEntry(J)))})}),q.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,r,t,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let p=Dt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(r,l))})}function XT(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function ew(a,t){const n=Et(a),r=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((A,b)=>{const M=l.get(b);if(!M)return;m.push(n.Hr.removeMatchingKeys(u,A.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,A.addedDocuments,b)));let q=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(Te.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),l=l.insert(b,q),function(J,X,yt){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=JR?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(M,q,A)&&m.push(n.Hr.updateTargetData(u,q))});let p=yn(),y=Dt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(nw(u,f,t.documentUpdates).next(A=>{p=A.Vs,y=A.fs})),!r.isEqual(gt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return L.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=l,u))}function nw(a,t,n){let r=Dt(),l=Dt();return n.forEach(u=>r=r.add(u)),t.getEntries(a,r).next(u=>{let f=yn();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(gt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):$(ig,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function iw(a,t){const n=Et(a);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ns),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rw(a,t){const n=Et(a);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Hr.getTargetData(r,t).next(u=>u?(l=u,L.resolve(l)):n.Hr.allocateTargetId(r).next(f=>(l=new qi(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function bm(a,t,n){const r=Et(a),l=r.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Hr(f))throw f;$(ig,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ts=r.Ts.remove(t),r.Is.delete(l.target)}function Bv(a,t,n){const r=Et(a);let l=gt.min(),u=Dt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,A){const b=Et(p),M=b.Is.get(A);return M!==void 0?L.resolve(b.Ts.get(M)):b.Hr.getTargetData(y,A)}(r,f,Bn(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(f,t,n?l:gt.min(),n?u:Dt())).next(m=>(sw(r,G1(t),m),{documents:m,gs:u})))}function sw(a,t,n){let r=a.Es.get(t)||gt.min();n.forEach((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),a.Es.set(t,r)}class kv{constructor(){this.activeTargetIds=Z1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZT{constructor(){this.ho=new kv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new kv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="ConnectivityMonitor";class jv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(qv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){$(qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Rm(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ow{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===Zo?`project_id=${r}`:`project_id=${r}&database_id=${l}`}So(t,n,r,l,u){const f=Rm(),m=this.bo(t,n.toUriEncodedString());$($d,`Sending RPC '${t}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(t,m,p,r).then(y=>($($d,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Za($d,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",r),y})}Co(t,n,r,l,u,f){return this.So(t,n,r,l,u)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),r&&r.headers.forEach((l,u)=>t[u]=l)}bo(t,n){const r=lw[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class cw extends ow{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,l){const u=Rm();return new Promise((f,m)=>{const p=new EE;p.setWithCredentials(!0),p.listenOnce(TE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lc.NO_ERROR:const A=p.getResponseJson();$(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),f(A);break;case Lc.TIMEOUT:$(Qe,`RPC '${t}' ${u} timed out`),m(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const b=p.getStatus();if($(Qe,`RPC '${t}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const q=M==null?void 0:M.error;if(q&&q.status&&q.message){const Y=function(X){const yt=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN}(q.status);m(new at(Y,q.message))}else m(new at(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new at(K.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{$(Qe,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);$(Qe,`RPC '${t}' ${u} sending request:`,l),p.send(n,"POST",y,r,15)})}Wo(t,n,r){const l=Rm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=bE(),m=SE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const A=u.join("");$(Qe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const b=f.createWebChannel(A,p);let M=!1,q=!1;const Y=new uw({Fo:X=>{q?$(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(M||($(Qe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),M=!0),$(Qe,`RPC '${t}' stream ${l} sending:`,X),b.send(X))},Mo:()=>b.close()}),J=(X,yt,ot)=>{X.listen(yt,st=>{try{ot(st)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return J(b,Do.EventType.OPEN,()=>{q||($(Qe,`RPC '${t}' stream ${l} transport opened.`),Y.Qo())}),J(b,Do.EventType.CLOSE,()=>{q||(q=!0,$(Qe,`RPC '${t}' stream ${l} transport closed`),Y.Ko())}),J(b,Do.EventType.ERROR,X=>{q||(q=!0,Za(Qe,`RPC '${t}' stream ${l} transport errored:`,X),Y.Ko(new at(K.UNAVAILABLE,"The operation could not be completed")))}),J(b,Do.EventType.MESSAGE,X=>{var yt;if(!q){const ot=X.data[0];ft(!!ot);const st=ot,Rt=(st==null?void 0:st.error)||((yt=st[0])===null||yt===void 0?void 0:yt.error);if(Rt){$(Qe,`RPC '${t}' stream ${l} received error:`,Rt);const ct=Rt.status;let _t=function(S){const D=Ee[S];if(D!==void 0)return yT(D)}(ct),x=Rt.message;_t===void 0&&(_t=K.INTERNAL,x="Unknown error status: "+ct+" with message "+Rt.message),q=!0,Y.Ko(new at(_t,x)),b.close()}else $(Qe,`RPC '${t}' stream ${l} received:`,ot),Y.Uo(ot)}}),J(m,AE.STAT_EVENT,X=>{X.stat===sm.PROXY?$(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===sm.NOPROXY&&$(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof window<"u"?window:null}function Qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(a){return new dR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-r);l>0&&$("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class JT{constructor(t,n,r,l,u,f,m,p){this.Ti=t,this.n_=r,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $T(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===n&&this.V_(r,l)},r=>{t(()=>{const l=new at(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return $(Hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():($(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fw extends JT{constructor(t,n,r,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=pR(this.serializer,t),r=function(u){if(!("targetChange"in u))return gt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?gt.min():f.readTime?rn(f.readTime):gt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=vm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=lh(p)?{documents:RT(u,p)}:{query:wT(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ET(u,f.resumeToken);const y=ym(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(gt.min())>0){m.readTime=ol(u,f.snapshotVersion.toTimestamp());const y=ym(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const r=_R(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=vm(this.serializer),n.removeTarget=t,this.I_(n)}}class dw extends JT{constructor(t,n,r,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return ft(!!t.streamToken),this.lastStreamToken=t.streamToken,ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=yR(t.writeResults,t.commitTime),r=rn(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=vm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>ch(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class gw extends mw{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,_m(n,r),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at(K.UNKNOWN,u.toString())})}Co(t,n,r,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,_m(n,r),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(K.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nn(n),this.N_=!1):$("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class yw{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{r.enqueueAndForget(async()=>{Gs(this)&&($(qs,"Restarting streams for network reachability change."),await async function(p){const y=Et(p);y.W_.add(4),await lu(y),y.j_.set("Unknown"),y.W_.delete(4),await Uh(y)}(this))})}),this.j_=new pw(r,l)}}async function Uh(a){if(Gs(a))for(const t of a.G_)await t(!0)}async function lu(a){for(const t of a.G_)await t(!1)}function WT(a,t){const n=Et(a);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),lg(n)?ag(n):ml(n).c_()&&sg(n,t))}function rg(a,t){const n=Et(a),r=ml(n);n.U_.delete(t),r.c_()&&t0(n,t),n.U_.size===0&&(r.c_()?r.P_():Gs(n)&&n.j_.set("Unknown"))}function sg(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ml(a).y_(t)}function t0(a,t){a.H_.Ne(t),ml(a).w_(t)}function ag(a){a.H_=new uR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.U_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),ml(a).start(),a.j_.B_()}function lg(a){return Gs(a)&&!ml(a).u_()&&a.U_.size>0}function Gs(a){return Et(a).W_.size===0}function e0(a){a.H_=void 0}async function _w(a){a.j_.set("Online")}async function vw(a){a.U_.forEach((t,n)=>{sg(a,t)})}async function Ew(a,t){e0(a),lg(a)?(a.j_.q_(t),ag(a)):a.j_.set("Unknown")}async function Tw(a,t,n){if(a.j_.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.U_.delete(m),l.H_.removeTarget(m))}(a,t)}catch(r){$(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gh(a,r)}else if(t instanceof Kc?a.H_.We(t):t instanceof _T?a.H_.Ze(t):a.H_.je(t),!n.isEqual(gt.min()))try{const r=await XT(a.localStore);n.compareTo(r)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const A=u.U_.get(y);A&&u.U_.set(y,A.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const A=u.U_.get(p);if(!A)return;u.U_.set(p,A.withResumeToken(Te.EMPTY_BYTE_STRING,A.snapshotVersion)),t0(u,p);const b=new qi(A.target,p,y,A.sequenceNumber);sg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(a,n)}catch(r){$(qs,"Failed to raise snapshot:",r),await gh(a,r)}}async function gh(a,t,n){if(!Hr(t))throw t;a.W_.add(1),await lu(a),a.j_.set("Offline"),n||(n=()=>XT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{$(qs,"Retrying IndexedDB access"),await n(),a.W_.delete(1),await Uh(a)})}function n0(a,t){return t().catch(n=>gh(a,n,t))}async function ou(a){const t=Et(a),n=qr(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Ns;for(;Aw(t);)try{const l=await iw(t.localStore,r);if(l===null){t.K_.length===0&&n.P_();break}r=l.batchId,Sw(t,l)}catch(l){await gh(t,l)}i0(t)&&r0(t)}function Aw(a){return Gs(a)&&a.K_.length<10}function Sw(a,t){a.K_.push(t);const n=qr(a);n.c_()&&n.S_&&n.b_(t.mutations)}function i0(a){return Gs(a)&&!qr(a).u_()&&a.K_.length>0}function r0(a){qr(a).start()}async function bw(a){qr(a).C_()}async function Rw(a){const t=qr(a);for(const n of a.K_)t.b_(n.mutations)}async function ww(a,t,n){const r=a.K_.shift(),l=Qm.from(r,t,n);await n0(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await ou(a)}async function Iw(a,t){t&&qr(a).S_&&await async function(r,l){if(function(f){return aR(f)&&f!==K.ABORTED}(l.code)){const u=r.K_.shift();qr(r).h_(),await n0(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l)),await ou(r)}}(a,t),i0(a)&&r0(a)}async function Gv(a,t){const n=Et(a);n.asyncQueue.verifyOperationInProgress(),$(qs,"RemoteStore received new credentials");const r=Gs(n);n.W_.add(3),await lu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Uh(n)}async function Dw(a,t){const n=Et(a);t?(n.W_.delete(2),await Uh(n)):t||(n.W_.add(2),await lu(n),n.j_.set("Unknown"))}function ml(a){return a.J_||(a.J_=function(n,r,l){const u=Et(n);return u.M_(),new fw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{xo:_w.bind(null,a),No:vw.bind(null,a),Lo:Ew.bind(null,a),p_:Tw.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),lg(a)?ag(a):a.j_.set("Unknown")):(await a.J_.stop(),e0(a))})),a.J_}function qr(a){return a.Y_||(a.Y_=function(n,r,l){const u=Et(n);return u.M_(),new dw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:bw.bind(null,a),Lo:Iw.bind(null,a),D_:Rw.bind(null,a),v_:ww.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await ou(a)):(await a.Y_.stop(),a.K_.length>0&&($(qs,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const f=Date.now()+r,m=new og(t,n,f,l,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(a,t){if(nn("AsyncQueue",`${t}: ${a}`),Hr(a))return new at(K.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Vo(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.Z_=new ee(et.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):lt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ul{constructor(t,n,r,l,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ul(t,n,Ya.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Cw{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const l=Et(n),u=l.queries;l.queries=Kv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(r)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Kv(){return new Fi(a=>rT(a),Dh)}async function xw(a,t){const n=Et(a);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(r=2):(u=new Vw,r=t.ra()?0:1);try{switch(r){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=ug(f,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&cg(n)}async function Nw(a,t){const n=Et(a),r=t.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ow(a,t){const n=Et(a);let r=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(r=!0);f.ea=l}}r&&cg(n)}function Mw(a,t,n){const r=Et(a),l=r.queries.get(t);if(l)for(const u of l.ta)u.onError(n);r.queries.delete(t)}function cg(a){a.ia.forEach(t=>{t.next()})}var wm,Qv;(Qv=wm||(wm={}))._a="default",Qv.Cache="cache";class Pw{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ul(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.key=t}}class a0{constructor(t){this.key=t}}class Uw{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=sT(t),this.wa=new Ya(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Fv,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,b)=>{const M=l.get(A),q=su(this.query,b)?b:null,Y=!!M&&this.mutatedKeys.has(M.key),J=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let X=!1;M&&q?M.data.isEqual(q.data)?Y!==J&&(r.track({type:3,doc:q}),X=!0):this.va(M,q)||(r.track({type:2,doc:q}),X=!0,(p&&this.ya(q,p)>0||y&&this.ya(q,y)<0)&&(m=!0)):!M&&q?(r.track({type:0,doc:q}),X=!0):M&&!q&&(r.track({type:1,doc:M}),X=!0,(p||y)&&(m=!0)),X&&(q?(f=f.add(q),u=J?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{wa:f,Da:r,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,b)=>function(q,Y){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return J(q)-J(Y)}(A.type,b.type)||this.ya(A.doc,b.doc)),this.Ca(r),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new ul(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Dt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new a0(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new s0(r))}),n}Oa(t){this.fa=t.gs,this.pa=Dt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ul.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class zw{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Lw{constructor(t){this.key=t,this.Ba=!1}}class Bw{constructor(t,n,r,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Fi(m=>rT(m),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new ee(et.comparator),this.Ka=new Map,this.Ua=new Wm,this.Wa={},this.Ga=new Map,this.za=ks.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kw(a,t,n=!0){const r=f0(a);let l;const u=r.ka.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await l0(r,t,n,!0),l}async function qw(a,t){const n=f0(a);await l0(n,t,!0,!1)}async function l0(a,t,n,r){const l=await rw(a.localStore,Bn(t)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await jw(a,t,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&WT(a.remoteStore,l),m}async function jw(a,t,n,r,l){a.Ha=(b,M,q)=>async function(J,X,yt,ot){let st=X.view.ba(yt);st.ls&&(st=await Bv(J.localStore,X.query,!1).then(({documents:x})=>X.view.ba(x,st)));const Rt=ot&&ot.targetChanges.get(X.targetId),ct=ot&&ot.targetMismatches.get(X.targetId)!=null,_t=X.view.applyChanges(st,J.isPrimaryClient,Rt,ct);return Xv(J,X.targetId,_t.Ma),_t.snapshot}(a,b,M,q);const u=await Bv(a.localStore,t,!0),f=new Uw(t,u.gs),m=f.ba(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",l),y=f.applyChanges(m,a.isPrimaryClient,p);Xv(a,n,y.Ma);const A=new zw(t,n,f);return a.ka.set(t,A),a.qa.has(n)?a.qa.get(n).push(t):a.qa.set(n,[t]),y.snapshot}async function Hw(a,t,n){const r=Et(a),l=r.ka.get(t),u=r.qa.get(l.targetId);if(u.length>1)return r.qa.set(l.targetId,u.filter(f=>!Dh(f,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&rg(r.remoteStore,l.targetId),Im(r,l.targetId)}).catch(js)):(Im(r,l.targetId),await bm(r.localStore,l.targetId,!0))}async function Gw(a,t){const n=Et(a),r=n.ka.get(t),l=n.qa.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rg(n.remoteStore,r.targetId))}async function Fw(a,t,n){const r=d0(a);try{const l=await function(f,m){const p=Et(f),y=ae.now(),A=m.reduce((q,Y)=>q.add(Y.key),Dt());let b,M;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Y=yn(),J=Dt();return p.ds.getEntries(q,A).next(X=>{Y=X,Y.forEach((yt,ot)=>{ot.isValidDocument()||(J=J.add(yt))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,Y)).next(X=>{b=X;const yt=[];for(const ot of m){const st=rR(ot,b.get(ot.key).overlayedDocument);st!=null&&yt.push(new Gr(ot.key,st,ZE(st.value.mapValue),_n.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,yt,m)}).next(X=>{M=X;const yt=X.applyToLocalDocumentSet(b,J);return p.documentOverlayCache.saveOverlays(q,X.batchId,yt)})}).then(()=>({batchId:M.batchId,changes:lT(b)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ee(At)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(r,l.batchId,n),await uu(r,l.changes),await ou(r.remoteStore)}catch(l){const u=ug(l,"Failed to persist write");n.reject(u)}}async function o0(a,t){const n=Et(a);try{const r=await ew(n.localStore,t);t.targetChanges.forEach((l,u)=>{const f=n.Ka.get(u);f&&(ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?ft(f.Ba):l.removedDocuments.size>0&&(ft(f.Ba),f.Ba=!1))}),await uu(n,r,t)}catch(r){await js(r)}}function Yv(a,t,n){const r=Et(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Et(f);p.onlineState=m;let y=!1;p.queries.forEach((A,b)=>{for(const M of b.ta)M.sa(m)&&(y=!0)}),y&&cg(p)}(r.eventManager,t),l.length&&r.La.p_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kw(a,t,n){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Ka.get(t),u=l&&l.key;if(u){let f=new ee(et.comparator);f=f.insert(u,fe.newNoDocument(u,gt.min()));const m=Dt().add(u),p=new xh(gt.min(),new Map,new ee(At),f,m);await o0(r,p),r.$a=r.$a.remove(u),r.Ka.delete(t),fg(r)}else await bm(r.localStore,t,!1).then(()=>Im(r,t,n)).catch(js)}async function Qw(a,t){const n=Et(a),r=t.batch.batchId;try{const l=await tw(n.localStore,t);c0(n,r,null),u0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,l)}catch(l){await js(l)}}async function Yw(a,t,n){const r=Et(a);try{const l=await function(f,m){const p=Et(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(ft(b!==null),A=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,A,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>p.localDocuments.getDocuments(y,A))})}(r.localStore,t);c0(r,t,n),u0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await uu(r,l)}catch(l){await js(l)}}function u0(a,t){(a.Ga.get(t)||[]).forEach(n=>{n.resolve()}),a.Ga.delete(t)}function c0(a,t,n){const r=Et(a);let l=r.Wa[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Wa[r.currentUser.toKey()]=l}}function Im(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.qa.get(t))a.ka.delete(r),n&&a.La.Ja(r,n);a.qa.delete(t),a.isPrimaryClient&&a.Ua.br(t).forEach(r=>{a.Ua.containsKey(r)||h0(a,r)})}function h0(a,t){a.Qa.delete(t.path.canonicalString());const n=a.$a.get(t);n!==null&&(rg(a.remoteStore,n),a.$a=a.$a.remove(t),a.Ka.delete(n),fg(a))}function Xv(a,t,n){for(const r of n)r instanceof s0?(a.Ua.addReference(r.key,t),Xw(a,r)):r instanceof a0?($(hg,"Document no longer in limbo: "+r.key),a.Ua.removeReference(r.key,t),a.Ua.containsKey(r.key)||h0(a,r.key)):lt()}function Xw(a,t){const n=t.key,r=n.path.canonicalString();a.$a.get(n)||a.Qa.has(r)||($(hg,"New document in limbo: "+n),a.Qa.add(r),fg(a))}function fg(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const n=new et($t.fromString(t)),r=a.za.next();a.Ka.set(r,new Lw(n)),a.$a=a.$a.insert(n,r),WT(a.remoteStore,new qi(Bn(Ih(n.path)),r,"TargetPurposeLimboResolution",zn.ae))}}async function uu(a,t,n){const r=Et(a),l=[],u=[],f=[];r.ka.isEmpty()||(r.ka.forEach((m,p)=>{f.push(r.Ha(p,t,n).then(y=>{var A;if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=ng.Yi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),r.La.p_(l),await async function(p,y){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>L.forEach(y,M=>L.forEach(M.Hi,q=>A.persistence.referenceDelegate.addReference(b,M.targetId,q)).next(()=>L.forEach(M.Ji,q=>A.persistence.referenceDelegate.removeReference(b,M.targetId,q)))))}catch(b){if(!Hr(b))throw b;$(ig,"Failed to update sequence numbers: "+b)}for(const b of y){const M=b.targetId;if(!b.fromCache){const q=A.Ts.get(M),Y=q.snapshotVersion,J=q.withLastLimboFreeSnapshotVersion(Y);A.Ts=A.Ts.insert(M,J)}}}(r.localStore,u))}async function Zw(a,t){const n=Et(a);if(!n.currentUser.isEqual(t)){$(hg,"User change. New user:",t.toKey());const r=await YT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new at(K.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Rs)}}function $w(a,t){const n=Et(a),r=n.Ka.get(t);if(r&&r.Ba)return Dt().add(r.key);{let l=Dt();const u=n.qa.get(t);if(!u)return l;for(const f of u){const m=n.ka.get(f);l=l.unionWith(m.view.Sa)}return l}}function f0(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$w.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kw.bind(null,t),t.La.p_=Ow.bind(null,t.eventManager),t.La.Ja=Mw.bind(null,t.eventManager),t}function d0(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yw.bind(null,t),t}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return QT(this.persistence,new KT,t.initialUser,this.serializer)}Xa(t){return new tg(Mh.ri,this.serializer)}Za(t){return new ZT}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class Jw extends eu{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){ft(this.persistence.referenceDelegate instanceof mh);const r=this.persistence.referenceDelegate.garbageCollector;return new qT(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Ye.withCacheSize(this.cacheSizeBytes):Ye.DEFAULT;return new tg(r=>mh.ri(r,n),this.serializer)}}class Ww extends eu{constructor(t,n,r){super(),this.ru=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.ru.initialize(this,t),await d0(this.ru.syncEngine),await ou(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(t){return QT(this.persistence,new KT,t.initialUser,this.serializer)}tu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new qT(r,t.asyncQueue,n)}nu(t,n){const r=new e1(n,this.persistence);return new t1(t.asyncQueue,r)}Xa(t){const n=ZR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ye.withCacheSize(this.cacheSizeBytes):Ye.DEFAULT;return new eg(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,hw(),Qc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(t){return new ZT}}class ph{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zw.bind(null,this.syncEngine),await Dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Cw}()}createDatastore(t){const n=Ph(t.databaseInfo.databaseId),r=function(u){return new cw(u)}(t.databaseInfo);return function(u,f,m,p){return new gw(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,l,u,f,m){return new yw(r,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Yv(this.syncEngine,n,0),function(){return jv.D()?new jv:new aw}())}createSyncEngine(t,n){return function(l,u,f,m,p,y,A){const b=new Bw(l,u,f,m,p,y);return A&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Et(l);$(qs,"RemoteStore shutting down."),u.W_.add(5),await lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ph.provider={build:()=>new ph};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):nn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class eI{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=je.UNAUTHENTICATED,this.clientId=wE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{$(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>($(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Jd(a,t){a.asyncQueue.verifyOperationInProgress(),$(jr,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener(async l=>{r.isEqual(l)||(await YT(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Zv(a,t){a.asyncQueue.verifyOperationInProgress();const n=await nI(a);$(jr,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener(r=>Gv(t.remoteStore,r)),a.setAppCheckTokenChangeListener((r,l)=>Gv(t.remoteStore,l)),a._onlineComponents=t}async function nI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){$(jr,"Using user provided OfflineComponentProvider");try{await Jd(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Jd(a,new eu)}}else $(jr,"Using default OfflineComponentProvider"),await Jd(a,new Jw(void 0));return a._offlineComponents}async function m0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?($(jr,"Using user provided OnlineComponentProvider"),await Zv(a,a._uninitializedComponentsProvider._online)):($(jr,"Using default OnlineComponentProvider"),await Zv(a,new ph))),a._onlineComponents}function iI(a){return m0(a).then(t=>t.syncEngine)}async function $v(a){const t=await m0(a),n=t.eventManager;return n.onListen=kw.bind(null,t.syncEngine),n.onUnlisten=Hw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Gw.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(a,t,n){if(!n)throw new at(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function sI(a,t,n,r){if(t===!0&&r===!0)throw new at(K.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function Wv(a){if(!et.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function dg(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":lt()}function Xa(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dg(a);throw new at(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="firestore.googleapis.com",tE=!0;class eE{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p0,this.ssl=tE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:tE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kT)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mg{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hb;switch(r.type){case"firstParty":return new Qb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jv.get(n);r&&($("ComponentProvider","Removing Datastore"),Jv.delete(n),r.terminate())}(this),Promise.resolve()}}function aI(a,t,n,r={}){var l;const u=(a=Xa(a,mg))._getSettings(),f=`${t}:${n}`;if(u.host!==p0&&u.host!==f&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),r.mockUserToken){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=je.MOCK_USER;else{m=bS(r.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new je(y)}a._authCredentials=new Gb(new RE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zh(this.firestore,t,this._query)}}class kn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kn(this.firestore,t,this._key)}}class nu extends zh{constructor(t,n,r){super(t,n,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kn(this.firestore,null,new et(t))}withConverter(t){return new nu(this.firestore,t,this._path)}}function y0(a,t,...n){if(a=ko(a),arguments.length===1&&(t=wE.newId()),rI("doc","path",t),a instanceof mg){const r=$t.fromString(t,...n);return Wv(r),new kn(a,null,new et(r))}{if(!(a instanceof kn||a instanceof nu))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child($t.fromString(t,...n));return Wv(r),new kn(a.firestore,a instanceof nu?a.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class iE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $T(this,"async_queue_retry"),this.Su=()=>{const r=Qc();r&&$(nE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=Qc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Hr(t))throw t;$(nE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(r);throw nn("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=og.createAndSchedule(this,t,n,r,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&lt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function rE(a){return function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1}(a,["next","error","complete"])}class yh extends mg{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new iE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iE(t),this._firestoreClient=void 0,await t}}}function lI(a,t,n){n||(n=Zo);const r=pE(a,"firestore");if(r.isInitialized(n)){const l=r.getImmediate({identifier:n}),u=r.getOptions(n);if($c(u,t))return l;throw new at(K.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new at(K.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kT)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function oI(a,t){const n=typeof a=="object"?a:Cb(),r=typeof a=="string"?a:Zo,l=pE(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=AS("firestore");u&&aI(l,...u)}return l}function _0(a){if(a._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uI(a),a._firestoreClient}function uI(a){var t,n,r;const l=a._freezeSettings(),u=function(m,p,y,A){return new C1(m,p,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,g0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new eI(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cl(Te.fromBase64String(t))}catch(n){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cl(Te.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=/^__.*__$/;class hI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms):new dl(t,this.data,n,this.fieldTransforms)}}function E0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class _g{constructor(t,n,r,l,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:r,Qu:!1});return l.$u(t),l}Ku(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return _h(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(E0(this.Lu)&&cI.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class fI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(t)}ju(t,n,r,l=!1){return new _g({Lu:t,methodName:n,zu:r,path:se.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dI(a){const t=a._freezeSettings(),n=Ph(a._databaseId);return new fI(a._databaseId,!!t.ignoreUndefinedProperties,n)}function mI(a,t,n,r,l,u={}){const f=a.ju(u.merge||u.mergeFields?2:0,t,n,l);b0("Data must be an object, but it was:",f,r);const m=A0(r,f);let p,y;if(u.merge)p=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const M=gI(t,b,n);if(!f.contains(M))throw new at(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);yI(A,M)||A.push(M)}p=new Ln(A),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new hI(new on(m),p,y)}function T0(a,t){if(S0(a=ko(a)))return b0("Unsupported field value:",t,a),A0(a,t);if(a instanceof v0)return function(r,l){if(!E0(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,l){const u=[];let f=0;for(const m of r){let p=T0(m,l.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(a,t)}return function(r,l){if((r=ko(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $1(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:ol(l.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ol(l.serializer,u)}}if(r instanceof pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cl)return{bytesValue:ET(l.serializer,r._byteString)};if(r instanceof kn){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof yg)return function(f,m){return{mapValue:{fields:{[km]:{stringValue:qm},[nl]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Gm(m.serializer,y)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${dg(r)}`)}(a,t)}function A0(a,t){const n={};return qE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(a,(r,l)=>{const u=T0(l,t.qu(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function S0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ae||a instanceof pg||a instanceof cl||a instanceof kn||a instanceof v0||a instanceof yg)}function b0(a,t,n){if(!S0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const r=dg(n);throw r==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+r)}}function gI(a,t,n){if((t=ko(t))instanceof gg)return t._internalPath;if(typeof t=="string")return R0(a,t);throw _h("Field path arguments must be of type string or ",a,!1,void 0,n)}const pI=new RegExp("[~\\*/\\[\\]]");function R0(a,t,n){if(t.search(pI)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new gg(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function _h(a,t,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new at(K.INVALID_ARGUMENT,m+a+p)}function yI(a,t){return a.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(I0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _I extends w0{data(){return super.data()}}function I0(a,t){return typeof t=="string"?R0(a,t):t instanceof gg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Hs(t,(l,u)=>{r[l]=this.convertValue(u,n)}),r}convertVectorValue(t){var n,r,l;const u=(l=(r=(n=t.fields)===null||n===void 0?void 0:n[nl].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(f=>te(f.doubleValue));return new yg(u)}convertGeoPoint(t){return new pg(te(t.latitude),te(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=bh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xo(t));default:return null}}convertTimestamp(t){const n=Hi(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$t.fromString(t);ft(CT(r));const l=new Us(r.get(1),r.get(3)),u=new et(r.popFirst(5));return l.isEqual(n)||nn(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(a,t,n){let r;return r=a?n&&(n.merge||n.mergeFields)?a.toFirestore(t,n):a.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class D0 extends w0{constructor(t,n,r,l,u,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(I0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends D0{data(t={}){return super.data(t)}}class AI{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new No(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const p=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new No(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new No(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),A=f.indexOf(m.doc.key)),{type:SI(m.type),doc:p,oldIndex:y,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}class V0 extends EI{constructor(t){super(),this.firestore=t}convertBytes(t){return new cl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function bI(a,t,n){a=Xa(a,kn);const r=Xa(a.firestore,yh),l=TI(a.converter,t,n);return wI(r,[mI(dI(r),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,_n.none())])}function RI(a,...t){var n,r,l;a=ko(a);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||rE(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(rE(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),t[f+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let p,y,A;if(a instanceof kn)y=Xa(a.firestore,yh),A=Ih(a._key.path),p={next:b=>{t[f]&&t[f](II(y,a,b))},error:t[f+1],complete:t[f+2]};else{const b=Xa(a,zh);y=Xa(b.firestore,yh),A=b._query;const M=new V0(y);p={next:q=>{t[f]&&t[f](new AI(y,M,b,q))},error:t[f+1],complete:t[f+2]},vI(a._query)}return function(M,q,Y,J){const X=new tI(J),yt=new Pw(q,X,Y);return M.asyncQueue.enqueueAndForget(async()=>xw(await $v(M),yt)),()=>{X.su(),M.asyncQueue.enqueueAndForget(async()=>Nw(await $v(M),yt))}}(_0(y),A,m,p)}function wI(a,t){return function(r,l){const u=new zr;return r.asyncQueue.enqueueAndForget(async()=>Fw(await iI(r),l,u)),u.promise}(_0(a),t)}function II(a,t,n){const r=n.docs.get(t._key),l=new V0(a);return new D0(a,l,t._key,r,new No(n.hasPendingWrites,n.fromCache),t.converter)}class DI{constructor(t){let n;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=xI(),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function VI(a){return new DI(a)}class CI{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=ph.provider,this._offlineComponentProvider={build:n=>new Ww(n,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}}function xI(a){return new CI(void 0)}(function(t,n=!0){(function(l){fl=l})(Vb),Wc(new qo("firestore",(r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new yh(new Fb(r.getProvider("auth-internal")),new Yb(f,r.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(y.options.projectId,A)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Qa(q_,j_,t),Qa(q_,j_,"esm2017")})();function NI({field:a,today:t}){return Yt.jsx(C0,{field:a,today:t,true_value:"⭐️",false_value:"☆"})}function sE({field:a,today:t}){return Yt.jsx(C0,{field:a,today:t,true_value:"✅",false_value:"🔲"})}function C0({field:a,today:t,true_value:n,false_value:r}){return Yt.jsx("div",{className:"row",onClick:()=>{bI(y0(N0,"tick_days",t),{[a]:Ka?!Ka[a]:!0},{merge:!0})},children:Yt.jsx("div",{className:"clickable",children:Ka&&Ka[a]?n:r})})}function Wd({name:a,today:t}){return Yt.jsxs("div",{className:"column",children:[Yt.jsx("div",{className:"row",children:Yt.jsx("h2",{children:a})}),Yt.jsx(sE,{field:a+"_morning",today:t}),Yt.jsx(sE,{field:a+"_afternoon",today:t}),Yt.jsx(NI,{field:a+"_star",today:t})]})}function OI(){return Yt.jsxs("div",{className:"column",children:[Yt.jsx("div",{className:"row"}),Yt.jsx("div",{className:"row",children:Yt.jsx("h3",{children:"AM:"})}),Yt.jsx("div",{className:"row",children:Yt.jsx("h3",{children:"PM:"})}),Yt.jsx("div",{className:"row",children:Yt.jsx("h3",{children:"Star:"})})]})}function MI(){const a=LI(),t=zI(a);return console.log(JSON.stringify(t)),Yt.jsxs(Yt.Fragment,{children:[Yt.jsx("h1",{children:new Date().toLocaleDateString("en-GB",{weekday:"long"})}),Yt.jsxs("div",{className:"horizontal",children:[Yt.jsx(OI,{}),Yt.jsx(Wd,{name:"Florence",today:a}),Yt.jsx(Wd,{name:"Dulcie",today:a}),Yt.jsx(Wd,{name:"Violet",today:a})]})]})}const PI={apiKey:"AIzaSyDsorT71Z-moAoGR7ObZhohFqggfFD8sJs",authDomain:"jones-ticks.firebaseapp.com",projectId:"jones-ticks",storageBucket:"jones-ticks.firebasestorage.app",messagingSenderId:"892338410633",appId:"1:892338410633:web:1566d1dd578fccfe256258"},x0=xm(PI);lI(x0,{localCache:VI({})});const N0=oI(x0);let Ka;function UI(){return Ka}function zI(a){const t=Bo.useCallback(n=>RI(y0(N0,"tick_days",a),r=>{Ka=r.data(),n()}),[a]);return Bo.useSyncExternalStore(t,UI)}function aE(){return new Date().toISOString().split("T")[0]}function LI(){const[a,t]=Bo.useState(aE());return Bo.useEffect(()=>{const n=()=>{document.visibilityState==="visible"&&(console.log("visible"),t(aE()))};return document.addEventListener("visibilitychange",n),()=>document.removeEventListener("visibilitychange",n)},[]),a}const BI={apiKey:"AIzaSyDsorT71Z-moAoGR7ObZhohFqggfFD8sJs",authDomain:"jones-ticks.firebaseapp.com",projectId:"jones-ticks",storageBucket:"jones-ticks.firebasestorage.app",messagingSenderId:"892338410633",appId:"1:892338410633:web:1566d1dd578fccfe256258"};xm(BI);fS.createRoot(document.getElementById("root")).render(Yt.jsx(Bo.StrictMode,{children:Yt.jsx(MI,{})}));
